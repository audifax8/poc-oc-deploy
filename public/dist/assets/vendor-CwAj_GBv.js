var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var n=e.default;if(typeof n=="function"){var i=function t(){var r=!1;try{r=this instanceof t}catch{}return r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};i.prototype=n.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(i,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}),i}function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var browser$1={exports:{}},process=browser$1.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch{try{return cachedSetTimeout.call(null,e,0)}catch{return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch{try{return cachedClearTimeout.call(null,e)}catch{return cachedClearTimeout.call(this,e)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var n=queue.length;n;){for(currentQueue=queue,queue=[];++queueIndex<n;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,n=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}process.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)n[i-1]=arguments[i];queue.push(new Item(e,n)),queue.length===1&&!draining&&runTimeout(drainQueue)};function Item(e,n){this.fun=e,this.array=n}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=!0;process.env={};process.argv=[];process.version="";process.versions={};function noop$1(){}process.on=noop$1;process.addListener=noop$1;process.once=noop$1;process.off=noop$1;process.removeListener=noop$1;process.removeAllListeners=noop$1;process.emit=noop$1;process.prependListener=noop$1;process.prependOnceListener=noop$1;process.listeners=function(e){return[]};process.binding=function(e){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(e){throw new Error("process.chdir is not supported")};process.umask=function(){return 0};var browserExports=browser$1.exports;const process$1=getDefaultExportFromCjs(browserExports);var lodash$1={exports:{}};/**
 * @license
 * lodash 3.10.1 (Custom Build) <https://lodash.com/>
 * Build: `lodash modern -d -o ./index.js`
 * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <https://lodash.com/license>
 */var lodash=lodash$1.exports,hasRequiredLodash;function requireLodash(){return hasRequiredLodash||(hasRequiredLodash=1,(function(e,n){(function(){var i,t="3.10.1",r=1,u=2,s=4,h=8,v=16,o=32,p=64,l=128,g=256,m=30,y="...",b=150,q=16,S=200,x=1,R=2,A="Expected a function",E="__lodash_placeholder__",T="[object Arguments]",I="[object Array]",V="[object Boolean]",G="[object Date]",Q="[object Error]",k="[object Function]",K="[object Map]",P="[object Number]",j="[object Object]",M="[object RegExp]",O="[object Set]",L="[object String]",N="[object WeakMap]",W="[object ArrayBuffer]",X="[object Float32Array]",ie="[object Float64Array]",se="[object Int8Array]",ae="[object Int16Array]",le="[object Int32Array]",Re="[object Uint8Array]",U="[object Uint8ClampedArray]",B="[object Uint16Array]",H="[object Uint32Array]",Y=/\b__p \+= '';/g,Z=/\b(__p \+=) '' \+/g,ee=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ne=/&(?:amp|lt|gt|quot|#39|#96);/g,oe=/[&<>"'`]/g,fe=RegExp(ne.source),ve=RegExp(oe.source),qe=/<%-([\s\S]+?)%>/g,ge=/<%([\s\S]+?)%>/g,Oe=/<%=([\s\S]+?)%>/g,er=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,ar=/^\w*$/,lr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,We=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Cr=RegExp(We.source),br=/[\u0300-\u036f\ufe20-\ufe23]/g,vr=/\\(\\)?/g,fr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ir=/\w*$/,_t=/^0[xX]/,mt=/^\[object .+?Constructor\]$/,aa=/^\d+$/,ua=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Qr=/($^)/,sa=/['\n\r\u2028\u2029\\]/g,oa=(function(){var te="[A-Z\\xc0-\\xd6\\xd8-\\xde]",de="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(te+"+(?="+te+de+")|"+te+"?"+de+"|"+te+"+|[0-9]+","g")})(),ca=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],la=-1,Te={};Te[X]=Te[ie]=Te[se]=Te[ae]=Te[le]=Te[Re]=Te[U]=Te[B]=Te[H]=!0,Te[T]=Te[I]=Te[W]=Te[V]=Te[G]=Te[Q]=Te[k]=Te[K]=Te[P]=Te[j]=Te[M]=Te[O]=Te[L]=Te[N]=!1;var Fe={};Fe[T]=Fe[I]=Fe[W]=Fe[V]=Fe[G]=Fe[X]=Fe[ie]=Fe[se]=Fe[ae]=Fe[le]=Fe[P]=Fe[j]=Fe[M]=Fe[L]=Fe[Re]=Fe[U]=Fe[B]=Fe[H]=!0,Fe[Q]=Fe[k]=Fe[K]=Fe[O]=Fe[N]=!1;var fa={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss"},da={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},ha={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},an={function:!0,object:!0},pa={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},un={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Vr=n&&!n.nodeType&&n,Nr=e&&!e.nodeType&&e,va=Vr&&Nr&&typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object&&commonjsGlobal,ga=an[typeof self]&&self&&self.Object&&self,sn=an[typeof window]&&window&&window.Object&&window,_a=Nr&&Nr.exports===Vr&&Vr,dr=va||sn!==(this&&this.window)&&sn||ga||this;function yt(te,de){if(te!==de){var _e=te===null,we=te===i,Ae=te===te,Pe=de===null,ur=de===i,Ue=de===de;if(te>de&&!Pe||!Ae||_e&&!ur&&Ue||we&&Ue)return 1;if(te<de&&!_e||!Ue||Pe&&!we&&Ae||ur&&Ae)return-1}return 0}function on(te,de,_e){for(var we=te.length,Ae=_e?we:-1;_e?Ae--:++Ae<we;)if(de(te[Ae],Ae,te))return Ae;return-1}function Er(te,de,_e){if(de!==de)return fn(te,_e);for(var we=_e-1,Ae=te.length;++we<Ae;)if(te[we]===de)return we;return-1}function ma(te){return typeof te=="function"||!1}function Ve(te){return te==null?"":te+""}function cn(te,de){for(var _e=-1,we=te.length;++_e<we&&de.indexOf(te.charAt(_e))>-1;);return _e}function ln(te,de){for(var _e=te.length;_e--&&de.indexOf(te.charAt(_e))>-1;);return _e}function ya(te,de){return yt(te.criteria,de.criteria)||te.index-de.index}function ba(te,de,_e){for(var we=-1,Ae=te.criteria,Pe=de.criteria,ur=Ae.length,Ue=_e.length;++we<ur;){var sr=yt(Ae[we],Pe[we]);if(sr){if(we>=Ue)return sr;var $r=_e[we];return sr*($r==="asc"||$r===!0?1:-1)}}return te.index-de.index}function qa(te){return fa[te]}function Ra(te){return da[te]}function wa(te,de,_e){return de?te=pa[te]:_e&&(te=un[te]),"\\"+te}function Sa(te){return"\\"+un[te]}function fn(te,de,_e){for(var we=te.length,Ae=de+(_e?0:-1);_e?Ae--:++Ae<we;){var Pe=te[Ae];if(Pe!==Pe)return Ae}return-1}function $e(te){return!!te&&typeof te=="object"}function dn(te){return te<=160&&te>=9&&te<=13||te==32||te==160||te==5760||te==6158||te>=8192&&(te<=8202||te==8232||te==8233||te==8239||te==8287||te==12288||te==65279)}function Or(te,de){for(var _e=-1,we=te.length,Ae=-1,Pe=[];++_e<we;)te[_e]===de&&(te[_e]=E,Pe[++Ae]=_e);return Pe}function xa(te,de){for(var _e,we=-1,Ae=te.length,Pe=-1,ur=[];++we<Ae;){var Ue=te[we],sr=de?de(Ue,we,te):Ue;(!we||_e!==sr)&&(_e=sr,ur[++Pe]=Ue)}return ur}function hn(te){for(var de=-1,_e=te.length;++de<_e&&dn(te.charCodeAt(de)););return de}function pn(te){for(var de=te.length;de--&&dn(te.charCodeAt(de)););return de}function Aa(te){return ha[te]}function vn(te){te=te?Tr.defaults(dr.Object(),te,Tr.pick(dr,ca)):dr;var de=te.Array,_e=te.Date,we=te.Error,Ae=te.Function,Pe=te.Math,ur=te.Number,Ue=te.Object,sr=te.RegExp,$r=te.String,Ye=te.TypeError,gn=de.prototype,bt=Ue.prototype,Ca=$r.prototype,_n=Ae.prototype.toString,Ne=bt.hasOwnProperty,Ia=0,Qe=bt.toString,Ea=dr._,Oa=sr("^"+_n.call(Ne).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ta=te.ArrayBuffer,Gr=te.clearTimeout,Fa=te.parseFloat,Ma=Pe.pow,La=bt.propertyIsEnumerable,mn=Pr(te,"Set"),Xr=te.setTimeout,yn=gn.splice,bn=te.Uint8Array,qn=Pr(te,"WeakMap"),Yr=Pe.ceil,Rn=Pr(Ue,"create"),qr=Pe.floor,Pa=Pr(de,"isArray"),Fr=te.isFinite,wn=Pr(Ue,"keys"),Be=Pe.max,Ke=Pe.min,Da=Pr(_e,"now"),Va=te.parseInt,Sn=Pe.random,Na=ur.NEGATIVE_INFINITY,Zr=ur.POSITIVE_INFINITY,et=4294967295,$a=et-1,Ga=et>>>1,xn=9007199254740991,rt=qn&&new qn,tt={};function D(a){if($e(a)&&!me(a)&&!(a instanceof be)){if(a instanceof rr)return a;if(Ne.call(a,"__chain__")&&Ne.call(a,"__wrapped__"))return Ri(a)}return new rr(a)}function nt(){}function rr(a,c,_){this.__wrapped__=a,this.__actions__=_||[],this.__chain__=!!c}D.support={},D.templateSettings={escape:qe,evaluate:ge,interpolate:Oe,variable:"",imports:{_:D}};function be(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Zr,this.__views__=[]}function Ua(){var a=new be(this.__wrapped__);return a.__actions__=He(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=He(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=He(this.__views__),a}function Ba(){if(this.__filtered__){var a=new be(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function ja(){var a=this.__wrapped__.value(),c=this.__dir__,_=me(a),w=c<0,C=_?a.length:0,F=vu(0,C,this.__views__),$=F.start,z=F.end,J=z-$,re=w?z:$-1,ue=this.__iteratees__,ce=ue.length,pe=0,he=Ke(J,this.__takeCount__);if(!_||C<S||C==J&&he==J)return kn(w&&_?a.reverse():a,this.__actions__);var xe=[];e:for(;J--&&pe<he;){re+=c;for(var Ce=-1,Le=a[re];++Ce<ce;){var Ge=ue[Ce],De=Ge.iteratee,ze=Ge.type,Ie=De(Le);if(ze==R)Le=Ie;else if(!Ie){if(ze==x)continue e;break e}}xe[pe++]=Le}return xe}function Ur(){this.__data__={}}function Wa(a){return this.has(a)&&delete this.__data__[a]}function ka(a){return a=="__proto__"?i:this.__data__[a]}function za(a){return a!="__proto__"&&Ne.call(this.__data__,a)}function Ha(a,c){return a!="__proto__"&&(this.__data__[a]=c),this}function An(a){var c=a?a.length:0;for(this.data={hash:Rn(null),set:new mn};c--;)this.push(a[c])}function it(a,c){var _=a.data,w=typeof c=="string"||Me(c)?_.set.has(c):_.hash[c];return w?0:-1}function Ka(a){var c=this.data;typeof a=="string"||Me(a)?c.set.add(a):c.hash[a]=!0}function Ja(a,c){for(var _=-1,w=a.length,C=-1,F=c.length,$=de(w+F);++_<w;)$[_]=a[_];for(;++C<F;)$[_++]=c[C];return $}function He(a,c){var _=-1,w=a.length;for(c||(c=de(w));++_<w;)c[_]=a[_];return c}function tr(a,c){for(var _=-1,w=a.length;++_<w&&c(a[_],_,a)!==!1;);return a}function Qa(a,c){for(var _=a.length;_--&&c(a[_],_,a)!==!1;);return a}function Cn(a,c){for(var _=-1,w=a.length;++_<w;)if(!c(a[_],_,a))return!1;return!0}function Xa(a,c,_,w){for(var C=-1,F=a.length,$=w,z=$;++C<F;){var J=a[C],re=+c(J);_(re,$)&&($=re,z=J)}return z}function qt(a,c){for(var _=-1,w=a.length,C=-1,F=[];++_<w;){var $=a[_];c($,_,a)&&(F[++C]=$)}return F}function Mr(a,c){for(var _=-1,w=a.length,C=de(w);++_<w;)C[_]=c(a[_],_,a);return C}function Br(a,c){for(var _=-1,w=c.length,C=a.length;++_<w;)a[C+_]=c[_];return a}function In(a,c,_,w){var C=-1,F=a.length;for(w&&F&&(_=a[++C]);++C<F;)_=c(_,a[C],C,a);return _}function Ya(a,c,_,w){var C=a.length;for(w&&C&&(_=a[--C]);C--;)_=c(_,a[C],C,a);return _}function En(a,c){for(var _=-1,w=a.length;++_<w;)if(c(a[_],_,a))return!0;return!1}function Za(a,c){for(var _=a.length,w=0;_--;)w+=+c(a[_])||0;return w}function eu(a,c){return a===i?c:a}function On(a,c,_,w){return a===i||!Ne.call(w,_)?c:a}function Rt(a,c,_){for(var w=-1,C=ke(c),F=C.length;++w<F;){var $=C[w],z=a[$],J=_(z,c[$],$,a,c);((J===J?J!==z:z===z)||z===i&&!($ in a))&&(a[$]=J)}return a}function jr(a,c){return c==null?a:Fn(c,ke(c),a)}function Tn(a,c){for(var _=-1,w=a==null,C=!w&&je(a),F=C?a.length:0,$=c.length,z=de($);++_<$;){var J=c[_];C?z[_]=_r(J,F)?a[J]:i:z[_]=w?i:a[J]}return z}function Fn(a,c,_){_||(_={});for(var w=-1,C=c.length;++w<C;){var F=c[w];_[F]=a[F]}return _}function at(a,c,_){var w=typeof a;return w=="function"?c===i?a:Xe(a,c,_):a==null?Ar:w=="object"?zr(a):c===i?gt(a):$n(a,c)}function Rr(a,c,_,w,C,F,$){var z;if(_&&(z=C?_(a,w,C):_(a)),z!==i)return z;if(!Me(a))return a;var J=me(a);if(J){if(z=gu(a),!c)return He(a,z)}else{var re=Qe.call(a),ue=re==k;if(re==j||re==T||ue&&!C){if(z=_u(ue?{}:a),!c)return jr(z,a)}else return Fe[re]?mu(a,re,c):C?a:{}}F||(F=[]),$||($=[]);for(var ce=F.length;ce--;)if(F[ce]==a)return $[ce];return F.push(a),$.push(z),(J?tr:hr)(a,function(pe,he){z[he]=Rr(pe,c,_,he,a,F,$)}),z}var Wr=(function(){function a(){}return function(c){if(Me(c)){a.prototype=c;var _=new a;a.prototype=i}return _||{}}})();function Mn(a,c,_){if(typeof a!="function")throw new Ye(A);return Xr(function(){a.apply(i,_)},c)}function kr(a,c){var _=a?a.length:0,w=[];if(!_)return w;var C=-1,F=Lr(),$=F==Er,z=$&&c.length>=S?Mt(c):null,J=c.length;z&&(F=it,$=!1,c=z);e:for(;++C<_;){var re=a[C];if($&&re===re){for(var ue=J;ue--;)if(c[ue]===re)continue e;w.push(re)}else F(c,re,0)<0&&w.push(re)}return w}var nr=Xn(hr),wt=Xn(xt,!0);function ru(a,c){var _=!0;return nr(a,function(w,C,F){return _=!!c(w,C,F),_}),_}function tu(a,c,_,w){var C=w,F=C;return nr(a,function($,z,J){var re=+c($,z,J);(_(re,C)||re===w&&re===F)&&(C=re,F=$)}),F}function nu(a,c,_,w){var C=a.length;for(_=_==null?0:+_||0,_<0&&(_=-_>C?0:C+_),w=w===i||w>C?C:+w||0,w<0&&(w+=C),C=_>w?0:w>>>0,_>>>=0;_<C;)a[_++]=c;return a}function Ln(a,c){var _=[];return nr(a,function(w,C,F){c(w,C,F)&&_.push(w)}),_}function Pn(a,c,_,w){var C;return _(a,function(F,$,z){if(c(F,$,z))return C=w?$:F,!1}),C}function Je(a,c,_,w){w||(w=[]);for(var C=-1,F=a.length;++C<F;){var $=a[C];$e($)&&je($)&&(_||me($)||pr($))?c?Je($,c,_,w):Br(w,$):_||(w[w.length]=$)}return w}var St=Yn(),Dn=Yn(!0);function Vn(a,c){return St(a,c,yr)}function hr(a,c){return St(a,c,ke)}function xt(a,c){return Dn(a,c,ke)}function At(a,c){for(var _=-1,w=c.length,C=-1,F=[];++_<w;){var $=c[_];xr(a[$])&&(F[++C]=$)}return F}function wr(a,c,_){if(a!=null){_!==i&&_ in ir(a)&&(c=[_]);for(var w=0,C=c.length;a!=null&&w<C;)a=a[c[w++]];return w&&w==C?a:i}}function ut(a,c,_,w,C,F){return a===c?!0:a==null||c==null||!Me(a)&&!$e(c)?a!==a&&c!==c:iu(a,c,ut,_,w,C,F)}function iu(a,c,_,w,C,F,$){var z=me(a),J=me(c),re=I,ue=I;z||(re=Qe.call(a),re==T?re=j:re!=j&&(z=Dr(a))),J||(ue=Qe.call(c),ue==T?ue=j:ue!=j&&(J=Dr(c)));var ce=re==j,pe=ue==j,he=re==ue;if(he&&!(z||ce))return hu(a,c,re);if(!C){var xe=ce&&Ne.call(a,"__wrapped__"),Ce=pe&&Ne.call(c,"__wrapped__");if(xe||Ce)return _(xe?a.value():a,Ce?c.value():c,w,C,F,$)}if(!he)return!1;F||(F=[]),$||($=[]);for(var Le=F.length;Le--;)if(F[Le]==a)return $[Le]==c;F.push(a),$.push(c);var Ge=(z?du:pu)(a,c,_,w,C,F,$);return F.pop(),$.pop(),Ge}function Nn(a,c,_){var w=c.length,C=w,F=!_;if(a==null)return!C;for(a=ir(a);w--;){var $=c[w];if(F&&$[2]?$[1]!==a[$[0]]:!($[0]in a))return!1}for(;++w<C;){$=c[w];var z=$[0],J=a[z],re=$[1];if(F&&$[2]){if(J===i&&!(z in a))return!1}else{var ue=_?_(J,re,z):i;if(!(ue===i?ut(re,J,_,!0):ue))return!1}}return!0}function Ct(a,c){var _=-1,w=je(a)?de(a.length):[];return nr(a,function(C,F,$){w[++_]=c(C,F,$)}),w}function zr(a){var c=vi(a);if(c.length==1&&c[0][2]){var _=c[0][0],w=c[0][1];return function(C){return C==null?!1:C[_]===w&&(w!==i||_ in ir(C))}}return function(C){return Nn(C,c)}}function $n(a,c){var _=me(a),w=Sr(a)&&gi(c),C=a+"";return a=mr(a),function(F){if(F==null)return!1;var $=C;if(F=ir(F),(_||!w)&&!($ in F)){if(F=a.length==1?F:wr(F,Ze(a,0,-1)),F==null)return!1;$=Kr(a),F=ir(F)}return F[$]===c?c!==i||$ in F:ut(c,F[$],i,!0)}}function Gn(a,c,_,w,C){if(!Me(a))return a;var F=je(c)&&(me(c)||Dr(c)),$=F?i:ke(c);return tr($||c,function(z,J){if($&&(J=z,z=c[J]),$e(z))w||(w=[]),C||(C=[]),au(a,c,J,Gn,_,w,C);else{var re=a[J],ue=_?_(re,z,J,a,c):i,ce=ue===i;ce&&(ue=z),(ue!==i||F&&!(J in a))&&(ce||(ue===ue?ue!==re:re===re))&&(a[J]=ue)}}),a}function au(a,c,_,w,C,F,$){for(var z=F.length,J=c[_];z--;)if(F[z]==J){a[_]=$[z];return}var re=a[_],ue=C?C(re,J,_,a,c):i,ce=ue===i;ce&&(ue=J,je(J)&&(me(J)||Dr(J))?ue=me(re)?re:je(re)?He(re):[]:ht(J)||pr(J)?ue=pr(re)?Hi(re):ht(re)?re:{}:ce=!1),F.push(J),$.push(ue),ce?a[_]=w(ue,J,C,F,$):(ue===ue?ue!==re:re===re)&&(a[_]=ue)}function It(a){return function(c){return c==null?i:c[a]}}function uu(a){var c=a+"";return a=mr(a),function(_){return wr(_,a,c)}}function Un(a,c){for(var _=a?c.length:0;_--;){var w=c[_];if(w!=C&&_r(w)){var C=w;yn.call(a,w,1)}}return a}function Et(a,c){return a+qr(Sn()*(c-a+1))}function su(a,c,_,w,C){return C(a,function(F,$,z){_=w?(w=!1,F):c(_,F,$,z)}),_}var Bn=rt?function(a,c){return rt.set(a,c),a}:Ar;function Ze(a,c,_){var w=-1,C=a.length;c=c==null?0:+c||0,c<0&&(c=-c>C?0:C+c),_=_===i||_>C?C:+_||0,_<0&&(_+=C),C=c>_?0:_-c>>>0,c>>>=0;for(var F=de(C);++w<C;)F[w]=a[w+c];return F}function ou(a,c){var _;return nr(a,function(w,C,F){return _=c(w,C,F),!_}),!!_}function jn(a,c){var _=a.length;for(a.sort(c);_--;)a[_]=a[_].value;return a}function Wn(a,c,_){var w=Ee(),C=-1;c=Mr(c,function($){return w($)});var F=Ct(a,function($){var z=Mr(c,function(J){return J($)});return{criteria:z,index:++C,value:$}});return jn(F,function($,z){return ba($,z,_)})}function cu(a,c){var _=0;return nr(a,function(w,C,F){_+=+c(w,C,F)||0}),_}function Ot(a,c){var _=-1,w=Lr(),C=a.length,F=w==Er,$=F&&C>=S,z=$?Mt():null,J=[];z?(w=it,F=!1):($=!1,z=c?[]:J);e:for(;++_<C;){var re=a[_],ue=c?c(re,_,a):re;if(F&&re===re){for(var ce=z.length;ce--;)if(z[ce]===ue)continue e;c&&z.push(ue),J.push(re)}else w(z,ue,0)<0&&((c||$)&&z.push(ue),J.push(re))}return J}function Tt(a,c){for(var _=-1,w=c.length,C=de(w);++_<w;)C[_]=a[c[_]];return C}function st(a,c,_,w){for(var C=a.length,F=w?C:-1;(w?F--:++F<C)&&c(a[F],F,a););return _?Ze(a,w?0:F,w?F+1:C):Ze(a,w?F+1:0,w?C:F)}function kn(a,c){var _=a;_ instanceof be&&(_=_.value());for(var w=-1,C=c.length;++w<C;){var F=c[w];_=F.func.apply(F.thisArg,Br([_],F.args))}return _}function Ft(a,c,_){var w=0,C=a?a.length:w;if(typeof c=="number"&&c===c&&C<=Ga){for(;w<C;){var F=w+C>>>1,$=a[F];(_?$<=c:$<c)&&$!==null?w=F+1:C=F}return C}return zn(a,c,Ar,_)}function zn(a,c,_,w){c=_(c);for(var C=0,F=a?a.length:0,$=c!==c,z=c===null,J=c===i;C<F;){var re=qr((C+F)/2),ue=_(a[re]),ce=ue!==i,pe=ue===ue;if($)var he=pe||w;else z?he=pe&&ce&&(w||ue!=null):J?he=pe&&(w||ce):ue==null?he=!1:he=w?ue<=c:ue<c;he?C=re+1:F=re}return Ke(F,$a)}function Xe(a,c,_){if(typeof a!="function")return Ar;if(c===i)return a;switch(_){case 1:return function(w){return a.call(c,w)};case 3:return function(w,C,F){return a.call(c,w,C,F)};case 4:return function(w,C,F,$){return a.call(c,w,C,F,$)};case 5:return function(w,C,F,$,z){return a.call(c,w,C,F,$,z)}}return function(){return a.apply(c,arguments)}}function Hn(a){var c=new Ta(a.byteLength),_=new bn(c);return _.set(new bn(a)),c}function Kn(a,c,_){for(var w=_.length,C=-1,F=Be(a.length-w,0),$=-1,z=c.length,J=de(z+F);++$<z;)J[$]=c[$];for(;++C<w;)J[_[C]]=a[C];for(;F--;)J[$++]=a[C++];return J}function Jn(a,c,_){for(var w=-1,C=_.length,F=-1,$=Be(a.length-C,0),z=-1,J=c.length,re=de($+J);++F<$;)re[F]=a[F];for(var ue=F;++z<J;)re[ue+z]=c[z];for(;++w<C;)re[ue+_[w]]=a[F++];return re}function ot(a,c){return function(_,w,C){var F=c?c():{};if(w=Ee(w,C,3),me(_))for(var $=-1,z=_.length;++$<z;){var J=_[$];a(F,J,w(J,$,_),_)}else nr(_,function(re,ue,ce){a(F,re,w(re,ue,ce),ce)});return F}}function Qn(a){return Se(function(c,_){var w=-1,C=c==null?0:_.length,F=C>2?_[C-2]:i,$=C>2?_[2]:i,z=C>1?_[C-1]:i;for(typeof F=="function"?(F=Xe(F,z,5),C-=2):(F=typeof z=="function"?z:i,C-=F?1:0),$&&ye(_[0],_[1],$)&&(F=C<3?i:F,C=1);++w<C;){var J=_[w];J&&a(c,J,F)}return c})}function Xn(a,c){return function(_,w){var C=_?Hr(_):0;if(!or(C))return a(_,w);for(var F=c?C:-1,$=ir(_);(c?F--:++F<C)&&w($[F],F,$)!==!1;);return _}}function Yn(a){return function(c,_,w){for(var C=ir(c),F=w(c),$=F.length,z=a?$:-1;a?z--:++z<$;){var J=F[z];if(_(C[J],J,C)===!1)break}return c}}function lu(a,c){var _=lt(a);function w(){var C=this&&this!==dr&&this instanceof w?_:a;return C.apply(c,arguments)}return w}function Mt(a){return Rn&&mn?new An(a):null}function ct(a){return function(c){for(var _=-1,w=Yi(Ji(c)),C=w.length,F="";++_<C;)F=a(F,w[_],_);return F}}function lt(a){return function(){var c=arguments;switch(c.length){case 0:return new a;case 1:return new a(c[0]);case 2:return new a(c[0],c[1]);case 3:return new a(c[0],c[1],c[2]);case 4:return new a(c[0],c[1],c[2],c[3]);case 5:return new a(c[0],c[1],c[2],c[3],c[4]);case 6:return new a(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new a(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var _=Wr(a.prototype),w=a.apply(_,c);return Me(w)?w:_}}function Zn(a){function c(_,w,C){C&&ye(_,w,C)&&(w=i);var F=gr(_,a,i,i,i,i,i,w);return F.placeholder=c.placeholder,F}return c}function ei(a,c){return Se(function(_){var w=_[0];return w==null?w:(_.push(c),a.apply(i,_))})}function ri(a,c){return function(_,w,C){if(C&&ye(_,w,C)&&(w=i),w=Ee(w,C,3),w.length==1){_=me(_)?_:$t(_);var F=Xa(_,w,a,c);if(!(_.length&&F===c))return F}return tu(_,w,a,c)}}function ti(a,c){return function(_,w,C){if(w=Ee(w,C,3),me(_)){var F=on(_,w,c);return F>-1?_[F]:i}return Pn(_,w,a)}}function ni(a){return function(c,_,w){return c&&c.length?(_=Ee(_,w,3),on(c,_,a)):-1}}function ii(a){return function(c,_,w){return _=Ee(_,w,3),Pn(c,_,a,!0)}}function ai(a){return function(){for(var c,_=arguments.length,w=a?_:-1,C=0,F=de(_);a?w--:++w<_;){var $=F[C++]=arguments[w];if(typeof $!="function")throw new Ye(A);!c&&rr.prototype.thru&&ft($)=="wrapper"&&(c=new rr([],!0))}for(w=c?-1:_;++w<_;){$=F[w];var z=ft($),J=z=="wrapper"?Dt($):i;J&&Nt(J[0])&&J[1]==(l|h|o|g)&&!J[4].length&&J[9]==1?c=c[ft(J[0])].apply(c,J[3]):c=$.length==1&&Nt($)?c[z]():c.thru($)}return function(){var re=arguments,ue=re[0];if(c&&re.length==1&&me(ue)&&ue.length>=S)return c.plant(ue).value();for(var ce=0,pe=_?F[ce].apply(this,re):ue;++ce<_;)pe=F[ce].call(this,pe);return pe}}}function ui(a,c){return function(_,w,C){return typeof w=="function"&&C===i&&me(_)?a(_,w):c(_,Xe(w,C,3))}}function si(a){return function(c,_,w){return(typeof _!="function"||w!==i)&&(_=Xe(_,w,3)),a(c,_,yr)}}function oi(a){return function(c,_,w){return(typeof _!="function"||w!==i)&&(_=Xe(_,w,3)),a(c,_)}}function ci(a){return function(c,_,w){var C={};return _=Ee(_,w,3),hr(c,function(F,$,z){var J=_(F,$,z);$=a?J:$,F=a?F:J,C[$]=F}),C}}function li(a){return function(c,_,w){return c=Ve(c),(a?c:"")+hi(c,_,w)+(a?"":c)}}function fi(a){var c=Se(function(_,w){var C=Or(w,c.placeholder);return gr(_,a,i,w,C)});return c}function di(a,c){return function(_,w,C,F){var $=arguments.length<3;return typeof w=="function"&&F===i&&me(_)?a(_,w,C,$):su(_,Ee(w,F,4),C,$,c)}}function Lt(a,c,_,w,C,F,$,z,J,re){var ue=c&l,ce=c&r,pe=c&u,he=c&h,xe=c&s,Ce=c&v,Le=pe?i:lt(a);function Ge(){for(var De=arguments.length,ze=De,Ie=de(De);ze--;)Ie[ze]=arguments[ze];if(w&&(Ie=Kn(Ie,w,C)),F&&(Ie=Jn(Ie,F,$)),he||Ce){var cr=Ge.placeholder,tn=Or(Ie,cr);if(De-=tn.length,De<re){var rc=z?He(z):i,tc=Be(re-De,0),nc=he?tn:i,ic=he?i:tn,ac=he?Ie:i,uc=he?i:Ie;c|=he?o:p,c&=~(he?p:o),xe||(c&=-4);var ta=[a,c,_,ac,nc,uc,ic,rc,J,tc],nn=Lt.apply(i,ta);return Nt(a)&&bi(nn,ta),nn.placeholder=cr,nn}}var na=ce?_:this,ia=pe?na[a]:a;return z&&(Ie=bu(Ie,z)),ue&&J<Ie.length&&(Ie.length=J),this&&this!==dr&&this instanceof Ge&&(ia=Le||lt(a)),ia.apply(na,Ie)}return Ge}function hi(a,c,_){var w=a.length;if(c=+c,w>=c||!Fr(c))return"";var C=c-w;return _=_==null?" ":_+"",Qi(_,Yr(C/_.length)).slice(0,C)}function fu(a,c,_,w){var C=c&r,F=lt(a);function $(){for(var z=-1,J=arguments.length,re=-1,ue=w.length,ce=de(ue+J);++re<ue;)ce[re]=w[re];for(;J--;)ce[re++]=arguments[++z];var pe=this&&this!==dr&&this instanceof $?F:a;return pe.apply(C?_:this,ce)}return $}function Pt(a){var c=Pe[a];return function(_,w){return w=w===i?0:+w||0,w?(w=Ma(10,w),c(_*w)/w):c(_)}}function pi(a){return function(c,_,w,C){var F=Ee(w);return w==null&&F===at?Ft(c,_,a):zn(c,_,F(w,C,1),a)}}function gr(a,c,_,w,C,F,$,z){var J=c&u;if(!J&&typeof a!="function")throw new Ye(A);var re=w?w.length:0;if(re||(c&=-97,w=C=i),re-=C?C.length:0,c&p){var ue=w,ce=C;w=C=i}var pe=J?i:Dt(a),he=[a,c,_,w,C,ue,ce,F,$,z];if(pe&&(yu(he,pe),c=he[1],z=he[9]),he[9]=z==null?J?0:a.length:Be(z-re,0)||0,c==r)var xe=lu(he[0],he[2]);else(c==o||c==(r|o))&&!he[4].length?xe=fu.apply(i,he):xe=Lt.apply(i,he);var Ce=pe?Bn:bi;return Ce(xe,he)}function du(a,c,_,w,C,F,$){var z=-1,J=a.length,re=c.length;if(J!=re&&!(C&&re>J))return!1;for(;++z<J;){var ue=a[z],ce=c[z],pe=w?w(C?ce:ue,C?ue:ce,z):i;if(pe!==i){if(pe)continue;return!1}if(C){if(!En(c,function(he){return ue===he||_(ue,he,w,C,F,$)}))return!1}else if(!(ue===ce||_(ue,ce,w,C,F,$)))return!1}return!0}function hu(a,c,_){switch(_){case V:case G:return+a==+c;case Q:return a.name==c.name&&a.message==c.message;case P:return a!=+a?c!=+c:a==+c;case M:case L:return a==c+""}return!1}function pu(a,c,_,w,C,F,$){var z=ke(a),J=z.length,re=ke(c),ue=re.length;if(J!=ue&&!C)return!1;for(var ce=J;ce--;){var pe=z[ce];if(!(C?pe in c:Ne.call(c,pe)))return!1}for(var he=C;++ce<J;){pe=z[ce];var xe=a[pe],Ce=c[pe],Le=w?w(C?Ce:xe,C?xe:Ce,pe):i;if(!(Le===i?_(xe,Ce,w,C,F,$):Le))return!1;he||(he=pe=="constructor")}if(!he){var Ge=a.constructor,De=c.constructor;if(Ge!=De&&"constructor"in a&&"constructor"in c&&!(typeof Ge=="function"&&Ge instanceof Ge&&typeof De=="function"&&De instanceof De))return!1}return!0}function Ee(a,c,_){var w=D.callback||vt;return w=w===vt?at:w,_?w(a,c,_):w}var Dt=rt?function(a){return rt.get(a)}:ra;function ft(a){for(var c=a.name,_=tt[c],w=_?_.length:0;w--;){var C=_[w],F=C.func;if(F==null||F==a)return C.name}return c}function Lr(a,c,_){var w=D.indexOf||Gt;return w=w===Gt?Er:w,a?w(a,c,_):w}var Hr=It("length");function vi(a){for(var c=Ki(a),_=c.length;_--;)c[_][2]=gi(c[_][1]);return c}function Pr(a,c){var _=a==null?i:a[c];return Bi(_)?_:i}function vu(a,c,_){for(var w=-1,C=_.length;++w<C;){var F=_[w],$=F.size;switch(F.type){case"drop":a+=$;break;case"dropRight":c-=$;break;case"take":c=Ke(c,a+$);break;case"takeRight":a=Be(a,c-$);break}}return{start:a,end:c}}function gu(a){var c=a.length,_=new a.constructor(c);return c&&typeof a[0]=="string"&&Ne.call(a,"index")&&(_.index=a.index,_.input=a.input),_}function _u(a){var c=a.constructor;return typeof c=="function"&&c instanceof c||(c=Ue),new c}function mu(a,c,_){var w=a.constructor;switch(c){case W:return Hn(a);case V:case G:return new w(+a);case X:case ie:case se:case ae:case le:case Re:case U:case B:case H:var C=a.buffer;return new w(_?Hn(C):C,a.byteOffset,a.length);case P:case L:return new w(a);case M:var F=new w(a.source,Ir.exec(a));F.lastIndex=a.lastIndex}return F}function Vt(a,c,_){a!=null&&!Sr(c,a)&&(c=mr(c),a=c.length==1?a:wr(a,Ze(c,0,-1)),c=Kr(c));var w=a==null?a:a[c];return w==null?i:w.apply(a,_)}function je(a){return a!=null&&or(Hr(a))}function _r(a,c){return a=typeof a=="number"||aa.test(a)?+a:-1,c=c??xn,a>-1&&a%1==0&&a<c}function ye(a,c,_){if(!Me(_))return!1;var w=typeof c;if(w=="number"?je(_)&&_r(c,_.length):w=="string"&&c in _){var C=_[c];return a===a?a===C:C!==C}return!1}function Sr(a,c){var _=typeof a;if(_=="string"&&ar.test(a)||_=="number")return!0;if(me(a))return!1;var w=!er.test(a);return w||c!=null&&a in ir(c)}function Nt(a){var c=ft(a);if(!(c in be.prototype))return!1;var _=D[c];if(a===_)return!0;var w=Dt(_);return!!w&&a===w[0]}function or(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=xn}function gi(a){return a===a&&!Me(a)}function yu(a,c){var _=a[1],w=c[1],C=_|w,F=C<l,$=w==l&&_==h||w==l&&_==g&&a[7].length<=c[8]||w==(l|g)&&_==h;if(!(F||$))return a;w&r&&(a[2]=c[2],C|=_&r?0:s);var z=c[3];if(z){var J=a[3];a[3]=J?Kn(J,z,c[4]):He(z),a[4]=J?Or(a[3],E):He(c[4])}return z=c[5],z&&(J=a[5],a[5]=J?Jn(J,z,c[6]):He(z),a[6]=J?Or(a[5],E):He(c[6])),z=c[7],z&&(a[7]=He(z)),w&l&&(a[8]=a[8]==null?c[8]:Ke(a[8],c[8])),a[9]==null&&(a[9]=c[9]),a[0]=c[0],a[1]=C,a}function _i(a,c){return a===i?c:Yt(a,c,_i)}function mi(a,c){a=ir(a);for(var _=-1,w=c.length,C={};++_<w;){var F=c[_];F in a&&(C[F]=a[F])}return C}function yi(a,c){var _={};return Vn(a,function(w,C,F){c(w,C,F)&&(_[C]=w)}),_}function bu(a,c){for(var _=a.length,w=Ke(c.length,_),C=He(a);w--;){var F=c[w];a[w]=_r(F,_)?C[F]:i}return a}var bi=(function(){var a=0,c=0;return function(_,w){var C=Jr(),F=q-(C-c);if(c=C,F>0){if(++a>=b)return _}else a=0;return Bn(_,w)}})();function qi(a){for(var c=yr(a),_=c.length,w=_&&a.length,C=!!w&&or(w)&&(me(a)||pr(a)),F=-1,$=[];++F<_;){var z=c[F];(C&&_r(z,w)||Ne.call(a,z))&&$.push(z)}return $}function $t(a){return a==null?[]:je(a)?Me(a)?a:Ue(a):pt(a)}function ir(a){return Me(a)?a:Ue(a)}function mr(a){if(me(a))return a;var c=[];return Ve(a).replace(lr,function(_,w,C,F){c.push(C?F.replace(vr,"$1"):w||_)}),c}function Ri(a){return a instanceof be?a.clone():new rr(a.__wrapped__,a.__chain__,He(a.__actions__))}function qu(a,c,_){(_?ye(a,c,_):c==null)?c=1:c=Be(qr(c)||1,1);for(var w=0,C=a?a.length:0,F=-1,$=de(Yr(C/c));w<C;)$[++F]=Ze(a,w,w+=c);return $}function Ru(a){for(var c=-1,_=a?a.length:0,w=-1,C=[];++c<_;){var F=a[c];F&&(C[++w]=F)}return C}var wu=Se(function(a,c){return $e(a)&&je(a)?kr(a,Je(c,!1,!0)):[]});function wi(a,c,_){var w=a?a.length:0;return w?((_?ye(a,c,_):c==null)&&(c=1),Ze(a,c<0?0:c)):[]}function Si(a,c,_){var w=a?a.length:0;return w?((_?ye(a,c,_):c==null)&&(c=1),c=w-(+c||0),Ze(a,0,c<0?0:c)):[]}function Su(a,c,_){return a&&a.length?st(a,Ee(c,_,3),!0,!0):[]}function xu(a,c,_){return a&&a.length?st(a,Ee(c,_,3),!0):[]}function Au(a,c,_,w){var C=a?a.length:0;return C?(_&&typeof _!="number"&&ye(a,c,_)&&(_=0,w=C),nu(a,c,_,w)):[]}var Cu=ni(),Iu=ni(!0);function xi(a){return a?a[0]:i}function Eu(a,c,_){var w=a?a.length:0;return _&&ye(a,c,_)&&(c=!1),w?Je(a,c):[]}function Ou(a){var c=a?a.length:0;return c?Je(a,!0):[]}function Gt(a,c,_){var w=a?a.length:0;if(!w)return-1;if(typeof _=="number")_=_<0?Be(w+_,0):_;else if(_){var C=Ft(a,c);return C<w&&(c===c?c===a[C]:a[C]!==a[C])?C:-1}return Er(a,c,_||0)}function Tu(a){return Si(a,1)}var Fu=Se(function(a){for(var c=a.length,_=c,w=de(ue),C=Lr(),F=C==Er,$=[];_--;){var z=a[_]=je(z=a[_])?z:[];w[_]=F&&z.length>=120?Mt(_&&z):null}var J=a[0],re=-1,ue=J?J.length:0,ce=w[0];e:for(;++re<ue;)if(z=J[re],(ce?it(ce,z):C($,z,0))<0){for(var _=c;--_;){var pe=w[_];if((pe?it(pe,z):C(a[_],z,0))<0)continue e}ce&&ce.push(z),$.push(z)}return $});function Kr(a){var c=a?a.length:0;return c?a[c-1]:i}function Mu(a,c,_){var w=a?a.length:0;if(!w)return-1;var C=w;if(typeof _=="number")C=(_<0?Be(w+_,0):Ke(_||0,w-1))+1;else if(_){C=Ft(a,c,!0)-1;var F=a[C];return(c===c?c===F:F!==F)?C:-1}if(c!==c)return fn(a,C,!0);for(;C--;)if(a[C]===c)return C;return-1}function Lu(){var a=arguments,c=a[0];if(!(c&&c.length))return c;for(var _=0,w=Lr(),C=a.length;++_<C;)for(var F=0,$=a[_];(F=w(c,$,F))>-1;)yn.call(c,F,1);return c}var Pu=Se(function(a,c){c=Je(c);var _=Tn(a,c);return Un(a,c.sort(yt)),_});function Du(a,c,_){var w=[];if(!(a&&a.length))return w;var C=-1,F=[],$=a.length;for(c=Ee(c,_,3);++C<$;){var z=a[C];c(z,C,a)&&(w.push(z),F.push(C))}return Un(a,F),w}function Ai(a){return wi(a,1)}function Vu(a,c,_){var w=a?a.length:0;return w?(_&&typeof _!="number"&&ye(a,c,_)&&(c=0,_=w),Ze(a,c,_)):[]}var Nu=pi(),$u=pi(!0);function Gu(a,c,_){var w=a?a.length:0;return w?((_?ye(a,c,_):c==null)&&(c=1),Ze(a,0,c<0?0:c)):[]}function Uu(a,c,_){var w=a?a.length:0;return w?((_?ye(a,c,_):c==null)&&(c=1),c=w-(+c||0),Ze(a,c<0?0:c)):[]}function Bu(a,c,_){return a&&a.length?st(a,Ee(c,_,3),!1,!0):[]}function ju(a,c,_){return a&&a.length?st(a,Ee(c,_,3)):[]}var Wu=Se(function(a){return Ot(Je(a,!1,!0))});function Ci(a,c,_,w){var C=a?a.length:0;if(!C)return[];c!=null&&typeof c!="boolean"&&(w=_,_=ye(a,c,w)?i:c,c=!1);var F=Ee();return _==null&&F===at||(_=F(_,w,3)),c&&Lr()==Er?xa(a,_):Ot(a,_)}function Ut(a){if(!(a&&a.length))return[];var c=-1,_=0;a=qt(a,function(C){if(je(C))return _=Be(C.length,_),!0});for(var w=de(_);++c<_;)w[c]=Mr(a,It(c));return w}function Ii(a,c,_){var w=a?a.length:0;if(!w)return[];var C=Ut(a);return c==null?C:(c=Xe(c,_,4),Mr(C,function(F){return In(F,c,i,!0)}))}var ku=Se(function(a,c){return je(a)?kr(a,c):[]});function zu(){for(var a=-1,c=arguments.length;++a<c;){var _=arguments[a];if(je(_))var w=w?Br(kr(w,_),kr(_,w)):_}return w?Ot(w):[]}var Hu=Se(Ut);function Ei(a,c){var _=-1,w=a?a.length:0,C={};for(w&&!c&&!me(a[0])&&(c=[]);++_<w;){var F=a[_];c?C[F]=c[_]:F&&(C[F[0]]=F[1])}return C}var Ku=Se(function(a){var c=a.length,_=c>2?a[c-2]:i,w=c>1?a[c-1]:i;return c>2&&typeof _=="function"?c-=2:(_=c>1&&typeof w=="function"?(--c,w):i,w=i),a.length=c,Ii(a,_,w)});function Oi(a){var c=D(a);return c.__chain__=!0,c}function Ju(a,c,_){return c.call(_,a),a}function Bt(a,c,_){return c.call(_,a)}function Qu(){return Oi(this)}function Xu(){return new rr(this.value(),this.__chain__)}var Yu=Se(function(a){return a=Je(a),this.thru(function(c){return Ja(me(c)?c:[ir(c)],a)})});function Zu(a){for(var c,_=this;_ instanceof nt;){var w=Ri(_);c?C.__wrapped__=w:c=w;var C=w;_=_.__wrapped__}return C.__wrapped__=a,c}function es(){var a=this.__wrapped__,c=function(w){return _&&_.__dir__<0?w:w.reverse()};if(a instanceof be){var _=a;return this.__actions__.length&&(_=new be(this)),_=_.reverse(),_.__actions__.push({func:Bt,args:[c],thisArg:i}),new rr(_,this.__chain__)}return this.thru(c)}function rs(){return this.value()+""}function ts(){return kn(this.__wrapped__,this.__actions__)}var ns=Se(function(a,c){return Tn(a,Je(c))}),as=ot(function(a,c,_){Ne.call(a,_)?++a[_]:a[_]=1});function Ti(a,c,_){var w=me(a)?Cn:ru;return _&&ye(a,c,_)&&(c=i),(typeof c!="function"||_!==i)&&(c=Ee(c,_,3)),w(a,c)}function jt(a,c,_){var w=me(a)?qt:Ln;return c=Ee(c,_,3),w(a,c)}var Wt=ti(nr),us=ti(wt,!0);function ss(a,c){return Wt(a,zr(c))}var Fi=ui(tr,nr),Mi=ui(Qa,wt),cs=ot(function(a,c,_){Ne.call(a,_)?a[_].push(c):a[_]=[c]});function kt(a,c,_,w){var C=a?Hr(a):0;return or(C)||(a=pt(a),C=a.length),typeof _!="number"||w&&ye(c,_,w)?_=0:_=_<0?Be(C+_,0):_||0,typeof a=="string"||!me(a)&&Xt(a)?_<=C&&a.indexOf(c,_)>-1:!!C&&Lr(a,c,_)>-1}var ls=ot(function(a,c,_){a[_]=c}),fs=Se(function(a,c,_){var w=-1,C=typeof c=="function",F=Sr(c),$=je(a)?de(a.length):[];return nr(a,function(z){var J=C?c:F&&z!=null?z[c]:i;$[++w]=J?J.apply(z,_):Vt(z,c,_)}),$});function zt(a,c,_){var w=me(a)?Mr:Ct;return c=Ee(c,_,3),w(a,c)}var ds=ot(function(a,c,_){a[_?0:1].push(c)},function(){return[[],[]]});function hs(a,c){return zt(a,gt(c))}var Ht=di(In,nr),Li=di(Ya,wt);function ps(a,c,_){var w=me(a)?qt:Ln;return c=Ee(c,_,3),w(a,function(C,F,$){return!c(C,F,$)})}function dt(a,c,_){if(_?ye(a,c,_):c==null){a=$t(a);var F=a.length;return F>0?a[Et(0,F-1)]:i}var w=-1,C=zi(a),F=C.length,$=F-1;for(c=Ke(c<0?0:+c||0,F);++w<c;){var z=Et(w,$),J=C[z];C[z]=C[w],C[w]=J}return C.length=c,C}function vs(a){return dt(a,Zr)}function gs(a){var c=a?Hr(a):0;return or(c)?c:ke(a).length}function Pi(a,c,_){var w=me(a)?En:ou;return _&&ye(a,c,_)&&(c=i),(typeof c!="function"||_!==i)&&(c=Ee(c,_,3)),w(a,c)}function _s(a,c,_){if(a==null)return[];_&&ye(a,c,_)&&(c=i);var w=-1;c=Ee(c,_,3);var C=Ct(a,function(F,$,z){return{criteria:c(F,$,z),index:++w,value:F}});return jn(C,ya)}var ys=Se(function(a,c){if(a==null)return[];var _=c[2];return _&&ye(c[0],c[1],_)&&(c.length=1),Wn(a,Je(c),[])});function bs(a,c,_,w){return a==null?[]:(w&&ye(c,_,w)&&(_=i),me(c)||(c=c==null?[]:[c]),me(_)||(_=_==null?[]:[_]),Wn(a,c,_))}function qs(a,c){return jt(a,zr(c))}var Jr=Da||function(){return new _e().getTime()};function Rs(a,c){if(typeof c!="function")if(typeof a=="function"){var _=a;a=c,c=_}else throw new Ye(A);return a=Fr(a=+a)?a:0,function(){if(--a<1)return c.apply(this,arguments)}}function ws(a,c,_){return _&&ye(a,c,_)&&(c=i),c=a&&c==null?a.length:Be(+c||0,0),gr(a,l,i,i,i,i,c)}function Di(a,c){var _;if(typeof c!="function")if(typeof a=="function"){var w=a;a=c,c=w}else throw new Ye(A);return function(){return--a>0&&(_=c.apply(this,arguments)),a<=1&&(c=i),_}}var Vi=Se(function(a,c,_){var w=r;if(_.length){var C=Or(_,Vi.placeholder);w|=o}return gr(a,w,c,_,C)}),Ss=Se(function(a,c){c=c.length?Je(c):en(a);for(var _=-1,w=c.length;++_<w;){var C=c[_];a[C]=gr(a[C],r,a)}return a}),Ni=Se(function(a,c,_){var w=r|u;if(_.length){var C=Or(_,Ni.placeholder);w|=o}return gr(c,w,a,_,C)}),xs=Zn(h),As=Zn(v);function $i(a,c,_){var w,C,F,$,z,J,re,ue=0,ce=!1,pe=!0;if(typeof a!="function")throw new Ye(A);if(c=c<0?0:+c||0,_===!0){var he=!0;pe=!1}else Me(_)&&(he=!!_.leading,ce="maxWait"in _&&Be(+_.maxWait||0,c),pe="trailing"in _?!!_.trailing:pe);function xe(){J&&Gr(J),C&&Gr(C),ue=0,C=J=re=i}function Ce(ze,Ie){Ie&&Gr(Ie),C=J=re=i,ze&&(ue=Jr(),F=a.apply(z,w),!J&&!C&&(w=z=i))}function Le(){var ze=c-(Jr()-$);ze<=0||ze>c?Ce(re,C):J=Xr(Le,ze)}function Ge(){Ce(pe,J)}function De(){if(w=arguments,$=Jr(),z=this,re=pe&&(J||!he),ce===!1)var ze=he&&!J;else{!C&&!he&&(ue=$);var Ie=ce-($-ue),cr=Ie<=0||Ie>ce;cr?(C&&(C=Gr(C)),ue=$,F=a.apply(z,w)):C||(C=Xr(Ge,Ie))}return cr&&J?J=Gr(J):!J&&c!==ce&&(J=Xr(Le,c)),ze&&(cr=!0,F=a.apply(z,w)),cr&&!J&&!C&&(w=z=i),F}return De.cancel=xe,De}var Cs=Se(function(a,c){return Mn(a,1,c)}),Is=Se(function(a,c,_){return Mn(a,c,_)}),Es=ai(),Kt=ai(!0);function Jt(a,c){if(typeof a!="function"||c&&typeof c!="function")throw new Ye(A);var _=function(){var w=arguments,C=c?c.apply(this,w):w[0],F=_.cache;if(F.has(C))return F.get(C);var $=a.apply(this,w);return _.cache=F.set(C,$),$};return _.cache=new Jt.Cache,_}var Os=Se(function(a,c){if(c=Je(c),typeof a!="function"||!Cn(c,ma))throw new Ye(A);var _=c.length;return Se(function(w){for(var C=Ke(w.length,_);C--;)w[C]=c[C](w[C]);return a.apply(this,w)})});function Ts(a){if(typeof a!="function")throw new Ye(A);return function(){return!a.apply(this,arguments)}}function Fs(a){return Di(2,a)}var Ms=fi(o),Ls=fi(p),Ps=Se(function(a,c){return gr(a,g,i,i,i,Je(c))});function Se(a,c){if(typeof a!="function")throw new Ye(A);return c=Be(c===i?a.length-1:+c||0,0),function(){for(var _=arguments,w=-1,C=Be(_.length-c,0),F=de(C);++w<C;)F[w]=_[c+w];switch(c){case 0:return a.call(this,F);case 1:return a.call(this,_[0],F);case 2:return a.call(this,_[0],_[1],F)}var $=de(c+1);for(w=-1;++w<c;)$[w]=_[w];return $[c]=F,a.apply(this,$)}}function Ds(a){if(typeof a!="function")throw new Ye(A);return function(c){return a.apply(this,c)}}function Vs(a,c,_){var w=!0,C=!0;if(typeof a!="function")throw new Ye(A);return _===!1?w=!1:Me(_)&&(w="leading"in _?!!_.leading:w,C="trailing"in _?!!_.trailing:C),$i(a,c,{leading:w,maxWait:+c,trailing:C})}function Ns(a,c){return c=c??Ar,gr(c,o,i,[a],[])}function $s(a,c,_,w){return c&&typeof c!="boolean"&&ye(a,c,_)?c=!1:typeof c=="function"&&(w=_,_=c,c=!1),typeof _=="function"?Rr(a,c,Xe(_,w,1)):Rr(a,c)}function Gs(a,c,_){return typeof c=="function"?Rr(a,!0,Xe(c,_,1)):Rr(a,!0)}function Gi(a,c){return a>c}function Us(a,c){return a>=c}function pr(a){return $e(a)&&je(a)&&Ne.call(a,"callee")&&!La.call(a,"callee")}var me=Pa||function(a){return $e(a)&&or(a.length)&&Qe.call(a)==I};function Bs(a){return a===!0||a===!1||$e(a)&&Qe.call(a)==V}function js(a){return $e(a)&&Qe.call(a)==G}function Ws(a){return!!a&&a.nodeType===1&&$e(a)&&!ht(a)}function ks(a){return a==null?!0:je(a)&&(me(a)||Xt(a)||pr(a)||$e(a)&&xr(a.splice))?!a.length:!ke(a).length}function Ui(a,c,_,w){_=typeof _=="function"?Xe(_,w,3):i;var C=_?_(a,c):i;return C===i?ut(a,c,_):!!C}function Qt(a){return $e(a)&&typeof a.message=="string"&&Qe.call(a)==Q}function zs(a){return typeof a=="number"&&Fr(a)}function xr(a){return Me(a)&&Qe.call(a)==k}function Me(a){var c=typeof a;return!!a&&(c=="object"||c=="function")}function Hs(a,c,_,w){return _=typeof _=="function"?Xe(_,w,3):i,Nn(a,vi(c),_)}function Ks(a){return ji(a)&&a!=+a}function Bi(a){return a==null?!1:xr(a)?Oa.test(_n.call(a)):$e(a)&&mt.test(a)}function Js(a){return a===null}function ji(a){return typeof a=="number"||$e(a)&&Qe.call(a)==P}function ht(a){var c;if(!($e(a)&&Qe.call(a)==j&&!pr(a))||!Ne.call(a,"constructor")&&(c=a.constructor,typeof c=="function"&&!(c instanceof c)))return!1;var _;return Vn(a,function(w,C){_=C}),_===i||Ne.call(a,_)}function Wi(a){return Me(a)&&Qe.call(a)==M}function Xt(a){return typeof a=="string"||$e(a)&&Qe.call(a)==L}function Dr(a){return $e(a)&&or(a.length)&&!!Te[Qe.call(a)]}function Qs(a){return a===i}function ki(a,c){return a<c}function Xs(a,c){return a<=c}function zi(a){var c=a?Hr(a):0;return or(c)?c?He(a):[]:pt(a)}function Hi(a){return Fn(a,yr(a))}var Yt=Qn(Gn),Zt=Qn(function(a,c,_){return _?Rt(a,c,_):jr(a,c)});function Ys(a,c,_){var w=Wr(a);return _&&ye(a,c,_)&&(c=i),c?jr(w,c):w}var Zs=ei(Zt,eu),eo=ei(Yt,_i),ro=ii(hr),to=ii(xt),no=si(St),io=si(Dn),ao=oi(hr),uo=oi(xt);function en(a){return At(a,yr(a))}function so(a,c,_){var w=a==null?i:wr(a,mr(c),c+"");return w===i?_:w}function oo(a,c){if(a==null)return!1;var _=Ne.call(a,c);if(!_&&!Sr(c)){if(c=mr(c),a=c.length==1?a:wr(a,Ze(c,0,-1)),a==null)return!1;c=Kr(c),_=Ne.call(a,c)}return _||or(a.length)&&_r(c,a.length)&&(me(a)||pr(a))}function co(a,c,_){_&&ye(a,c,_)&&(c=i);for(var w=-1,C=ke(a),F=C.length,$={};++w<F;){var z=C[w],J=a[z];c?Ne.call($,J)?$[J].push(z):$[J]=[z]:$[J]=z}return $}var ke=wn?function(a){var c=a==null?i:a.constructor;return typeof c=="function"&&c.prototype===a||typeof a!="function"&&je(a)?qi(a):Me(a)?wn(a):[]}:qi;function yr(a){if(a==null)return[];Me(a)||(a=Ue(a));var c=a.length;c=c&&or(c)&&(me(a)||pr(a))&&c||0;for(var _=a.constructor,w=-1,C=typeof _=="function"&&_.prototype===a,F=de(c),$=c>0;++w<c;)F[w]=w+"";for(var z in a)!($&&_r(z,c))&&!(z=="constructor"&&(C||!Ne.call(a,z)))&&F.push(z);return F}var lo=ci(!0),fo=ci(),ho=Se(function(a,c){if(a==null)return{};if(typeof c[0]!="function"){var c=Mr(Je(c),$r);return mi(a,kr(yr(a),c))}var _=Xe(c[0],c[1],3);return yi(a,function(w,C,F){return!_(w,C,F)})});function Ki(a){a=ir(a);for(var c=-1,_=ke(a),w=_.length,C=de(w);++c<w;){var F=_[c];C[c]=[F,a[F]]}return C}var po=Se(function(a,c){return a==null?{}:typeof c[0]=="function"?yi(a,Xe(c[0],c[1],3)):mi(a,Je(c))});function vo(a,c,_){var w=a==null?i:a[c];return w===i&&(a!=null&&!Sr(c,a)&&(c=mr(c),a=c.length==1?a:wr(a,Ze(c,0,-1)),w=a==null?i:a[Kr(c)]),w=w===i?_:w),xr(w)?w.call(a):w}function go(a,c,_){if(a==null)return a;var w=c+"";c=a[w]!=null||Sr(c,a)?[w]:mr(c);for(var C=-1,F=c.length,$=F-1,z=a;z!=null&&++C<F;){var J=c[C];Me(z)&&(C==$?z[J]=_:z[J]==null&&(z[J]=_r(c[C+1])?[]:{})),z=z[J]}return a}function _o(a,c,_,w){var C=me(a)||Dr(a);if(c=Ee(c,w,4),_==null)if(C||Me(a)){var F=a.constructor;C?_=me(a)?new F:[]:_=Wr(xr(F)?F.prototype:i)}else _={};return(C?tr:hr)(a,function($,z,J){return c(_,$,z,J)}),_}function pt(a){return Tt(a,ke(a))}function mo(a){return Tt(a,yr(a))}function yo(a,c,_){return c=+c||0,_===i?(_=c,c=0):_=+_||0,a>=Ke(c,_)&&a<Be(c,_)}function bo(a,c,_){_&&ye(a,c,_)&&(c=_=i);var w=a==null,C=c==null;if(_==null&&(C&&typeof a=="boolean"?(_=a,a=1):typeof c=="boolean"&&(_=c,C=!0)),w&&C&&(c=1,C=!1),a=+a||0,C?(c=a,a=0):c=+c||0,_||a%1||c%1){var F=Sn();return Ke(a+F*(c-a+Fa("1e-"+((F+"").length-1))),c)}return Et(a,c)}var qo=ct(function(a,c,_){return c=c.toLowerCase(),a+(_?c.charAt(0).toUpperCase()+c.slice(1):c)});function Ro(a){return a=Ve(a),a&&a.charAt(0).toUpperCase()+a.slice(1)}function Ji(a){return a=Ve(a),a&&a.replace(ua,qa).replace(br,"")}function wo(a,c,_){a=Ve(a),c=c+"";var w=a.length;return _=_===i?w:Ke(_<0?0:+_||0,w),_-=c.length,_>=0&&a.indexOf(c,_)==_}function So(a){return a=Ve(a),a&&ve.test(a)?a.replace(oe,Ra):a}function xo(a){return a=Ve(a),a&&Cr.test(a)?a.replace(We,wa):a||"(?:)"}var Ao=ct(function(a,c,_){return a+(_?"-":"")+c.toLowerCase()});function Co(a,c,_){a=Ve(a),c=+c;var w=a.length;if(w>=c||!Fr(c))return a;var C=(c-w)/2,F=qr(C),$=Yr(C);return _=hi("",$,_),_.slice(0,F)+a+_}var Io=li(),Eo=li(!0);function Oo(a,c,_){return(_?ye(a,c,_):c==null)?c=0:c&&(c=+c),a=Xi(a),Va(a,c||(_t.test(a)?16:10))}function Qi(a,c){var _="";if(a=Ve(a),c=+c,c<1||!a||!Fr(c))return _;do c%2&&(_+=a),c=qr(c/2),a+=a;while(c);return _}var To=ct(function(a,c,_){return a+(_?"_":"")+c.toLowerCase()}),Fo=ct(function(a,c,_){return a+(_?" ":"")+(c.charAt(0).toUpperCase()+c.slice(1))});function Mo(a,c,_){return a=Ve(a),_=_==null?0:Ke(_<0?0:+_||0,a.length),a.lastIndexOf(c,_)==_}function Lo(a,c,_){var w=D.templateSettings;_&&ye(a,c,_)&&(c=_=i),a=Ve(a),c=Rt(jr({},_||c),w,On);var C=Rt(jr({},c.imports),w.imports,On),F=ke(C),$=Tt(C,F),z,J,re=0,ue=c.interpolate||Qr,ce="__p += '",pe=sr((c.escape||Qr).source+"|"+ue.source+"|"+(ue===Oe?fr:Qr).source+"|"+(c.evaluate||Qr).source+"|$","g"),he="//# sourceURL="+("sourceURL"in c?c.sourceURL:"lodash.templateSources["+ ++la+"]")+`
`;a.replace(pe,function(Le,Ge,De,ze,Ie,cr){return De||(De=ze),ce+=a.slice(re,cr).replace(sa,Sa),Ge&&(z=!0,ce+=`' +
__e(`+Ge+`) +
'`),Ie&&(J=!0,ce+=`';
`+Ie+`;
__p += '`),De&&(ce+=`' +
((__t = (`+De+`)) == null ? '' : __t) +
'`),re=cr+Le.length,Le}),ce+=`';
`;var xe=c.variable;xe||(ce=`with (obj) {
`+ce+`
}
`),ce=(J?ce.replace(Y,""):ce).replace(Z,"$1").replace(ee,"$1;"),ce="function("+(xe||"obj")+`) {
`+(xe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(z?", __e = _.escape":"")+(J?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ce+`return __p
}`;var Ce=Zi(function(){return Ae(F,he+"return "+ce).apply(i,$)});if(Ce.source=ce,Qt(Ce))throw Ce;return Ce}function Xi(a,c,_){var w=a;return a=Ve(a),a&&((_?ye(w,c,_):c==null)?a.slice(hn(a),pn(a)+1):(c=c+"",a.slice(cn(a,c),ln(a,c)+1)))}function Po(a,c,_){var w=a;return a=Ve(a),a&&((_?ye(w,c,_):c==null)?a.slice(hn(a)):a.slice(cn(a,c+"")))}function Do(a,c,_){var w=a;return a=Ve(a),a&&((_?ye(w,c,_):c==null)?a.slice(0,pn(a)+1):a.slice(0,ln(a,c+"")+1))}function Vo(a,c,_){_&&ye(a,c,_)&&(c=i);var w=m,C=y;if(c!=null)if(Me(c)){var F="separator"in c?c.separator:F;w="length"in c?+c.length||0:w,C="omission"in c?Ve(c.omission):C}else w=+c||0;if(a=Ve(a),w>=a.length)return a;var $=w-C.length;if($<1)return C;var z=a.slice(0,$);if(F==null)return z+C;if(Wi(F)){if(a.slice($).search(F)){var J,re,ue=a.slice(0,$);for(F.global||(F=sr(F.source,(Ir.exec(F)||"")+"g")),F.lastIndex=0;J=F.exec(ue);)re=J.index;z=z.slice(0,re??$)}}else if(a.indexOf(F,$)!=$){var ce=z.lastIndexOf(F);ce>-1&&(z=z.slice(0,ce))}return z+C}function No(a){return a=Ve(a),a&&fe.test(a)?a.replace(ne,Aa):a}function Yi(a,c,_){return _&&ye(a,c,_)&&(c=i),a=Ve(a),a.match(c||oa)||[]}var Zi=Se(function(a,c){try{return a.apply(i,c)}catch(_){return Qt(_)?_:new we(_)}});function vt(a,c,_){return _&&ye(a,c,_)&&(c=i),$e(a)?ea(a):at(a,c)}function $o(a){return function(){return a}}function Ar(a){return a}function ea(a){return zr(Rr(a,!0))}function Go(a,c){return $n(a,Rr(c,!0))}var Uo=Se(function(a,c){return function(_){return Vt(_,a,c)}}),Bo=Se(function(a,c){return function(_){return Vt(a,_,c)}});function rn(a,c,_){if(_==null){var w=Me(c),C=w?ke(c):i,F=C&&C.length?At(c,C):i;(F?F.length:w)||(F=!1,_=c,c=a,a=this)}F||(F=At(c,ke(c)));var $=!0,z=-1,J=xr(a),re=F.length;for(_===!1?$=!1:Me(_)&&("chain"in _)&&($=_.chain);++z<re;){var ue=F[z],ce=c[ue];a[ue]=ce,J&&(a.prototype[ue]=(function(pe){return function(){var he=this.__chain__;if($||he){var xe=a(this.__wrapped__),Ce=xe.__actions__=He(this.__actions__);return Ce.push({func:pe,args:arguments,thisArg:a}),xe.__chain__=he,xe}return pe.apply(a,Br([this.value()],arguments))}})(ce))}return a}function jo(){return dr._=Ea,this}function ra(){}function gt(a){return Sr(a)?It(a):uu(a)}function Wo(a){return function(c){return wr(a,mr(c),c+"")}}function ko(a,c,_){_&&ye(a,c,_)&&(c=_=i),a=+a||0,_=_==null?1:+_||0,c==null?(c=a,a=0):c=+c||0;for(var w=-1,C=Be(Yr((c-a)/(_||1)),0),F=de(C);++w<C;)F[w]=a,a+=_;return F}function zo(a,c,_){if(a=qr(a),a<1||!Fr(a))return[];var w=-1,C=de(Ke(a,et));for(c=Xe(c,_,1);++w<a;)w<et?C[w]=c(w):c(w);return C}function Ho(a){var c=++Ia;return Ve(a)+c}function Ko(a,c){return(+a||0)+(+c||0)}var Jo=Pt("ceil"),Qo=Pt("floor"),Xo=ri(Gi,Na),Yo=ri(ki,Zr),Zo=Pt("round");function ec(a,c,_){return _&&ye(a,c,_)&&(c=i),c=Ee(c,_,3),c.length==1?Za(me(a)?a:$t(a),c):cu(a,c)}return D.prototype=nt.prototype,rr.prototype=Wr(nt.prototype),rr.prototype.constructor=rr,be.prototype=Wr(nt.prototype),be.prototype.constructor=be,Ur.prototype.delete=Wa,Ur.prototype.get=ka,Ur.prototype.has=za,Ur.prototype.set=Ha,An.prototype.push=Ka,Jt.Cache=Ur,D.after=Rs,D.ary=ws,D.assign=Zt,D.at=ns,D.before=Di,D.bind=Vi,D.bindAll=Ss,D.bindKey=Ni,D.callback=vt,D.chain=Oi,D.chunk=qu,D.compact=Ru,D.constant=$o,D.countBy=as,D.create=Ys,D.curry=xs,D.curryRight=As,D.debounce=$i,D.defaults=Zs,D.defaultsDeep=eo,D.defer=Cs,D.delay=Is,D.difference=wu,D.drop=wi,D.dropRight=Si,D.dropRightWhile=Su,D.dropWhile=xu,D.fill=Au,D.filter=jt,D.flatten=Eu,D.flattenDeep=Ou,D.flow=Es,D.flowRight=Kt,D.forEach=Fi,D.forEachRight=Mi,D.forIn=no,D.forInRight=io,D.forOwn=ao,D.forOwnRight=uo,D.functions=en,D.groupBy=cs,D.indexBy=ls,D.initial=Tu,D.intersection=Fu,D.invert=co,D.invoke=fs,D.keys=ke,D.keysIn=yr,D.map=zt,D.mapKeys=lo,D.mapValues=fo,D.matches=ea,D.matchesProperty=Go,D.memoize=Jt,D.merge=Yt,D.method=Uo,D.methodOf=Bo,D.mixin=rn,D.modArgs=Os,D.negate=Ts,D.omit=ho,D.once=Fs,D.pairs=Ki,D.partial=Ms,D.partialRight=Ls,D.partition=ds,D.pick=po,D.pluck=hs,D.property=gt,D.propertyOf=Wo,D.pull=Lu,D.pullAt=Pu,D.range=ko,D.rearg=Ps,D.reject=ps,D.remove=Du,D.rest=Ai,D.restParam=Se,D.set=go,D.shuffle=vs,D.slice=Vu,D.sortBy=_s,D.sortByAll=ys,D.sortByOrder=bs,D.spread=Ds,D.take=Gu,D.takeRight=Uu,D.takeRightWhile=Bu,D.takeWhile=ju,D.tap=Ju,D.throttle=Vs,D.thru=Bt,D.times=zo,D.toArray=zi,D.toPlainObject=Hi,D.transform=_o,D.union=Wu,D.uniq=Ci,D.unzip=Ut,D.unzipWith=Ii,D.values=pt,D.valuesIn=mo,D.where=qs,D.without=ku,D.wrap=Ns,D.xor=zu,D.zip=Hu,D.zipObject=Ei,D.zipWith=Ku,D.backflow=Kt,D.collect=zt,D.compose=Kt,D.each=Fi,D.eachRight=Mi,D.extend=Zt,D.iteratee=vt,D.methods=en,D.object=Ei,D.select=jt,D.tail=Ai,D.unique=Ci,rn(D,D),D.add=Ko,D.attempt=Zi,D.camelCase=qo,D.capitalize=Ro,D.ceil=Jo,D.clone=$s,D.cloneDeep=Gs,D.deburr=Ji,D.endsWith=wo,D.escape=So,D.escapeRegExp=xo,D.every=Ti,D.find=Wt,D.findIndex=Cu,D.findKey=ro,D.findLast=us,D.findLastIndex=Iu,D.findLastKey=to,D.findWhere=ss,D.first=xi,D.floor=Qo,D.get=so,D.gt=Gi,D.gte=Us,D.has=oo,D.identity=Ar,D.includes=kt,D.indexOf=Gt,D.inRange=yo,D.isArguments=pr,D.isArray=me,D.isBoolean=Bs,D.isDate=js,D.isElement=Ws,D.isEmpty=ks,D.isEqual=Ui,D.isError=Qt,D.isFinite=zs,D.isFunction=xr,D.isMatch=Hs,D.isNaN=Ks,D.isNative=Bi,D.isNull=Js,D.isNumber=ji,D.isObject=Me,D.isPlainObject=ht,D.isRegExp=Wi,D.isString=Xt,D.isTypedArray=Dr,D.isUndefined=Qs,D.kebabCase=Ao,D.last=Kr,D.lastIndexOf=Mu,D.lt=ki,D.lte=Xs,D.max=Xo,D.min=Yo,D.noConflict=jo,D.noop=ra,D.now=Jr,D.pad=Co,D.padLeft=Io,D.padRight=Eo,D.parseInt=Oo,D.random=bo,D.reduce=Ht,D.reduceRight=Li,D.repeat=Qi,D.result=vo,D.round=Zo,D.runInContext=vn,D.size=gs,D.snakeCase=To,D.some=Pi,D.sortedIndex=Nu,D.sortedLastIndex=$u,D.startCase=Fo,D.startsWith=Mo,D.sum=ec,D.template=Lo,D.trim=Xi,D.trimLeft=Po,D.trimRight=Do,D.trunc=Vo,D.unescape=No,D.uniqueId=Ho,D.words=Yi,D.all=Ti,D.any=Pi,D.contains=kt,D.eq=Ui,D.detect=Wt,D.foldl=Ht,D.foldr=Li,D.head=xi,D.include=kt,D.inject=Ht,rn(D,(function(){var a={};return hr(D,function(c,_){D.prototype[_]||(a[_]=c)}),a})(),!1),D.sample=dt,D.prototype.sample=function(a){return!this.__chain__&&a==null?dt(this.value()):this.thru(function(c){return dt(c,a)})},D.VERSION=t,tr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){D[a].placeholder=D}),tr(["drop","take"],function(a,c){be.prototype[a]=function(_){var w=this.__filtered__;if(w&&!c)return new be(this);_=_==null?1:Be(qr(_)||0,0);var C=this.clone();return w?C.__takeCount__=Ke(C.__takeCount__,_):C.__views__.push({size:_,type:a+(C.__dir__<0?"Right":"")}),C},be.prototype[a+"Right"]=function(_){return this.reverse()[a](_).reverse()}}),tr(["filter","map","takeWhile"],function(a,c){var _=c+1,w=_!=R;be.prototype[a]=function(C,F){var $=this.clone();return $.__iteratees__.push({iteratee:Ee(C,F,1),type:_}),$.__filtered__=$.__filtered__||w,$}}),tr(["first","last"],function(a,c){var _="take"+(c?"Right":"");be.prototype[a]=function(){return this[_](1).value()[0]}}),tr(["initial","rest"],function(a,c){var _="drop"+(c?"":"Right");be.prototype[a]=function(){return this.__filtered__?new be(this):this[_](1)}}),tr(["pluck","where"],function(a,c){var _=c?"filter":"map",w=c?zr:gt;be.prototype[a]=function(C){return this[_](w(C))}}),be.prototype.compact=function(){return this.filter(Ar)},be.prototype.reject=function(a,c){return a=Ee(a,c,1),this.filter(function(_){return!a(_)})},be.prototype.slice=function(a,c){a=a==null?0:+a||0;var _=this;return _.__filtered__&&(a>0||c<0)?new be(_):(a<0?_=_.takeRight(-a):a&&(_=_.drop(a)),c!==i&&(c=+c||0,_=c<0?_.dropRight(-c):_.take(c-a)),_)},be.prototype.takeRightWhile=function(a,c){return this.reverse().takeWhile(a,c).reverse()},be.prototype.toArray=function(){return this.take(Zr)},hr(be.prototype,function(a,c){var _=/^(?:filter|map|reject)|While$/.test(c),w=/^(?:first|last)$/.test(c),C=D[w?"take"+(c=="last"?"Right":""):c];C&&(D.prototype[c]=function(){var F=w?[1]:arguments,$=this.__chain__,z=this.__wrapped__,J=!!this.__actions__.length,re=z instanceof be,ue=F[0],ce=re||me(z);ce&&_&&typeof ue=="function"&&ue.length!=1&&(re=ce=!1);var pe=function(Le){return w&&$?C(Le,1)[0]:C.apply(i,Br([Le],F))},he={func:Bt,args:[pe],thisArg:i},xe=re&&!J;if(w&&!$)return xe?(z=z.clone(),z.__actions__.push(he),a.call(z)):C.call(i,this.value())[0];if(!w&&ce){z=xe?z:new be(this);var Ce=a.apply(z,F);return Ce.__actions__.push(he),new rr(Ce,$)}return this.thru(pe)})}),tr(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(a){var c=(/^(?:replace|split)$/.test(a)?Ca:gn)[a],_=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",w=/^(?:join|pop|replace|shift)$/.test(a);D.prototype[a]=function(){var C=arguments;return w&&!this.__chain__?c.apply(this.value(),C):this[_](function(F){return c.apply(F,C)})}}),hr(be.prototype,function(a,c){var _=D[c];if(_){var w=_.name,C=tt[w]||(tt[w]=[]);C.push({name:c,func:_})}}),tt[Lt(i,u).name]=[{name:"wrapper",func:i}],be.prototype.clone=Ua,be.prototype.reverse=Ba,be.prototype.value=ja,D.prototype.chain=Qu,D.prototype.commit=Xu,D.prototype.concat=Yu,D.prototype.plant=Zu,D.prototype.reverse=es,D.prototype.toString=rs,D.prototype.run=D.prototype.toJSON=D.prototype.valueOf=D.prototype.value=ts,D.prototype.collect=D.prototype.map,D.prototype.head=D.prototype.first,D.prototype.select=D.prototype.filter,D.prototype.tail=D.prototype.rest,D}var Tr=vn();Vr&&Nr?_a?(Nr.exports=Tr)._=Tr:Vr._=Tr:dr._=Tr}).call(lodash)})(lodash$1,lodash$1.exports)),lodash$1.exports}var identity_1,hasRequiredIdentity;function requireIdentity(){if(hasRequiredIdentity)return identity_1;hasRequiredIdentity=1;function e(n){return n}return identity_1=e,identity_1}var _apply,hasRequired_apply;function require_apply(){if(hasRequired_apply)return _apply;hasRequired_apply=1;function e(n,i,t){switch(t.length){case 0:return n.call(i);case 1:return n.call(i,t[0]);case 2:return n.call(i,t[0],t[1]);case 3:return n.call(i,t[0],t[1],t[2])}return n.apply(i,t)}return _apply=e,_apply}var _overRest,hasRequired_overRest;function require_overRest(){if(hasRequired_overRest)return _overRest;hasRequired_overRest=1;var e=require_apply(),n=Math.max;function i(t,r,u){return r=n(r===void 0?t.length-1:r,0),function(){for(var s=arguments,h=-1,v=n(s.length-r,0),o=Array(v);++h<v;)o[h]=s[r+h];h=-1;for(var p=Array(r+1);++h<r;)p[h]=s[h];return p[r]=u(o),e(t,this,p)}}return _overRest=i,_overRest}var constant_1,hasRequiredConstant;function requireConstant(){if(hasRequiredConstant)return constant_1;hasRequiredConstant=1;function e(n){return function(){return n}}return constant_1=e,constant_1}var _freeGlobal,hasRequired_freeGlobal;function require_freeGlobal(){if(hasRequired_freeGlobal)return _freeGlobal;hasRequired_freeGlobal=1;var e=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal;return _freeGlobal=e,_freeGlobal}var _root,hasRequired_root;function require_root(){if(hasRequired_root)return _root;hasRequired_root=1;var e=require_freeGlobal(),n=typeof self=="object"&&self&&self.Object===Object&&self,i=e||n||Function("return this")();return _root=i,_root}var _Symbol,hasRequired_Symbol;function require_Symbol(){if(hasRequired_Symbol)return _Symbol;hasRequired_Symbol=1;var e=require_root(),n=e.Symbol;return _Symbol=n,_Symbol}var _getRawTag,hasRequired_getRawTag;function require_getRawTag(){if(hasRequired_getRawTag)return _getRawTag;hasRequired_getRawTag=1;var e=require_Symbol(),n=Object.prototype,i=n.hasOwnProperty,t=n.toString,r=e?e.toStringTag:void 0;function u(s){var h=i.call(s,r),v=s[r];try{s[r]=void 0;var o=!0}catch{}var p=t.call(s);return o&&(h?s[r]=v:delete s[r]),p}return _getRawTag=u,_getRawTag}var _objectToString,hasRequired_objectToString;function require_objectToString(){if(hasRequired_objectToString)return _objectToString;hasRequired_objectToString=1;var e=Object.prototype,n=e.toString;function i(t){return n.call(t)}return _objectToString=i,_objectToString}var _baseGetTag,hasRequired_baseGetTag;function require_baseGetTag(){if(hasRequired_baseGetTag)return _baseGetTag;hasRequired_baseGetTag=1;var e=require_Symbol(),n=require_getRawTag(),i=require_objectToString(),t="[object Null]",r="[object Undefined]",u=e?e.toStringTag:void 0;function s(h){return h==null?h===void 0?r:t:u&&u in Object(h)?n(h):i(h)}return _baseGetTag=s,_baseGetTag}var isObject_1$2,hasRequiredIsObject$3;function requireIsObject$3(){if(hasRequiredIsObject$3)return isObject_1$2;hasRequiredIsObject$3=1;function e(n){var i=typeof n;return n!=null&&(i=="object"||i=="function")}return isObject_1$2=e,isObject_1$2}var isFunction_1,hasRequiredIsFunction$1;function requireIsFunction$1(){if(hasRequiredIsFunction$1)return isFunction_1;hasRequiredIsFunction$1=1;var e=require_baseGetTag(),n=requireIsObject$3(),i="[object AsyncFunction]",t="[object Function]",r="[object GeneratorFunction]",u="[object Proxy]";function s(h){if(!n(h))return!1;var v=e(h);return v==t||v==r||v==i||v==u}return isFunction_1=s,isFunction_1}var _coreJsData,hasRequired_coreJsData;function require_coreJsData(){if(hasRequired_coreJsData)return _coreJsData;hasRequired_coreJsData=1;var e=require_root(),n=e["__core-js_shared__"];return _coreJsData=n,_coreJsData}var _isMasked,hasRequired_isMasked;function require_isMasked(){if(hasRequired_isMasked)return _isMasked;hasRequired_isMasked=1;var e=require_coreJsData(),n=(function(){var t=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function i(t){return!!n&&n in t}return _isMasked=i,_isMasked}var _toSource,hasRequired_toSource;function require_toSource(){if(hasRequired_toSource)return _toSource;hasRequired_toSource=1;var e=Function.prototype,n=e.toString;function i(t){if(t!=null){try{return n.call(t)}catch{}try{return t+""}catch{}}return""}return _toSource=i,_toSource}var _baseIsNative,hasRequired_baseIsNative;function require_baseIsNative(){if(hasRequired_baseIsNative)return _baseIsNative;hasRequired_baseIsNative=1;var e=requireIsFunction$1(),n=require_isMasked(),i=requireIsObject$3(),t=require_toSource(),r=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,s=Function.prototype,h=Object.prototype,v=s.toString,o=h.hasOwnProperty,p=RegExp("^"+v.call(o).replace(r,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function l(g){if(!i(g)||n(g))return!1;var m=e(g)?p:u;return m.test(t(g))}return _baseIsNative=l,_baseIsNative}var _getValue,hasRequired_getValue;function require_getValue(){if(hasRequired_getValue)return _getValue;hasRequired_getValue=1;function e(n,i){return n?.[i]}return _getValue=e,_getValue}var _getNative,hasRequired_getNative;function require_getNative(){if(hasRequired_getNative)return _getNative;hasRequired_getNative=1;var e=require_baseIsNative(),n=require_getValue();function i(t,r){var u=n(t,r);return e(u)?u:void 0}return _getNative=i,_getNative}var _defineProperty,hasRequired_defineProperty;function require_defineProperty(){if(hasRequired_defineProperty)return _defineProperty;hasRequired_defineProperty=1;var e=require_getNative(),n=(function(){try{var i=e(Object,"defineProperty");return i({},"",{}),i}catch{}})();return _defineProperty=n,_defineProperty}var _baseSetToString,hasRequired_baseSetToString;function require_baseSetToString(){if(hasRequired_baseSetToString)return _baseSetToString;hasRequired_baseSetToString=1;var e=requireConstant(),n=require_defineProperty(),i=requireIdentity(),t=n?function(r,u){return n(r,"toString",{configurable:!0,enumerable:!1,value:e(u),writable:!0})}:i;return _baseSetToString=t,_baseSetToString}var _shortOut,hasRequired_shortOut;function require_shortOut(){if(hasRequired_shortOut)return _shortOut;hasRequired_shortOut=1;var e=800,n=16,i=Date.now;function t(r){var u=0,s=0;return function(){var h=i(),v=n-(h-s);if(s=h,v>0){if(++u>=e)return arguments[0]}else u=0;return r.apply(void 0,arguments)}}return _shortOut=t,_shortOut}var _setToString,hasRequired_setToString;function require_setToString(){if(hasRequired_setToString)return _setToString;hasRequired_setToString=1;var e=require_baseSetToString(),n=require_shortOut(),i=n(e);return _setToString=i,_setToString}var _baseRest,hasRequired_baseRest;function require_baseRest(){if(hasRequired_baseRest)return _baseRest;hasRequired_baseRest=1;var e=requireIdentity(),n=require_overRest(),i=require_setToString();function t(r,u){return i(n(r,u,e),r+"")}return _baseRest=t,_baseRest}var eq_1,hasRequiredEq;function requireEq(){if(hasRequiredEq)return eq_1;hasRequiredEq=1;function e(n,i){return n===i||n!==n&&i!==i}return eq_1=e,eq_1}var isLength_1,hasRequiredIsLength;function requireIsLength(){if(hasRequiredIsLength)return isLength_1;hasRequiredIsLength=1;var e=9007199254740991;function n(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=e}return isLength_1=n,isLength_1}var isArrayLike_1,hasRequiredIsArrayLike;function requireIsArrayLike(){if(hasRequiredIsArrayLike)return isArrayLike_1;hasRequiredIsArrayLike=1;var e=requireIsFunction$1(),n=requireIsLength();function i(t){return t!=null&&n(t.length)&&!e(t)}return isArrayLike_1=i,isArrayLike_1}var _isIndex,hasRequired_isIndex;function require_isIndex(){if(hasRequired_isIndex)return _isIndex;hasRequired_isIndex=1;var e=9007199254740991,n=/^(?:0|[1-9]\d*)$/;function i(t,r){var u=typeof t;return r=r??e,!!r&&(u=="number"||u!="symbol"&&n.test(t))&&t>-1&&t%1==0&&t<r}return _isIndex=i,_isIndex}var _isIterateeCall,hasRequired_isIterateeCall;function require_isIterateeCall(){if(hasRequired_isIterateeCall)return _isIterateeCall;hasRequired_isIterateeCall=1;var e=requireEq(),n=requireIsArrayLike(),i=require_isIndex(),t=requireIsObject$3();function r(u,s,h){if(!t(h))return!1;var v=typeof s;return(v=="number"?n(h)&&i(s,h.length):v=="string"&&s in h)?e(h[s],u):!1}return _isIterateeCall=r,_isIterateeCall}var _baseTimes,hasRequired_baseTimes;function require_baseTimes(){if(hasRequired_baseTimes)return _baseTimes;hasRequired_baseTimes=1;function e(n,i){for(var t=-1,r=Array(n);++t<n;)r[t]=i(t);return r}return _baseTimes=e,_baseTimes}var isObjectLike_1,hasRequiredIsObjectLike;function requireIsObjectLike(){if(hasRequiredIsObjectLike)return isObjectLike_1;hasRequiredIsObjectLike=1;function e(n){return n!=null&&typeof n=="object"}return isObjectLike_1=e,isObjectLike_1}var _baseIsArguments,hasRequired_baseIsArguments;function require_baseIsArguments(){if(hasRequired_baseIsArguments)return _baseIsArguments;hasRequired_baseIsArguments=1;var e=require_baseGetTag(),n=requireIsObjectLike(),i="[object Arguments]";function t(r){return n(r)&&e(r)==i}return _baseIsArguments=t,_baseIsArguments}var isArguments_1,hasRequiredIsArguments$1;function requireIsArguments$1(){if(hasRequiredIsArguments$1)return isArguments_1;hasRequiredIsArguments$1=1;var e=require_baseIsArguments(),n=requireIsObjectLike(),i=Object.prototype,t=i.hasOwnProperty,r=i.propertyIsEnumerable,u=e((function(){return arguments})())?e:function(s){return n(s)&&t.call(s,"callee")&&!r.call(s,"callee")};return isArguments_1=u,isArguments_1}var isArray_1,hasRequiredIsArray;function requireIsArray(){if(hasRequiredIsArray)return isArray_1;hasRequiredIsArray=1;var e=Array.isArray;return isArray_1=e,isArray_1}var isBuffer={exports:{}},stubFalse_1,hasRequiredStubFalse;function requireStubFalse(){if(hasRequiredStubFalse)return stubFalse_1;hasRequiredStubFalse=1;function e(){return!1}return stubFalse_1=e,stubFalse_1}isBuffer.exports;var hasRequiredIsBuffer;function requireIsBuffer(){return hasRequiredIsBuffer||(hasRequiredIsBuffer=1,(function(e,n){var i=require_root(),t=requireStubFalse(),r=n&&!n.nodeType&&n,u=r&&!0&&e&&!e.nodeType&&e,s=u&&u.exports===r,h=s?i.Buffer:void 0,v=h?h.isBuffer:void 0,o=v||t;e.exports=o})(isBuffer,isBuffer.exports)),isBuffer.exports}var _baseIsTypedArray,hasRequired_baseIsTypedArray;function require_baseIsTypedArray(){if(hasRequired_baseIsTypedArray)return _baseIsTypedArray;hasRequired_baseIsTypedArray=1;var e=require_baseGetTag(),n=requireIsLength(),i=requireIsObjectLike(),t="[object Arguments]",r="[object Array]",u="[object Boolean]",s="[object Date]",h="[object Error]",v="[object Function]",o="[object Map]",p="[object Number]",l="[object Object]",g="[object RegExp]",m="[object Set]",y="[object String]",b="[object WeakMap]",q="[object ArrayBuffer]",S="[object DataView]",x="[object Float32Array]",R="[object Float64Array]",A="[object Int8Array]",E="[object Int16Array]",T="[object Int32Array]",I="[object Uint8Array]",V="[object Uint8ClampedArray]",G="[object Uint16Array]",Q="[object Uint32Array]",k={};k[x]=k[R]=k[A]=k[E]=k[T]=k[I]=k[V]=k[G]=k[Q]=!0,k[t]=k[r]=k[q]=k[u]=k[S]=k[s]=k[h]=k[v]=k[o]=k[p]=k[l]=k[g]=k[m]=k[y]=k[b]=!1;function K(P){return i(P)&&n(P.length)&&!!k[e(P)]}return _baseIsTypedArray=K,_baseIsTypedArray}var _baseUnary,hasRequired_baseUnary;function require_baseUnary(){if(hasRequired_baseUnary)return _baseUnary;hasRequired_baseUnary=1;function e(n){return function(i){return n(i)}}return _baseUnary=e,_baseUnary}var _nodeUtil={exports:{}};_nodeUtil.exports;var hasRequired_nodeUtil;function require_nodeUtil(){return hasRequired_nodeUtil||(hasRequired_nodeUtil=1,(function(e,n){var i=require_freeGlobal(),t=n&&!n.nodeType&&n,r=t&&!0&&e&&!e.nodeType&&e,u=r&&r.exports===t,s=u&&i.process,h=(function(){try{var v=r&&r.require&&r.require("util").types;return v||s&&s.binding&&s.binding("util")}catch{}})();e.exports=h})(_nodeUtil,_nodeUtil.exports)),_nodeUtil.exports}var isTypedArray_1,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray_1;hasRequiredIsTypedArray=1;var e=require_baseIsTypedArray(),n=require_baseUnary(),i=require_nodeUtil(),t=i&&i.isTypedArray,r=t?n(t):e;return isTypedArray_1=r,isTypedArray_1}var _arrayLikeKeys,hasRequired_arrayLikeKeys;function require_arrayLikeKeys(){if(hasRequired_arrayLikeKeys)return _arrayLikeKeys;hasRequired_arrayLikeKeys=1;var e=require_baseTimes(),n=requireIsArguments$1(),i=requireIsArray(),t=requireIsBuffer(),r=require_isIndex(),u=requireIsTypedArray(),s=Object.prototype,h=s.hasOwnProperty;function v(o,p){var l=i(o),g=!l&&n(o),m=!l&&!g&&t(o),y=!l&&!g&&!m&&u(o),b=l||g||m||y,q=b?e(o.length,String):[],S=q.length;for(var x in o)(p||h.call(o,x))&&!(b&&(x=="length"||m&&(x=="offset"||x=="parent")||y&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||r(x,S)))&&q.push(x);return q}return _arrayLikeKeys=v,_arrayLikeKeys}var _isPrototype,hasRequired_isPrototype;function require_isPrototype(){if(hasRequired_isPrototype)return _isPrototype;hasRequired_isPrototype=1;var e=Object.prototype;function n(i){var t=i&&i.constructor,r=typeof t=="function"&&t.prototype||e;return i===r}return _isPrototype=n,_isPrototype}var _nativeKeysIn,hasRequired_nativeKeysIn;function require_nativeKeysIn(){if(hasRequired_nativeKeysIn)return _nativeKeysIn;hasRequired_nativeKeysIn=1;function e(n){var i=[];if(n!=null)for(var t in Object(n))i.push(t);return i}return _nativeKeysIn=e,_nativeKeysIn}var _baseKeysIn,hasRequired_baseKeysIn;function require_baseKeysIn(){if(hasRequired_baseKeysIn)return _baseKeysIn;hasRequired_baseKeysIn=1;var e=requireIsObject$3(),n=require_isPrototype(),i=require_nativeKeysIn(),t=Object.prototype,r=t.hasOwnProperty;function u(s){if(!e(s))return i(s);var h=n(s),v=[];for(var o in s)o=="constructor"&&(h||!r.call(s,o))||v.push(o);return v}return _baseKeysIn=u,_baseKeysIn}var keysIn_1,hasRequiredKeysIn;function requireKeysIn(){if(hasRequiredKeysIn)return keysIn_1;hasRequiredKeysIn=1;var e=require_arrayLikeKeys(),n=require_baseKeysIn(),i=requireIsArrayLike();function t(r){return i(r)?e(r,!0):n(r)}return keysIn_1=t,keysIn_1}var defaults_1$1,hasRequiredDefaults$1;function requireDefaults$1(){if(hasRequiredDefaults$1)return defaults_1$1;hasRequiredDefaults$1=1;var e=require_baseRest(),n=requireEq(),i=require_isIterateeCall(),t=requireKeysIn(),r=Object.prototype,u=r.hasOwnProperty,s=e(function(h,v){h=Object(h);var o=-1,p=v.length,l=p>2?v[2]:void 0;for(l&&i(v[0],v[1],l)&&(p=1);++o<p;)for(var g=v[o],m=t(g),y=-1,b=m.length;++y<b;){var q=m[y],S=h[q];(S===void 0||n(S,r[q])&&!u.call(h,q))&&(h[q]=g[q])}return h});return defaults_1$1=s,defaults_1$1}var _WeakMap,hasRequired_WeakMap;function require_WeakMap(){if(hasRequired_WeakMap)return _WeakMap;hasRequired_WeakMap=1;var e=require_getNative(),n=require_root(),i=e(n,"WeakMap");return _WeakMap=i,_WeakMap}var _metaMap,hasRequired_metaMap;function require_metaMap(){if(hasRequired_metaMap)return _metaMap;hasRequired_metaMap=1;var e=require_WeakMap(),n=e&&new e;return _metaMap=n,_metaMap}var _baseSetData,hasRequired_baseSetData;function require_baseSetData(){if(hasRequired_baseSetData)return _baseSetData;hasRequired_baseSetData=1;var e=requireIdentity(),n=require_metaMap(),i=n?function(t,r){return n.set(t,r),t}:e;return _baseSetData=i,_baseSetData}var _baseCreate,hasRequired_baseCreate;function require_baseCreate(){if(hasRequired_baseCreate)return _baseCreate;hasRequired_baseCreate=1;var e=requireIsObject$3(),n=Object.create,i=(function(){function t(){}return function(r){if(!e(r))return{};if(n)return n(r);t.prototype=r;var u=new t;return t.prototype=void 0,u}})();return _baseCreate=i,_baseCreate}var _createCtor,hasRequired_createCtor;function require_createCtor(){if(hasRequired_createCtor)return _createCtor;hasRequired_createCtor=1;var e=require_baseCreate(),n=requireIsObject$3();function i(t){return function(){var r=arguments;switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3]);case 5:return new t(r[0],r[1],r[2],r[3],r[4]);case 6:return new t(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new t(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var u=e(t.prototype),s=t.apply(u,r);return n(s)?s:u}}return _createCtor=i,_createCtor}var _createBind,hasRequired_createBind;function require_createBind(){if(hasRequired_createBind)return _createBind;hasRequired_createBind=1;var e=require_createCtor(),n=require_root(),i=1;function t(r,u,s){var h=u&i,v=e(r);function o(){var p=this&&this!==n&&this instanceof o?v:r;return p.apply(h?s:this,arguments)}return o}return _createBind=t,_createBind}var _composeArgs,hasRequired_composeArgs;function require_composeArgs(){if(hasRequired_composeArgs)return _composeArgs;hasRequired_composeArgs=1;var e=Math.max;function n(i,t,r,u){for(var s=-1,h=i.length,v=r.length,o=-1,p=t.length,l=e(h-v,0),g=Array(p+l),m=!u;++o<p;)g[o]=t[o];for(;++s<v;)(m||s<h)&&(g[r[s]]=i[s]);for(;l--;)g[o++]=i[s++];return g}return _composeArgs=n,_composeArgs}var _composeArgsRight,hasRequired_composeArgsRight;function require_composeArgsRight(){if(hasRequired_composeArgsRight)return _composeArgsRight;hasRequired_composeArgsRight=1;var e=Math.max;function n(i,t,r,u){for(var s=-1,h=i.length,v=-1,o=r.length,p=-1,l=t.length,g=e(h-o,0),m=Array(g+l),y=!u;++s<g;)m[s]=i[s];for(var b=s;++p<l;)m[b+p]=t[p];for(;++v<o;)(y||s<h)&&(m[b+r[v]]=i[s++]);return m}return _composeArgsRight=n,_composeArgsRight}var _countHolders,hasRequired_countHolders;function require_countHolders(){if(hasRequired_countHolders)return _countHolders;hasRequired_countHolders=1;function e(n,i){for(var t=n.length,r=0;t--;)n[t]===i&&++r;return r}return _countHolders=e,_countHolders}var _baseLodash,hasRequired_baseLodash;function require_baseLodash(){if(hasRequired_baseLodash)return _baseLodash;hasRequired_baseLodash=1;function e(){}return _baseLodash=e,_baseLodash}var _LazyWrapper,hasRequired_LazyWrapper;function require_LazyWrapper(){if(hasRequired_LazyWrapper)return _LazyWrapper;hasRequired_LazyWrapper=1;var e=require_baseCreate(),n=require_baseLodash(),i=4294967295;function t(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=i,this.__views__=[]}return t.prototype=e(n.prototype),t.prototype.constructor=t,_LazyWrapper=t,_LazyWrapper}var noop_1,hasRequiredNoop$1;function requireNoop$1(){if(hasRequiredNoop$1)return noop_1;hasRequiredNoop$1=1;function e(){}return noop_1=e,noop_1}var _getData,hasRequired_getData;function require_getData(){if(hasRequired_getData)return _getData;hasRequired_getData=1;var e=require_metaMap(),n=requireNoop$1(),i=e?function(t){return e.get(t)}:n;return _getData=i,_getData}var _realNames,hasRequired_realNames;function require_realNames(){if(hasRequired_realNames)return _realNames;hasRequired_realNames=1;var e={};return _realNames=e,_realNames}var _getFuncName,hasRequired_getFuncName;function require_getFuncName(){if(hasRequired_getFuncName)return _getFuncName;hasRequired_getFuncName=1;var e=require_realNames(),n=Object.prototype,i=n.hasOwnProperty;function t(r){for(var u=r.name+"",s=e[u],h=i.call(e,u)?s.length:0;h--;){var v=s[h],o=v.func;if(o==null||o==r)return v.name}return u}return _getFuncName=t,_getFuncName}var _LodashWrapper,hasRequired_LodashWrapper;function require_LodashWrapper(){if(hasRequired_LodashWrapper)return _LodashWrapper;hasRequired_LodashWrapper=1;var e=require_baseCreate(),n=require_baseLodash();function i(t,r){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=void 0}return i.prototype=e(n.prototype),i.prototype.constructor=i,_LodashWrapper=i,_LodashWrapper}var _copyArray,hasRequired_copyArray;function require_copyArray(){if(hasRequired_copyArray)return _copyArray;hasRequired_copyArray=1;function e(n,i){var t=-1,r=n.length;for(i||(i=Array(r));++t<r;)i[t]=n[t];return i}return _copyArray=e,_copyArray}var _wrapperClone,hasRequired_wrapperClone;function require_wrapperClone(){if(hasRequired_wrapperClone)return _wrapperClone;hasRequired_wrapperClone=1;var e=require_LazyWrapper(),n=require_LodashWrapper(),i=require_copyArray();function t(r){if(r instanceof e)return r.clone();var u=new n(r.__wrapped__,r.__chain__);return u.__actions__=i(r.__actions__),u.__index__=r.__index__,u.__values__=r.__values__,u}return _wrapperClone=t,_wrapperClone}var wrapperLodash,hasRequiredWrapperLodash;function requireWrapperLodash(){if(hasRequiredWrapperLodash)return wrapperLodash;hasRequiredWrapperLodash=1;var e=require_LazyWrapper(),n=require_LodashWrapper(),i=require_baseLodash(),t=requireIsArray(),r=requireIsObjectLike(),u=require_wrapperClone(),s=Object.prototype,h=s.hasOwnProperty;function v(o){if(r(o)&&!t(o)&&!(o instanceof e)){if(o instanceof n)return o;if(h.call(o,"__wrapped__"))return u(o)}return new n(o)}return v.prototype=i.prototype,v.prototype.constructor=v,wrapperLodash=v,wrapperLodash}var _isLaziable,hasRequired_isLaziable;function require_isLaziable(){if(hasRequired_isLaziable)return _isLaziable;hasRequired_isLaziable=1;var e=require_LazyWrapper(),n=require_getData(),i=require_getFuncName(),t=requireWrapperLodash();function r(u){var s=i(u),h=t[s];if(typeof h!="function"||!(s in e.prototype))return!1;if(u===h)return!0;var v=n(h);return!!v&&u===v[0]}return _isLaziable=r,_isLaziable}var _setData,hasRequired_setData;function require_setData(){if(hasRequired_setData)return _setData;hasRequired_setData=1;var e=require_baseSetData(),n=require_shortOut(),i=n(e);return _setData=i,_setData}var _getWrapDetails,hasRequired_getWrapDetails;function require_getWrapDetails(){if(hasRequired_getWrapDetails)return _getWrapDetails;hasRequired_getWrapDetails=1;var e=/\{\n\/\* \[wrapped with (.+)\] \*/,n=/,? & /;function i(t){var r=t.match(e);return r?r[1].split(n):[]}return _getWrapDetails=i,_getWrapDetails}var _insertWrapDetails,hasRequired_insertWrapDetails;function require_insertWrapDetails(){if(hasRequired_insertWrapDetails)return _insertWrapDetails;hasRequired_insertWrapDetails=1;var e=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function n(i,t){var r=t.length;if(!r)return i;var u=r-1;return t[u]=(r>1?"& ":"")+t[u],t=t.join(r>2?", ":" "),i.replace(e,`{
/* [wrapped with `+t+`] */
`)}return _insertWrapDetails=n,_insertWrapDetails}var _arrayEach,hasRequired_arrayEach;function require_arrayEach(){if(hasRequired_arrayEach)return _arrayEach;hasRequired_arrayEach=1;function e(n,i){for(var t=-1,r=n==null?0:n.length;++t<r&&i(n[t],t,n)!==!1;);return n}return _arrayEach=e,_arrayEach}var _baseFindIndex,hasRequired_baseFindIndex;function require_baseFindIndex(){if(hasRequired_baseFindIndex)return _baseFindIndex;hasRequired_baseFindIndex=1;function e(n,i,t,r){for(var u=n.length,s=t+(r?1:-1);r?s--:++s<u;)if(i(n[s],s,n))return s;return-1}return _baseFindIndex=e,_baseFindIndex}var _baseIsNaN,hasRequired_baseIsNaN;function require_baseIsNaN(){if(hasRequired_baseIsNaN)return _baseIsNaN;hasRequired_baseIsNaN=1;function e(n){return n!==n}return _baseIsNaN=e,_baseIsNaN}var _strictIndexOf,hasRequired_strictIndexOf;function require_strictIndexOf(){if(hasRequired_strictIndexOf)return _strictIndexOf;hasRequired_strictIndexOf=1;function e(n,i,t){for(var r=t-1,u=n.length;++r<u;)if(n[r]===i)return r;return-1}return _strictIndexOf=e,_strictIndexOf}var _baseIndexOf,hasRequired_baseIndexOf;function require_baseIndexOf(){if(hasRequired_baseIndexOf)return _baseIndexOf;hasRequired_baseIndexOf=1;var e=require_baseFindIndex(),n=require_baseIsNaN(),i=require_strictIndexOf();function t(r,u,s){return u===u?i(r,u,s):e(r,n,s)}return _baseIndexOf=t,_baseIndexOf}var _arrayIncludes,hasRequired_arrayIncludes;function require_arrayIncludes(){if(hasRequired_arrayIncludes)return _arrayIncludes;hasRequired_arrayIncludes=1;var e=require_baseIndexOf();function n(i,t){var r=i==null?0:i.length;return!!r&&e(i,t,0)>-1}return _arrayIncludes=n,_arrayIncludes}var _updateWrapDetails,hasRequired_updateWrapDetails;function require_updateWrapDetails(){if(hasRequired_updateWrapDetails)return _updateWrapDetails;hasRequired_updateWrapDetails=1;var e=require_arrayEach(),n=require_arrayIncludes(),i=1,t=2,r=8,u=16,s=32,h=64,v=128,o=256,p=512,l=[["ary",v],["bind",i],["bindKey",t],["curry",r],["curryRight",u],["flip",p],["partial",s],["partialRight",h],["rearg",o]];function g(m,y){return e(l,function(b){var q="_."+b[0];y&b[1]&&!n(m,q)&&m.push(q)}),m.sort()}return _updateWrapDetails=g,_updateWrapDetails}var _setWrapToString,hasRequired_setWrapToString;function require_setWrapToString(){if(hasRequired_setWrapToString)return _setWrapToString;hasRequired_setWrapToString=1;var e=require_getWrapDetails(),n=require_insertWrapDetails(),i=require_setToString(),t=require_updateWrapDetails();function r(u,s,h){var v=s+"";return i(u,n(v,t(e(v),h)))}return _setWrapToString=r,_setWrapToString}var _createRecurry,hasRequired_createRecurry;function require_createRecurry(){if(hasRequired_createRecurry)return _createRecurry;hasRequired_createRecurry=1;var e=require_isLaziable(),n=require_setData(),i=require_setWrapToString(),t=4,r=8,u=32,s=64;function h(v,o,p,l,g,m,y,b,q,S){var x=o&r,R=x?y:void 0,A=x?void 0:y,E=x?m:void 0,T=x?void 0:m;o|=x?u:s,o&=~(x?s:u),o&t||(o&=-4);var I=[v,o,g,E,R,T,A,b,q,S],V=p.apply(void 0,I);return e(v)&&n(V,I),V.placeholder=l,i(V,v,o)}return _createRecurry=h,_createRecurry}var _getHolder,hasRequired_getHolder;function require_getHolder(){if(hasRequired_getHolder)return _getHolder;hasRequired_getHolder=1;function e(n){var i=n;return i.placeholder}return _getHolder=e,_getHolder}var _reorder,hasRequired_reorder;function require_reorder(){if(hasRequired_reorder)return _reorder;hasRequired_reorder=1;var e=require_copyArray(),n=require_isIndex(),i=Math.min;function t(r,u){for(var s=r.length,h=i(u.length,s),v=e(r);h--;){var o=u[h];r[h]=n(o,s)?v[o]:void 0}return r}return _reorder=t,_reorder}var _replaceHolders,hasRequired_replaceHolders;function require_replaceHolders(){if(hasRequired_replaceHolders)return _replaceHolders;hasRequired_replaceHolders=1;var e="__lodash_placeholder__";function n(i,t){for(var r=-1,u=i.length,s=0,h=[];++r<u;){var v=i[r];(v===t||v===e)&&(i[r]=e,h[s++]=r)}return h}return _replaceHolders=n,_replaceHolders}var _createHybrid,hasRequired_createHybrid;function require_createHybrid(){if(hasRequired_createHybrid)return _createHybrid;hasRequired_createHybrid=1;var e=require_composeArgs(),n=require_composeArgsRight(),i=require_countHolders(),t=require_createCtor(),r=require_createRecurry(),u=require_getHolder(),s=require_reorder(),h=require_replaceHolders(),v=require_root(),o=1,p=2,l=8,g=16,m=128,y=512;function b(q,S,x,R,A,E,T,I,V,G){var Q=S&m,k=S&o,K=S&p,P=S&(l|g),j=S&y,M=K?void 0:t(q);function O(){for(var L=arguments.length,N=Array(L),W=L;W--;)N[W]=arguments[W];if(P)var X=u(O),ie=i(N,X);if(R&&(N=e(N,R,A,P)),E&&(N=n(N,E,T,P)),L-=ie,P&&L<G){var se=h(N,X);return r(q,S,b,O.placeholder,x,N,se,I,V,G-L)}var ae=k?x:this,le=K?ae[q]:q;return L=N.length,I?N=s(N,I):j&&L>1&&N.reverse(),Q&&V<L&&(N.length=V),this&&this!==v&&this instanceof O&&(le=M||t(le)),le.apply(ae,N)}return O}return _createHybrid=b,_createHybrid}var _createCurry,hasRequired_createCurry;function require_createCurry(){if(hasRequired_createCurry)return _createCurry;hasRequired_createCurry=1;var e=require_apply(),n=require_createCtor(),i=require_createHybrid(),t=require_createRecurry(),r=require_getHolder(),u=require_replaceHolders(),s=require_root();function h(v,o,p){var l=n(v);function g(){for(var m=arguments.length,y=Array(m),b=m,q=r(g);b--;)y[b]=arguments[b];var S=m<3&&y[0]!==q&&y[m-1]!==q?[]:u(y,q);if(m-=S.length,m<p)return t(v,o,i,g.placeholder,void 0,y,S,void 0,void 0,p-m);var x=this&&this!==s&&this instanceof g?l:v;return e(x,this,y)}return g}return _createCurry=h,_createCurry}var _createPartial,hasRequired_createPartial;function require_createPartial(){if(hasRequired_createPartial)return _createPartial;hasRequired_createPartial=1;var e=require_apply(),n=require_createCtor(),i=require_root(),t=1;function r(u,s,h,v){var o=s&t,p=n(u);function l(){for(var g=-1,m=arguments.length,y=-1,b=v.length,q=Array(b+m),S=this&&this!==i&&this instanceof l?p:u;++y<b;)q[y]=v[y];for(;m--;)q[y++]=arguments[++g];return e(S,o?h:this,q)}return l}return _createPartial=r,_createPartial}var _mergeData,hasRequired_mergeData;function require_mergeData(){if(hasRequired_mergeData)return _mergeData;hasRequired_mergeData=1;var e=require_composeArgs(),n=require_composeArgsRight(),i=require_replaceHolders(),t="__lodash_placeholder__",r=1,u=2,s=4,h=8,v=128,o=256,p=Math.min;function l(g,m){var y=g[1],b=m[1],q=y|b,S=q<(r|u|v),x=b==v&&y==h||b==v&&y==o&&g[7].length<=m[8]||b==(v|o)&&m[7].length<=m[8]&&y==h;if(!(S||x))return g;b&r&&(g[2]=m[2],q|=y&r?0:s);var R=m[3];if(R){var A=g[3];g[3]=A?e(A,R,m[4]):R,g[4]=A?i(g[3],t):m[4]}return R=m[5],R&&(A=g[5],g[5]=A?n(A,R,m[6]):R,g[6]=A?i(g[5],t):m[6]),R=m[7],R&&(g[7]=R),b&v&&(g[8]=g[8]==null?m[8]:p(g[8],m[8])),g[9]==null&&(g[9]=m[9]),g[0]=m[0],g[1]=q,g}return _mergeData=l,_mergeData}var _trimmedEndIndex,hasRequired_trimmedEndIndex;function require_trimmedEndIndex(){if(hasRequired_trimmedEndIndex)return _trimmedEndIndex;hasRequired_trimmedEndIndex=1;var e=/\s/;function n(i){for(var t=i.length;t--&&e.test(i.charAt(t)););return t}return _trimmedEndIndex=n,_trimmedEndIndex}var _baseTrim,hasRequired_baseTrim;function require_baseTrim(){if(hasRequired_baseTrim)return _baseTrim;hasRequired_baseTrim=1;var e=require_trimmedEndIndex(),n=/^\s+/;function i(t){return t&&t.slice(0,e(t)+1).replace(n,"")}return _baseTrim=i,_baseTrim}var isSymbol_1,hasRequiredIsSymbol$1;function requireIsSymbol$1(){if(hasRequiredIsSymbol$1)return isSymbol_1;hasRequiredIsSymbol$1=1;var e=require_baseGetTag(),n=requireIsObjectLike(),i="[object Symbol]";function t(r){return typeof r=="symbol"||n(r)&&e(r)==i}return isSymbol_1=t,isSymbol_1}var toNumber_1,hasRequiredToNumber;function requireToNumber(){if(hasRequiredToNumber)return toNumber_1;hasRequiredToNumber=1;var e=require_baseTrim(),n=requireIsObject$3(),i=requireIsSymbol$1(),t=NaN,r=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,s=/^0o[0-7]+$/i,h=parseInt;function v(o){if(typeof o=="number")return o;if(i(o))return t;if(n(o)){var p=typeof o.valueOf=="function"?o.valueOf():o;o=n(p)?p+"":p}if(typeof o!="string")return o===0?o:+o;o=e(o);var l=u.test(o);return l||s.test(o)?h(o.slice(2),l?2:8):r.test(o)?t:+o}return toNumber_1=v,toNumber_1}var toFinite_1,hasRequiredToFinite;function requireToFinite(){if(hasRequiredToFinite)return toFinite_1;hasRequiredToFinite=1;var e=requireToNumber(),n=1/0,i=17976931348623157e292;function t(r){if(!r)return r===0?r:0;if(r=e(r),r===n||r===-n){var u=r<0?-1:1;return u*i}return r===r?r:0}return toFinite_1=t,toFinite_1}var toInteger_1,hasRequiredToInteger$1;function requireToInteger$1(){if(hasRequiredToInteger$1)return toInteger_1;hasRequiredToInteger$1=1;var e=requireToFinite();function n(i){var t=e(i),r=t%1;return t===t?r?t-r:t:0}return toInteger_1=n,toInteger_1}var _createWrap,hasRequired_createWrap;function require_createWrap(){if(hasRequired_createWrap)return _createWrap;hasRequired_createWrap=1;var e=require_baseSetData(),n=require_createBind(),i=require_createCurry(),t=require_createHybrid(),r=require_createPartial(),u=require_getData(),s=require_mergeData(),h=require_setData(),v=require_setWrapToString(),o=requireToInteger$1(),p="Expected a function",l=1,g=2,m=8,y=16,b=32,q=64,S=Math.max;function x(R,A,E,T,I,V,G,Q){var k=A&g;if(!k&&typeof R!="function")throw new TypeError(p);var K=T?T.length:0;if(K||(A&=-97,T=I=void 0),G=G===void 0?G:S(o(G),0),Q=Q===void 0?Q:o(Q),K-=I?I.length:0,A&q){var P=T,j=I;T=I=void 0}var M=k?void 0:u(R),O=[R,A,E,T,I,P,j,V,G,Q];if(M&&s(O,M),R=O[0],A=O[1],E=O[2],T=O[3],I=O[4],Q=O[9]=O[9]===void 0?k?0:R.length:S(O[9]-K,0),!Q&&A&(m|y)&&(A&=-25),!A||A==l)var L=n(R,A,E);else A==m||A==y?L=i(R,A,Q):(A==b||A==(l|b))&&!I.length?L=r(R,A,E,T):L=t.apply(void 0,O);var N=M?e:h;return v(N(L,O),R,A)}return _createWrap=x,_createWrap}var partial_1,hasRequiredPartial;function requirePartial(){if(hasRequiredPartial)return partial_1;hasRequiredPartial=1;var e=require_baseRest(),n=require_createWrap(),i=require_getHolder(),t=require_replaceHolders(),r=32,u=e(function(s,h){var v=t(h,i(u));return n(s,r,void 0,h,v)});return u.placeholder={},partial_1=u,partial_1}var auto={exports:{}},_createBaseFor,hasRequired_createBaseFor;function require_createBaseFor(){if(hasRequired_createBaseFor)return _createBaseFor;hasRequired_createBaseFor=1;function e(n){return function(i,t,r){for(var u=-1,s=Object(i),h=r(i),v=h.length;v--;){var o=h[n?v:++u];if(t(s[o],o,s)===!1)break}return i}}return _createBaseFor=e,_createBaseFor}var _baseFor,hasRequired_baseFor;function require_baseFor(){if(hasRequired_baseFor)return _baseFor;hasRequired_baseFor=1;var e=require_createBaseFor(),n=e();return _baseFor=n,_baseFor}var _overArg,hasRequired_overArg;function require_overArg(){if(hasRequired_overArg)return _overArg;hasRequired_overArg=1;function e(n,i){return function(t){return n(i(t))}}return _overArg=e,_overArg}var _nativeKeys,hasRequired_nativeKeys;function require_nativeKeys(){if(hasRequired_nativeKeys)return _nativeKeys;hasRequired_nativeKeys=1;var e=require_overArg(),n=e(Object.keys,Object);return _nativeKeys=n,_nativeKeys}var _baseKeys,hasRequired_baseKeys;function require_baseKeys(){if(hasRequired_baseKeys)return _baseKeys;hasRequired_baseKeys=1;var e=require_isPrototype(),n=require_nativeKeys(),i=Object.prototype,t=i.hasOwnProperty;function r(u){if(!e(u))return n(u);var s=[];for(var h in Object(u))t.call(u,h)&&h!="constructor"&&s.push(h);return s}return _baseKeys=r,_baseKeys}var keys_1,hasRequiredKeys$1;function requireKeys$1(){if(hasRequiredKeys$1)return keys_1;hasRequiredKeys$1=1;var e=require_arrayLikeKeys(),n=require_baseKeys(),i=requireIsArrayLike();function t(r){return i(r)?e(r):n(r)}return keys_1=t,keys_1}var _baseForOwn,hasRequired_baseForOwn;function require_baseForOwn(){if(hasRequired_baseForOwn)return _baseForOwn;hasRequired_baseForOwn=1;var e=require_baseFor(),n=requireKeys$1();function i(t,r){return t&&e(t,r,n)}return _baseForOwn=i,_baseForOwn}var slice={exports:{}},hasRequiredSlice;function requireSlice(){return hasRequiredSlice||(hasRequiredSlice=1,(function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;function i(t,r){r=r|0;for(var u=Math.max(t.length-r,0),s=Array(u),h=0;h<u;h++)s[h]=t[r+h];return s}e.exports=n.default})(slice,slice.exports)),slice.exports}var once={exports:{}},hasRequiredOnce;function requireOnce(){return hasRequiredOnce||(hasRequiredOnce=1,(function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;function i(t){return function(){if(t!==null){var r=t;t=null,r.apply(this,arguments)}}}e.exports=n.default})(once,once.exports)),once.exports}var onlyOnce={exports:{}},hasRequiredOnlyOnce;function requireOnlyOnce(){return hasRequiredOnlyOnce||(hasRequiredOnlyOnce=1,(function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;function i(t){return function(){if(t===null)throw new Error("Callback was already called.");var r=t;t=null,r.apply(this,arguments)}}e.exports=n.default})(onlyOnce,onlyOnce.exports)),onlyOnce.exports}var wrapAsync={},asyncify={exports:{}},initialParams={exports:{}},hasRequiredInitialParams;function requireInitialParams(){return hasRequiredInitialParams||(hasRequiredInitialParams=1,(function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(u){return function(){var s=(0,t.default)(arguments),h=s.pop();u.call(this,s,h)}};var i=requireSlice(),t=r(i);function r(u){return u&&u.__esModule?u:{default:u}}e.exports=n.default})(initialParams,initialParams.exports)),initialParams.exports}var setImmediate$1={},hasRequiredSetImmediate;function requireSetImmediate(){if(hasRequiredSetImmediate)return setImmediate$1;hasRequiredSetImmediate=1,Object.defineProperty(setImmediate$1,"__esModule",{value:!0}),setImmediate$1.hasNextTick=setImmediate$1.hasSetImmediate=void 0,setImmediate$1.fallback=u,setImmediate$1.wrap=s;var e=requireSlice(),n=i(e);function i(v){return v&&v.__esModule?v:{default:v}}var t=setImmediate$1.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,r=setImmediate$1.hasNextTick=typeof process$1=="object"&&typeof process$1.nextTick=="function";function u(v){setTimeout(v,0)}function s(v){return function(o){var p=(0,n.default)(arguments,1);v(function(){o.apply(null,p)})}}var h;return t?h=setImmediate:r?h=process$1.nextTick:h=u,setImmediate$1.default=s(h),setImmediate$1}var hasRequiredAsyncify;function requireAsyncify(){return hasRequiredAsyncify||(hasRequiredAsyncify=1,(function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var i=requireIsObject$3(),t=v(i),r=requireInitialParams(),u=v(r),s=requireSetImmediate(),h=v(s);function v(g){return g&&g.__esModule?g:{default:g}}function o(g){return(0,u.default)(function(m,y){var b;try{b=g.apply(this,m)}catch(q){return y(q)}(0,t.default)(b)&&typeof b.then=="function"?b.then(function(q){p(y,null,q)},function(q){p(y,q.message?q:new Error(q))}):y(null,b)})}function p(g,m,y){try{g(m,y)}catch(b){(0,h.default)(l,b)}}function l(g){throw g}e.exports=n.default})(asyncify,asyncify.exports)),asyncify.exports}var hasRequiredWrapAsync;function requireWrapAsync(){if(hasRequiredWrapAsync)return wrapAsync;hasRequiredWrapAsync=1,Object.defineProperty(wrapAsync,"__esModule",{value:!0}),wrapAsync.isAsync=void 0;var e=requireAsyncify(),n=i(e);function i(s){return s&&s.__esModule?s:{default:s}}var t=typeof Symbol=="function";function r(s){return t&&s[Symbol.toStringTag]==="AsyncFunction"}function u(s){return r(s)?(0,n.default)(s):s}return wrapAsync.default=u,wrapAsync.isAsync=r,wrapAsync}var hasRequiredAuto;function requireAuto(){return hasRequiredAuto||(hasRequiredAuto=1,(function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(I,V,G){typeof V=="function"&&(G=V,V=null),G=(0,S.default)(G||m.default);var Q=(0,l.default)(I),k=Q.length;if(!k)return G(null);V||(V=k);var K={},P=0,j=!1,M=Object.create(null),O=[],L=[],N={};(0,u.default)(I,function(U,B){if(!(0,o.default)(U)){W(B,[U]),L.push(B);return}var H=U.slice(0,U.length-1),Y=H.length;if(Y===0){W(B,U),L.push(B);return}N[B]=Y,(0,t.default)(H,function(Z){if(!I[Z])throw new Error("async.auto task `"+B+"` has a non-existent dependency `"+Z+"` in "+H.join(", "));ie(Z,function(){Y--,Y===0&&W(B,U)})})}),le(),X();function W(U,B){O.push(function(){ae(U,B)})}function X(){if(O.length===0&&P===0)return G(null,K);for(;O.length&&P<V;){var U=O.shift();U()}}function ie(U,B){var H=M[U];H||(H=M[U]=[]),H.push(B)}function se(U){var B=M[U]||[];(0,t.default)(B,function(H){H()}),X()}function ae(U,B){if(!j){var H=(0,R.default)(function(Z,ee){if(P--,arguments.length>2&&(ee=(0,b.default)(arguments,1)),Z){var ne={};(0,u.default)(K,function(oe,fe){ne[fe]=oe}),ne[U]=ee,j=!0,M=Object.create(null),G(Z,ne)}else K[U]=ee,se(U)});P++;var Y=(0,E.default)(B[B.length-1]);B.length>1?Y(K,H):Y(H)}}function le(){for(var U,B=0;L.length;)U=L.pop(),B++,(0,t.default)(Re(U),function(H){--N[H]===0&&L.push(H)});if(B!==k)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function Re(U){var B=[];return(0,u.default)(I,function(H,Y){(0,o.default)(H)&&(0,h.default)(H,U,0)>=0&&B.push(Y)}),B}};var i=require_arrayEach(),t=T(i),r=require_baseForOwn(),u=T(r),s=require_baseIndexOf(),h=T(s),v=requireIsArray(),o=T(v),p=requireKeys$1(),l=T(p),g=requireNoop$1(),m=T(g),y=requireSlice(),b=T(y),q=requireOnce(),S=T(q),x=requireOnlyOnce(),R=T(x),A=requireWrapAsync(),E=T(A);function T(I){return I&&I.__esModule?I:{default:I}}e.exports=n.default})(auto,auto.exports)),auto.exports}const templates={base:":environment/:workflow/:customer/",preferences:":environment/:workflow/:customer/preferences.json",customerSettings:":environment/:workflow/:customer/settings-:locale.json",customerUiSettings:":environment/:workflow/:customer/ui-settings-:locale.json",customerReport:":environment/:workflow/:customer/report.json",productBase:":environment/:workflow/:customer/product/:product/",productSettingsTokenized:":environment/:workflow/:customer/product/:product/settings.json",productSettings:":environment/:workflow/:customer/product/:product/settings-:locale.json",productUiSettings:":environment/:workflow/:customer/product/:product/ui-settings-:locale.json",productGraphSettings:":environment/:workflow/:customer/product/:product/graph-settings-:locale.json",productAreas:":environment/:workflow/:customer/product/:product/areas-:areasQuality.json",catalogBase:":environment/:workflow/:customer/catalog/:catalog/",catalogSettings:":environment/:workflow/:customer/catalog/:catalog/settings-:locale.json",relationshipsBase:":environment/:workflow/:customer/relations/",imageComposerViewSettings:":environment/:workflow/:customer/product/:product/ic-view-:viewName.json",productCatalogRelations:":environment/:workflow/:customer/relations/product_catalogs.json"},legalQueryParams=["configVersion","publishedTime","version","callback"],idParams=["customerId","productId","catalogId","customer_id","product_id","catalog_id"],defaults={locale:"en_us",areasQuality:"high-res"},require$$0={templates,legalQueryParams,idParams,defaults};var url_composer,hasRequiredUrl_composer;function requireUrl_composer(){if(hasRequiredUrl_composer)return url_composer;hasRequiredUrl_composer=1;var e=/\:([a-zA-Z_]+)/g,n=/(Id|_id)$/,i=/[^\d]+/g,t,r,u,s,h,v;return u=function(o,p){var l=o.match(e);return function(g){var m=JSON.parse(JSON.stringify(g||{})),y,b;return p.defaults&&(m=h(m,p.defaults)),p.idParams&&(m=s(m,p.idParams)),y=t(l,o,m),b=r(m,p.legalQueryParams),v(y,b)}},s=function(o,p){var l,g,m;for(l=0;p.length>l;l+=1)g=p[l],o[g]&&(m=g.replace(n,""),o[m]||(o[m]=parseInt((o[g]+"").replace(i,""),10)));return o},h=function(o,p){var l;if(p)for(l in p)p.hasOwnProperty(l)&&!o[l]&&(o[l]=p[l]);return o},r=function(o,p){var l=[],g=0;for(g=0;p.length>g;g+=1)typeof o[p[g]]<"u"&&l.push(p[g]+"="+encodeURIComponent(o[p[g]]));return l},v=function(o,p){return p.length>0&&(o.indexOf("?")!==-1?o[o.length-1]!=="&"&&(o=o+"&"):o=o+"?",o=o+p.join("&")),o},t=function(o,p,l){var g,m=p,y,b=o,q=[];for(g=0;b.length>g;g+=1)y=b[g].replace(":",""),typeof l[y]<"u"?m=m.replace(b[g],encodeURIComponent(l[y])):q.push(y);if(q.length>0)throw new Error('Missing "'+q.join('", "')+'" option'+(q.length===1?"":"s")+" for generating "+p+" URL");return m},url_composer=u,url_composer}var configure,hasRequiredConfigure;function requireConfigure(){if(hasRequiredConfigure)return configure;hasRequiredConfigure=1;var e=require$$0,n=requireUrl_composer(),i=e.templates,t,r={};for(t in i)i.hasOwnProperty(t)&&(r[t]=n(i[t],e),Object.defineProperty(r[t],"name",{value:t}));return configure=r,configure}function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var client$2={exports:{}},componentEmitter={exports:{}},hasRequiredComponentEmitter;function requireComponentEmitter(){return hasRequiredComponentEmitter||(hasRequiredComponentEmitter=1,(function(e){e.exports=n;function n(t){if(t)return i(t)}function i(t){for(var r in n.prototype)t[r]=n.prototype[r];return t}n.prototype.on=n.prototype.addEventListener=function(t,r){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(r),this},n.prototype.once=function(t,r){function u(){this.off(t,u),r.apply(this,arguments)}return u.fn=r,this.on(t,u),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,r){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var u=this._callbacks["$"+t];if(!u)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var s,h=0;h<u.length;h++)if(s=u[h],s===r||s.fn===r){u.splice(h,1);break}return u.length===0&&delete this._callbacks["$"+t],this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var r=new Array(arguments.length-1),u=this._callbacks["$"+t],s=1;s<arguments.length;s++)r[s-1]=arguments[s];if(u){u=u.slice(0);for(var s=0,h=u.length;s<h;++s)u[s].apply(this,r)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}})(componentEmitter)),componentEmitter.exports}var isObject_1$1,hasRequiredIsObject$2;function requireIsObject$2(){if(hasRequiredIsObject$2)return isObject_1$1;hasRequiredIsObject$2=1;function e(n){return n!==null&&typeof n=="object"}return isObject_1$1=e,isObject_1$1}var requestBase$1,hasRequiredRequestBase$1;function requireRequestBase$1(){if(hasRequiredRequestBase$1)return requestBase$1;hasRequiredRequestBase$1=1;var e=requireIsObject$2();requestBase$1=n;function n(r){if(r)return i(r)}function i(r){for(var u in n.prototype)r[u]=n.prototype[u];return r}n.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},n.prototype.parse=function(u){return this._parser=u,this},n.prototype.responseType=function(r){return this._responseType=r,this},n.prototype.serialize=function(u){return this._serializer=u,this},n.prototype.timeout=function(u){if(!u||typeof u!="object")return this._timeout=u,this._responseTimeout=0,this;for(var s in u)switch(s){case"deadline":this._timeout=u.deadline;break;case"response":this._responseTimeout=u.response;break;default:console.warn("Unknown timeout option",s)}return this},n.prototype.retry=function(u,s){return(arguments.length===0||u===!0)&&(u=1),u<=0&&(u=0),this._maxRetries=u,this._retries=0,this._retryCallback=s,this};var t=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];return n.prototype._shouldRetry=function(r,u){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var s=this._retryCallback(r,u);if(s===!0)return!0;if(s===!1)return!1}catch(h){console.error(h)}return!!(u&&u.status&&u.status>=500&&u.status!=501||r&&(r.code&&~t.indexOf(r.code)||r.timeout&&r.code=="ECONNABORTED"||r.crossDomain))},n.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},n.prototype.then=function(u,s){if(!this._fullfilledPromise){var h=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(v,o){h.end(function(p,l){p?o(p):v(l)})})}return this._fullfilledPromise.then(u,s)},n.prototype.catch=function(r){return this.then(void 0,r)},n.prototype.use=function(u){return u(this),this},n.prototype.ok=function(r){if(typeof r!="function")throw Error("Callback required");return this._okCallback=r,this},n.prototype._isResponseOK=function(r){return r?this._okCallback?this._okCallback(r):r.status>=200&&r.status<300:!1},n.prototype.get=function(r){return this._header[r.toLowerCase()]},n.prototype.getHeader=n.prototype.get,n.prototype.set=function(r,u){if(e(r)){for(var s in r)this.set(s,r[s]);return this}return this._header[r.toLowerCase()]=u,this.header[r]=u,this},n.prototype.unset=function(r){return delete this._header[r.toLowerCase()],delete this.header[r],this},n.prototype.field=function(r,u){if(r==null)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),e(r)){for(var s in r)this.field(s,r[s]);return this}if(Array.isArray(u)){for(var h in u)this.field(r,u[h]);return this}if(u==null)throw new Error(".field(name, val) val can not be empty");return typeof u=="boolean"&&(u=""+u),this._getFormData().append(r,u),this},n.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},n.prototype._auth=function(r,u,s,h){switch(s.type){case"basic":this.set("Authorization","Basic "+h(r+":"+u));break;case"auto":this.username=r,this.password=u;break;case"bearer":this.set("Authorization","Bearer "+r);break}return this},n.prototype.withCredentials=function(r){return r==null&&(r=!0),this._withCredentials=r,this},n.prototype.redirects=function(r){return this._maxRedirects=r,this},n.prototype.maxResponseSize=function(r){if(typeof r!="number")throw TypeError("Invalid argument");return this._maxResponseSize=r,this},n.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},n.prototype.send=function(r){var u=e(r),s=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),u&&!this._data)Array.isArray(r)?this._data=[]:this._isHost(r)||(this._data={});else if(r&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(u&&e(this._data))for(var h in r)this._data[h]=r[h];else typeof r=="string"?(s||this.type("form"),s=this._header["content-type"],s=="application/x-www-form-urlencoded"?this._data=this._data?this._data+"&"+r:r:this._data=(this._data||"")+r):this._data=r;return!u||this._isHost(r)?this:(s||this.type("json"),this)},n.prototype.sortQuery=function(r){return this._sort=typeof r>"u"?!0:r,this},n.prototype._finalizeQueryString=function(){var r=this._query.join("&");if(r&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+r),this._query.length=0,this._sort){var u=this.url.indexOf("?");if(u>=0){var s=this.url.substring(u+1).split("&");typeof this._sort=="function"?s.sort(this._sort):s.sort(),this.url=this.url.substring(0,u)+"?"+s.join("&")}}},n.prototype._appendQueryString=function(){console.trace("Unsupported")},n.prototype._timeoutError=function(r,u,s){if(!this._aborted){var h=new Error(r+u+"ms exceeded");h.timeout=u,h.code="ECONNABORTED",h.errno=s,this.timedout=!0,this.abort(),this.callback(h)}},n.prototype._setTimeouts=function(){var r=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){r._timeoutError("Timeout of ",r._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){r._timeoutError("Response timeout of ",r._responseTimeout,"ETIMEDOUT")},this._responseTimeout))},requestBase$1}var utils$4={},hasRequiredUtils$4;function requireUtils$4(){return hasRequiredUtils$4||(hasRequiredUtils$4=1,utils$4.type=function(e){return e.split(/ *; */).shift()},utils$4.params=function(e){return e.split(/ *; */).reduce(function(n,i){var t=i.split(/ *= */),r=t.shift(),u=t.shift();return r&&u&&(n[r]=u),n},{})},utils$4.parseLinks=function(e){return e.split(/ *, */).reduce(function(n,i){var t=i.split(/ *; */),r=t[0].slice(1,-1),u=t[1].split(/ *= */)[1].slice(1,-1);return n[u]=r,n},{})},utils$4.cleanHeader=function(e,n){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,n&&(delete e.authorization,delete e.cookie),e}),utils$4}var responseBase$1,hasRequiredResponseBase$1;function requireResponseBase$1(){if(hasRequiredResponseBase$1)return responseBase$1;hasRequiredResponseBase$1=1;var e=requireUtils$4();responseBase$1=n;function n(t){if(t)return i(t)}function i(t){for(var r in n.prototype)t[r]=n.prototype[r];return t}return n.prototype.get=function(t){return this.header[t.toLowerCase()]},n.prototype._setHeaderProperties=function(t){var r=t["content-type"]||"";this.type=e.type(r);var u=e.params(r);for(var s in u)this[s]=u[s];this.links={};try{t.link&&(this.links=e.parseLinks(t.link))}catch{}},n.prototype._setStatusProperties=function(t){var r=t/100|0;this.status=this.statusCode=t,this.statusType=r,this.info=r==1,this.ok=r==2,this.redirect=r==3,this.clientError=r==4,this.serverError=r==5,this.error=r==4||r==5?this.toError():!1,this.created=t==201,this.accepted=t==202,this.noContent=t==204,this.badRequest=t==400,this.unauthorized=t==401,this.notAcceptable=t==406,this.forbidden=t==403,this.notFound=t==404,this.unprocessableEntity=t==422},responseBase$1}var agentBase$1,hasRequiredAgentBase$1;function requireAgentBase$1(){if(hasRequiredAgentBase$1)return agentBase$1;hasRequiredAgentBase$1=1;function e(){this._defaults=[]}return["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(n){e.prototype[n]=function(){return this._defaults.push({fn:n,arguments}),this}}),e.prototype._setDefaults=function(n){this._defaults.forEach(function(i){n[i.fn].apply(n,i.arguments)})},agentBase$1=e,agentBase$1}var client$1=client$2.exports,hasRequiredClient$1;function requireClient$1(){return hasRequiredClient$1||(hasRequiredClient$1=1,(function(e,n){var i;typeof window<"u"?i=window:typeof self<"u"?i=self:(console.warn("Using browser-only version of superagent in non-browser environment"),i=client$1);var t=requireComponentEmitter(),r=requireRequestBase$1(),u=requireIsObject$2(),s=requireResponseBase$1(),h=requireAgentBase$1();function v(){}var o=n=e.exports=function(R,A){return typeof A=="function"?new n.Request("GET",R).end(A):arguments.length==1?new n.Request("GET",R):new n.Request(R,A)};n.Request=S,o.getXHR=function(){if(i.XMLHttpRequest&&(!i.location||i.location.protocol!="file:"||!i.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch{}throw Error("Browser-only version of superagent could not find XHR")};var p="".trim?function(R){return R.trim()}:function(R){return R.replace(/(^\s*|\s*$)/g,"")};function l(R){if(!u(R))return R;var A=[];for(var E in R)g(A,E,R[E]);return A.join("&")}function g(R,A,E){if(E!=null)if(Array.isArray(E))E.forEach(function(I){g(R,A,I)});else if(u(E))for(var T in E)g(R,A+"["+T+"]",E[T]);else R.push(encodeURIComponent(A)+"="+encodeURIComponent(E));else E===null&&R.push(encodeURIComponent(A))}o.serializeObject=l;function m(R){for(var A={},E=R.split("&"),T,I,V=0,G=E.length;V<G;++V)T=E[V],I=T.indexOf("="),I==-1?A[decodeURIComponent(T)]="":A[decodeURIComponent(T.slice(0,I))]=decodeURIComponent(T.slice(I+1));return A}o.parseString=m,o.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},o.serialize={"application/x-www-form-urlencoded":l,"application/json":JSON.stringify},o.parse={"application/x-www-form-urlencoded":m,"application/json":JSON.parse};function y(R){for(var A=R.split(/\r?\n/),E={},T,I,V,G,Q=0,k=A.length;Q<k;++Q)I=A[Q],T=I.indexOf(":"),T!==-1&&(V=I.slice(0,T).toLowerCase(),G=p(I.slice(T+1)),E[V]=G);return E}function b(R){return/[\/+]json($|[^-\w])/.test(R)}function q(R){this.req=R,this.xhr=this.req.xhr,this.text=this.req.method!="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||typeof this.xhr.responseType>"u"?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var A=this.xhr.status;A===1223&&(A=204),this._setStatusProperties(A),this.header=this.headers=y(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.text===null&&R._responseType?this.body=this.xhr.response:this.body=this.req.method!="HEAD"?this._parseBody(this.text?this.text:this.xhr.response):null}s(q.prototype),q.prototype._parseBody=function(R){var A=o.parse[this.type];return this.req._parser?this.req._parser(this,R):(!A&&b(this.type)&&(A=o.parse["application/json"]),A&&R&&(R.length||R instanceof Object)?A(R):null)},q.prototype.toError=function(){var R=this.req,A=R.method,E=R.url,T="cannot "+A+" "+E+" ("+this.status+")",I=new Error(T);return I.status=this.status,I.method=A,I.url=E,I},o.Response=q;function S(R,A){var E=this;this._query=this._query||[],this.method=R,this.url=A,this.header={},this._header={},this.on("end",function(){var T=null,I=null;try{I=new q(E)}catch(G){return T=new Error("Parser is unable to parse the response"),T.parse=!0,T.original=G,E.xhr?(T.rawResponse=typeof E.xhr.responseType>"u"?E.xhr.responseText:E.xhr.response,T.status=E.xhr.status?E.xhr.status:null,T.statusCode=T.status):(T.rawResponse=null,T.status=null),E.callback(T)}E.emit("response",I);var V;try{E._isResponseOK(I)||(V=new Error(I.statusText||"Unsuccessful HTTP response"))}catch(G){V=G}V?(V.original=T,V.response=I,V.status=I.status,E.callback(V,I)):E.callback(null,I)})}t(S.prototype),r(S.prototype),S.prototype.type=function(R){return this.set("Content-Type",o.types[R]||R),this},S.prototype.accept=function(R){return this.set("Accept",o.types[R]||R),this},S.prototype.auth=function(R,A,E){arguments.length===1&&(A=""),typeof A=="object"&&A!==null&&(E=A,A=""),E||(E={type:typeof btoa=="function"?"basic":"auto"});var T=function(I){if(typeof btoa=="function")return btoa(I);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(R,A,E,T)},S.prototype.query=function(R){return typeof R!="string"&&(R=l(R)),R&&this._query.push(R),this},S.prototype.attach=function(R,A,E){if(A){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(R,A,E||A.name)}return this},S.prototype._getFormData=function(){return this._formData||(this._formData=new i.FormData),this._formData},S.prototype.callback=function(R,A){if(this._shouldRetry(R,A))return this._retry();var E=this._callback;this.clearTimeout(),R&&(this._maxRetries&&(R.retries=this._retries-1),this.emit("error",R)),E(R,A)},S.prototype.crossDomainError=function(){var R=new Error(`Request has been terminated
Possible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.`);R.crossDomain=!0,R.status=this.status,R.method=this.method,R.url=this.url,this.callback(R)},S.prototype.buffer=S.prototype.ca=S.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},S.prototype.pipe=S.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},S.prototype._isHost=function(A){return A&&typeof A=="object"&&!Array.isArray(A)&&Object.prototype.toString.call(A)!=="[object Object]"},S.prototype.end=function(R){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=R||v,this._finalizeQueryString(),this._end()},S.prototype._end=function(){var R=this,A=this.xhr=o.getXHR(),E=this._formData||this._data;this._setTimeouts(),A.onreadystatechange=function(){var Q=A.readyState;if(Q>=2&&R._responseTimeoutTimer&&clearTimeout(R._responseTimeoutTimer),Q==4){var k;try{k=A.status}catch{k=0}if(!k)return R.timedout||R._aborted?void 0:R.crossDomainError();R.emit("end")}};var T=function(Q,k){k.total>0&&(k.percent=k.loaded/k.total*100),k.direction=Q,R.emit("progress",k)};if(this.hasListeners("progress"))try{A.onprogress=T.bind(null,"download"),A.upload&&(A.upload.onprogress=T.bind(null,"upload"))}catch{}try{this.username&&this.password?A.open(this.method,this.url,!0,this.username,this.password):A.open(this.method,this.url,!0)}catch(Q){return this.callback(Q)}if(this._withCredentials&&(A.withCredentials=!0),!this._formData&&this.method!="GET"&&this.method!="HEAD"&&typeof E!="string"&&!this._isHost(E)){var I=this._header["content-type"],V=this._serializer||o.serialize[I?I.split(";")[0]:""];!V&&b(I)&&(V=o.serialize["application/json"]),V&&(E=V(E))}for(var G in this.header)this.header[G]!=null&&this.header.hasOwnProperty(G)&&A.setRequestHeader(G,this.header[G]);return this._responseType&&(A.responseType=this._responseType),this.emit("request",this),A.send(typeof E<"u"?E:null),this},o.agent=function(){return new h},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(R){h.prototype[R.toLowerCase()]=function(A,E){var T=new o.Request(R,A);return this._setDefaults(T),E&&T.end(E),T}}),h.prototype.del=h.prototype.delete,o.get=function(R,A,E){var T=o("GET",R);return typeof A=="function"&&(E=A,A=null),A&&T.query(A),E&&T.end(E),T},o.head=function(R,A,E){var T=o("HEAD",R);return typeof A=="function"&&(E=A,A=null),A&&T.query(A),E&&T.end(E),T},o.options=function(R,A,E){var T=o("OPTIONS",R);return typeof A=="function"&&(E=A,A=null),A&&T.send(A),E&&T.end(E),T};function x(R,A,E){var T=o("DELETE",R);return typeof A=="function"&&(E=A,A=null),A&&T.send(A),E&&T.end(E),T}o.del=x,o.delete=x,o.patch=function(R,A,E){var T=o("PATCH",R);return typeof A=="function"&&(E=A,A=null),A&&T.send(A),E&&T.end(E),T},o.post=function(R,A,E){var T=o("POST",R);return typeof A=="function"&&(E=A,A=null),A&&T.send(A),E&&T.end(E),T},o.put=function(R,A,E){var T=o("PUT",R);return typeof A=="function"&&(E=A,A=null),A&&T.send(A),E&&T.end(E),T}})(client$2,client$2.exports)),client$2.exports}var browser={exports:{}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var e=1e3,n=e*60,i=n*60,t=i*24,r=t*7,u=t*365.25;ms=function(p,l){l=l||{};var g=typeof p;if(g==="string"&&p.length>0)return s(p);if(g==="number"&&isFinite(p))return l.long?v(p):h(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))};function s(p){if(p=String(p),!(p.length>100)){var l=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(p);if(l){var g=parseFloat(l[1]),m=(l[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return g*u;case"weeks":case"week":case"w":return g*r;case"days":case"day":case"d":return g*t;case"hours":case"hour":case"hrs":case"hr":case"h":return g*i;case"minutes":case"minute":case"mins":case"min":case"m":return g*n;case"seconds":case"second":case"secs":case"sec":case"s":return g*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function h(p){var l=Math.abs(p);return l>=t?Math.round(p/t)+"d":l>=i?Math.round(p/i)+"h":l>=n?Math.round(p/n)+"m":l>=e?Math.round(p/e)+"s":p+"ms"}function v(p){var l=Math.abs(p);return l>=t?o(p,l,t,"day"):l>=i?o(p,l,i,"hour"):l>=n?o(p,l,n,"minute"):l>=e?o(p,l,e,"second"):p+" ms"}function o(p,l,g,m){var y=l>=g*1.5;return Math.round(p/g)+" "+m+(y?"s":"")}return ms}var common$1,hasRequiredCommon$1;function requireCommon$1(){if(hasRequiredCommon$1)return common$1;hasRequiredCommon$1=1;function e(n){t.debug=t,t.default=t,t.coerce=o,t.disable=h,t.enable=s,t.enabled=v,t.humanize=requireMs(),Object.keys(n).forEach(function(p){t[p]=n[p]}),t.instances=[],t.names=[],t.skips=[],t.formatters={};function i(p){for(var l=0,g=0;g<p.length;g++)l=(l<<5)-l+p.charCodeAt(g),l|=0;return t.colors[Math.abs(l)%t.colors.length]}t.selectColor=i;function t(p){var l;function g(){if(g.enabled){for(var m=arguments.length,y=new Array(m),b=0;b<m;b++)y[b]=arguments[b];var q=g,S=Number(new Date),x=S-(l||S);q.diff=x,q.prev=l,q.curr=S,l=S,y[0]=t.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");var R=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,function(E,T){if(E==="%%")return E;R++;var I=t.formatters[T];if(typeof I=="function"){var V=y[R];E=I.call(q,V),y.splice(R,1),R--}return E}),t.formatArgs.call(q,y);var A=q.log||t.log;A.apply(q,y)}}return g.namespace=p,g.enabled=t.enabled(p),g.useColors=t.useColors(),g.color=i(p),g.destroy=r,g.extend=u,typeof t.init=="function"&&t.init(g),t.instances.push(g),g}function r(){var p=t.instances.indexOf(this);return p!==-1?(t.instances.splice(p,1),!0):!1}function u(p,l){return t(this.namespace+(typeof l>"u"?":":l)+p)}function s(p){t.save(p),t.names=[],t.skips=[];var l,g=(typeof p=="string"?p:"").split(/[\s,]+/),m=g.length;for(l=0;l<m;l++)g[l]&&(p=g[l].replace(/\*/g,".*?"),p[0]==="-"?t.skips.push(new RegExp("^"+p.substr(1)+"$")):t.names.push(new RegExp("^"+p+"$")));for(l=0;l<t.instances.length;l++){var y=t.instances[l];y.enabled=t.enabled(y.namespace)}}function h(){t.enable("")}function v(p){if(p[p.length-1]==="*")return!0;var l,g;for(l=0,g=t.skips.length;l<g;l++)if(t.skips[l].test(p))return!1;for(l=0,g=t.names.length;l<g;l++)if(t.names[l].test(p))return!0;return!1}function o(p){return p instanceof Error?p.stack||p.message:p}return t.enable(t.load()),t}return common$1=e,common$1}var hasRequiredBrowser;function requireBrowser(){return hasRequiredBrowser||(hasRequiredBrowser=1,(function(e,n){var i={};function t(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(m){return typeof m}:t=function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},t(l)}n.log=s,n.formatArgs=u,n.save=h,n.load=v,n.useColors=r,n.storage=o(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function u(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!!this.useColors){var g="color: "+this.color;l.splice(1,0,g,"color: inherit");var m=0,y=0;l[0].replace(/%[a-zA-Z%]/g,function(b){b!=="%%"&&(m++,b==="%c"&&(y=m))}),l.splice(y,0,g)}}function s(){var l;return(typeof console>"u"?"undefined":t(console))==="object"&&console.log&&(l=console).log.apply(l,arguments)}function h(l){try{l?n.storage.setItem("debug",l):n.storage.removeItem("debug")}catch{}}function v(){var l;try{l=n.storage.getItem("debug")}catch{}return!l&&typeof process$1<"u"&&"env"in process$1&&(l=i.DEBUG),l}function o(){try{return localStorage}catch{}}e.exports=requireCommon$1()(n);var p=e.exports.formatters;p.j=function(l){try{return JSON.stringify(l)}catch(g){return"[UnexpectedJSONParseError]: "+g.message}}})(browser,browser.exports)),browser.exports}var config_1,hasRequiredConfig$1;function requireConfig$1(){if(hasRequiredConfig$1)return config_1;hasRequiredConfig$1=1;var e={},n="",i=e,t=i.FLUID_CONFIGURATIONS_VERSION,r=t===void 0?"3.13.0":t,u=i.FLUID_CONFIG_CACHE_DIR,s=u===void 0?n+"/fluid/configuration-loader":u,h=i.FLUID_MEMOIZE_CONFIGS,v=h===void 0?"true":h,o=i.FLUID_IN_MEMORY_CACHE_ITEM_COUNT,p=o===void 0?1e3:o,l=i.FLUID_CONFIG_REQUEST_RETRIES,g=l===void 0?2:l,m=i.FLUID_PREFERENCES_TTL,y=m===void 0?3e4:m,b=i.FLUID_CONFIGS_HOSTNAME,q=b===void 0?"dlotr6nyt8a8f.cloudfront.net":b,S=i.FLUID_CONFIG_CACHE_GC_LAST_ACCESS,x=S===void 0?"1h":S,R=i.FLUID_CONFIG_CACHE_GC_INTERVAL,A=R===void 0?3e5:R,E=function(){return window.location!==window.parent.location},T=function(){return window.location.protocol.indexOf("about")===-1?window.location.protocol:E()?window.parent.location.protocol:window.location.protocol},I=T(),V=/local\.|\d|:|fluidconfigure-/,G={version:r,cacheSize:+p,retryTimes:+g,memoize:v==="true",cacheDir:s,preferencesTtl:+y,gcMaxAge:x,gcInterval:A,getBaseUrl:function(k){var K=k.configureEndpoint,P=k.skipCdn,j=P===void 0?V.test(K||""):P;if(commonjsGlobal._fluidConfigurationLoaderBaseUrl)return commonjsGlobal._fluidConfigurationLoaderBaseUrl;var M=I+"//"+q;return K&&(j?M=I+"//"+K+"/static/configs":M=I+"//cdn-"+K+"/static/configs"),M+"/"+r},getJsonpBaseUrl:function(k){var K=k.configureEndpoint,P=k.skipCdn,j=P===void 0?V.test(K||""):P;return commonjsGlobal._fluidConfigurationLoaderBaseUrl?commonjsGlobal._fluidConfigurationLoaderBaseUrl:K?j?I+"//"+K+"/api/config/"+r:I+"//cdn-"+K+"/api/config/"+r:"https://api.fluidretail.net/config/"+r}};return config_1=G,config_1}var superagentMock,hasRequiredSuperagentMock;function requireSuperagentMock(){return hasRequiredSuperagentMock||(hasRequiredSuperagentMock=1,superagentMock=function(e,n,i){const t=e.Request;let r={};const u=!!i,s=t.prototype.end;function h(){i(r),r={}}const v=(function(){const p=n.length;return function(l,g){for(let m=0;m<p;m++)new RegExp(n[m].pattern,"g").test(l)&&g(n[m])}})();var o=function(p,l,g,m,y){setTimeout(function(){var b=g.total||100,q=b*(g.parts-m)/g.parts,S=g.lengthComputable!==!1,x=p.initProgressEvent?p.initProgressEvent("",!0,!1,S,q,b):new p("",{lengthComputable:S,loaded:q,total:b});x.total>0&&(x.percent=x.loaded/x.total*100),x.direction=g.direction||"upload",l.emit("progress",x),m>0?o(p,l,g,m-1,y):y()},g.delay||0)};return t.prototype.end=function(p){let l=null,g;const m=this.hasOwnProperty("cookies");let y={};if(this._finalizeQueryString){const A=this.url;m?this.request():this._finalizeQueryString(this),g=this.url,this.url=A}else if(m){const A=this.path;this.path=this.url,this._appendQueryString(this),g=this.path,this.path=A}else{const A=this.url;this._appendQueryString(this),g=this.url,this.url=A}let b=null;if(v(g,function(A){b?u&&(r.warnings=(r.warnings||[]).concat(["This other pattern matches the query but was ignored: "+A.pattern])):b=A}),!b&&u&&v(this.url,function(A){r.warnings=(r.warnings||[]).concat(["This pattern was ignored because it doesn't matches the query params: "+A.pattern])}),u&&(r.matcher=b&&b.pattern,r.mocked=!!b,r.url=g,r.method=this.method,r.data=this._data,r.headers=this.header,r.timestamp=new Date().getTime(),h()),!b)return s.call(this,p);const q=new RegExp(b.pattern,"g").exec(g),S={};try{const A=this.method.toLocaleLowerCase();S.method=A;const E=b.fixtures(q,this._data,this.header,S);if(S.cancel===!0)return s.call(this,p);y=(b[A]||b.callback)(q,E)}catch(A){l=A,y=new e.Response({res:{headers:{},setEncoding:function(){},on:function(){},body:A.responseBody||{}},req:{method:function(){},path:g,url:g},xhr:{responseType:"",responseText:A.responseText||"",getAllResponseHeaders:function(){return"a header"},getResponseHeader:function(){return A.responseHeader||"a header"}}}),y._setStatusProperties?y._setStatusProperties(Number(A.message)):y.setStatusProperties(Number(A.message))}if(this._okCallback&&y.status)try{this._isResponseOK(y)?l=null:l=new Error(y.statusText||"Unsuccessful HTTP response")}catch(A){l=A}var x=m?!!this._formData:this.hasListeners&&this.hasListeners("progress");if(S.progress&&x){var R=commonjsGlobal.ProgressEvent||function(A,E){return E.type=A,E};!S.progress.delay&&S.delay&&(S.progress.delay=S.delay/S.progress.parts),o(R,this,S.progress,S.progress.parts-1,function(){p(l,y)})}else S.delay?setTimeout(function(){p(l,y)},S.delay):p(l,y);return this},{unset:function(){t.prototype.end=s}}}),superagentMock}var get_json,hasRequiredGet_json;function requireGet_json(){if(hasRequiredGet_json)return get_json;hasRequiredGet_json=1;var e={},n=requireClient$1(),i=requireBrowser()("fluid:configuration-loader:http_client"),t=requireConfig$1();if(e.SUPERAGENT_MOCK){var r=commonjsGlobal.superAgentMockConfig||commonjsRequire(e.SUPERAGENT_MOCK);requireSuperagentMock()(n,r)}function u(s,h){function v(o,p){!o&&p&&p.status&&p.status>=400&&(o=new Error("Failed loading "+s+", with status "+(p&&p.status||"unknown"))),h(o,p&&p.body||{})}i("[info] GET %s",s);try{n.get(s).end(v)}catch(o){h(o)}}return get_json=u,get_json}var jsonpClient$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$1$1=getAugmentedNamespace(__viteBrowserExternal$1);var vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,(function(exports){var indexOf=function(e,n){if(e.indexOf)return e.indexOf(n);for(var i=0;i<e.length;i++)if(e[i]===n)return i;return-1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var n=[];for(var i in e)n.push(i);return n},forEach=function(e,n){if(e.forEach)return e.forEach(n);for(var i=0;i<e.length;i++)n(e[i],i,e)},defineProp=(function(){try{return Object.defineProperty({},"_",{}),function(e,n,i){Object.defineProperty(e,n,{writable:!0,enumerable:!1,configurable:!0,value:i})}}catch{return function(n,i,t){n[i]=t}}})(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(n){if(!(this instanceof Script))return new Script(n);this.code=n};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var n=document.createElement("iframe");n.style||(n.style={}),n.style.display="none",document.body.appendChild(n);var i=n.contentWindow,t=i.eval,r=i.execScript;!t&&r&&(r.call(i,"null"),t=i.eval),forEach(Object_keys(e),function(h){i[h]=e[h]}),forEach(globals,function(h){e[h]&&(i[h]=e[h])});var u=Object_keys(i),s=t.call(i,this.code);return forEach(Object_keys(i),function(h){(h in e||indexOf(u,h)===-1)&&(e[h]=i[h])}),forEach(globals,function(h){h in e||defineProp(e,h,i[h])}),document.body.removeChild(n),s},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var n=Script.createContext(e),i=this.runInContext(n);return e&&forEach(Object_keys(n),function(t){e[t]=n[t]}),i},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(n){var i=Script(n);return i[e].apply(i,[].slice.call(arguments,1))}}),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var n=new Context;return typeof e=="object"&&forEach(Object_keys(e),function(i){n[i]=e[i]}),n}})(vmBrowserify)),vmBrowserify}var empty=null;const empty$1=Object.freeze(Object.defineProperty({__proto__:null,default:empty},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(empty$1);var jsonpNode,hasRequiredJsonpNode;function requireJsonpNode(){if(hasRequiredJsonpNode)return jsonpNode;hasRequiredJsonpNode=1;var e={},n=require$$1$1,i=requireVmBrowserify(),t=require$$2,r=/(^\(|\);?\s*$)/,u=/^[a-z\d_]*\(/i,s=/([\w\d_]*)\(/,h,v,o,p,l,g,m=e.JSONP_CLIENT_ENABLE_LOCAL_SUPPORT;return v=function(y,b){var q=null,S,x;try{S=y.replace(u,"").replace(r,""),x=JSON.parse(S)}catch(R){q=R}b(q,x)},h=function(y,b){var q,S,x;y=(y||"")+"",q=i.createContext({error:null,cbData:null}),S=(y.match(s)||[null,!1])[1],x="function "+S+" (data) { cbData = data }  try { "+y+" } catch(e) { error = e;} ";try{i.runInContext(x,q)}catch(R){b(new Error(R))}if(q.error)return b(new Error(q.error));b(null,q.cbData)},o=function(y,b){y=y.toString(),v(y,function(q,S){if(q)return h(y,function(x,R){b(x,R)});b(q,S)})},l=function(y,b){n.get(y).buffer(!0).accept("application/javascript").parse(function(q,S){q.text="",q.setEncoding("utf8"),q.on("data",function(x){q.text=q.text+x}),q.on("end",S)}).end(function(q,S){!q&&S&&S.status&&S.status>=400&&(q=new Error("Could not fetch url "+y+", with status "+(S&&S.status||"unknown")+". Got error: "+(q&&q.message)+".")),b(q,S&&S.text||"cb({})")})},p=function(y,b){l(y,function(q,S){if(q)return b(q);o(S,b)})},g=m?function(y,b){y=y.split("?")[0],t.readFile(y,function(q,S){if(q)return b(q);o(S,b)})}:p,jsonpNode=function(y,b){y.match(/^http/)?p(y,b):g(y,b)},jsonpNode}var jsonpClient=jsonpClient$1.exports,hasRequiredJsonpClient;function requireJsonpClient(){return hasRequiredJsonpClient||(hasRequiredJsonpClient=1,(function(e){(function(n){var i=n.jsonpClient,t=typeof process$1<"u"?!0:typeof window<"u",r,u,s=/[\\?|&]callback=([a-z0-9_]+)/i,h=function(){var v=Array.prototype.slice.apply(arguments),o,p=v.slice(0,-1),l=0,g,m=[],y,b;try{if(o=v.slice(-1)[0],typeof o!="function")throw new Error("Callback not found")}catch{throw new Error("jsonpClient expects a callback")}for(typeof p[0]!="string"&&(p=p[0]),b=function(){var q=0;for(m=m.sort(function(S,x){return S.position>x.position}),q=0;m.length>q;q=q+1)m[q]=m[q].data;m.unshift(null),o.apply(null,m)},y=function(q,S){u(p[l],function(x,R){if(!g){if(g=x,x)return o(x);m.push({data:R,position:S}),m.length===p.length&&b()}})},l=0;p.length>l;l=l+1)y(p[l]+"",l)};h.noConflict=function(){return n.jsonpClient=i,h},r=function(){var v,o,p=document.getElementsByTagName("head")[0];return o=function(l,g){var m=document.createElement("script"),y=!1;m.src=l,m.async=!0,m.onload=m.onreadystatechange=function(){!y&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")&&(y=!0,m.onload=m.onreadystatechange=null,m&&m.parentNode&&m.parentNode.removeChild(m),g())},p.appendChild(m)},v=function(l,g){var m=l.match(s);if(!m)return g(new Error("Could not find callback on URL"));g(null,m[1])},function(l,g){v(l,function(m,y){var b,q=window[y];if(m)return g(m);window[y]=function(S){b=S},o(l,function(S){if(!S&&!b&&(S=new Error("Calling to "+y+" did not returned a JSON response.Make sure the callback "+y+" exists and is properly formatted.")),q)window[y]=q;else try{delete window[y]}catch{window[y]=void 0}g(S,b)})})}},u=t?r():requireJsonpNode(),e.exports?e.exports=h:n.jsonpClient=h})(jsonpClient)})(jsonpClient$1)),jsonpClient$1.exports}var noop,hasRequiredNoop;function requireNoop(){return hasRequiredNoop||(hasRequiredNoop=1,noop=function(){}),noop}var isValue,hasRequiredIsValue;function requireIsValue(){if(hasRequiredIsValue)return isValue;hasRequiredIsValue=1;var e=requireNoop()();return isValue=function(n){return n!==e&&n!==null},isValue}var normalizeOptions,hasRequiredNormalizeOptions;function requireNormalizeOptions(){if(hasRequiredNormalizeOptions)return normalizeOptions;hasRequiredNormalizeOptions=1;var e=requireIsValue(),n=Array.prototype.forEach,i=Object.create,t=function(r,u){var s;for(s in r)u[s]=r[s]};return normalizeOptions=function(r){var u=i(null);return n.call(arguments,function(s){e(s)&&t(Object(s),u)}),u},normalizeOptions}var isImplemented$7,hasRequiredIsImplemented$7;function requireIsImplemented$7(){return hasRequiredIsImplemented$7||(hasRequiredIsImplemented$7=1,isImplemented$7=function(){var e=Math.sign;return typeof e!="function"?!1:e(10)===1&&e(-20)===-1}),isImplemented$7}var shim$5,hasRequiredShim$5;function requireShim$5(){return hasRequiredShim$5||(hasRequiredShim$5=1,shim$5=function(e){return e=Number(e),isNaN(e)||e===0?e:e>0?1:-1}),shim$5}var sign,hasRequiredSign;function requireSign(){return hasRequiredSign||(hasRequiredSign=1,sign=requireIsImplemented$7()()?Math.sign:requireShim$5()),sign}var toInteger,hasRequiredToInteger;function requireToInteger(){if(hasRequiredToInteger)return toInteger;hasRequiredToInteger=1;var e=requireSign(),n=Math.abs,i=Math.floor;return toInteger=function(t){return isNaN(t)?0:(t=Number(t),t===0||!isFinite(t)?t:e(t)*i(n(t)))},toInteger}var toPosInteger,hasRequiredToPosInteger;function requireToPosInteger(){if(hasRequiredToPosInteger)return toPosInteger;hasRequiredToPosInteger=1;var e=requireToInteger(),n=Math.max;return toPosInteger=function(i){return n(0,e(i))},toPosInteger}var resolveLength,hasRequiredResolveLength;function requireResolveLength(){if(hasRequiredResolveLength)return resolveLength;hasRequiredResolveLength=1;var e=requireToPosInteger();return resolveLength=function(n,i,t){var r;return isNaN(n)?(r=i,r>=0?t&&r?r-1:r:1):n===!1?!1:e(n)},resolveLength}var validCallable,hasRequiredValidCallable;function requireValidCallable(){return hasRequiredValidCallable||(hasRequiredValidCallable=1,validCallable=function(e){if(typeof e!="function")throw new TypeError(e+" is not a function");return e}),validCallable}var validValue,hasRequiredValidValue;function requireValidValue(){if(hasRequiredValidValue)return validValue;hasRequiredValidValue=1;var e=requireIsValue();return validValue=function(n){if(!e(n))throw new TypeError("Cannot use null or undefined");return n},validValue}var _iterate,hasRequired_iterate;function require_iterate(){if(hasRequired_iterate)return _iterate;hasRequired_iterate=1;var e=requireValidCallable(),n=requireValidValue(),i=Function.prototype.bind,t=Function.prototype.call,r=Object.keys,u=Object.prototype.propertyIsEnumerable;return _iterate=function(s,h){return function(v,o){var p,l=arguments[2],g=arguments[3];return v=Object(n(v)),e(o),p=r(v),g&&p.sort(typeof g=="function"?i.call(g,v):void 0),typeof s!="function"&&(s=p[s]),t.call(s,p,function(m,y){return u.call(v,m)?t.call(o,l,v[m],m,v,y):h})}},_iterate}var forEach,hasRequiredForEach;function requireForEach(){return hasRequiredForEach||(hasRequiredForEach=1,forEach=require_iterate()("forEach")),forEach}var registeredExtensions={},hasRequiredRegisteredExtensions;function requireRegisteredExtensions(){return hasRequiredRegisteredExtensions||(hasRequiredRegisteredExtensions=1),registeredExtensions}var custom={exports:{}},isImplemented$6,hasRequiredIsImplemented$6;function requireIsImplemented$6(){return hasRequiredIsImplemented$6||(hasRequiredIsImplemented$6=1,isImplemented$6=function(){var e=Object.assign,n;return typeof e!="function"?!1:(n={foo:"raz"},e(n,{bar:"dwa"},{trzy:"trzy"}),n.foo+n.bar+n.trzy==="razdwatrzy")}),isImplemented$6}var isImplemented$5,hasRequiredIsImplemented$5;function requireIsImplemented$5(){return hasRequiredIsImplemented$5||(hasRequiredIsImplemented$5=1,isImplemented$5=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),isImplemented$5}var shim$4,hasRequiredShim$4;function requireShim$4(){if(hasRequiredShim$4)return shim$4;hasRequiredShim$4=1;var e=requireIsValue(),n=Object.keys;return shim$4=function(i){return n(e(i)?Object(i):i)},shim$4}var keys,hasRequiredKeys;function requireKeys(){return hasRequiredKeys||(hasRequiredKeys=1,keys=requireIsImplemented$5()()?Object.keys:requireShim$4()),keys}var shim$3,hasRequiredShim$3;function requireShim$3(){if(hasRequiredShim$3)return shim$3;hasRequiredShim$3=1;var e=requireKeys(),n=requireValidValue(),i=Math.max;return shim$3=function(t,r){var u,s,h=i(arguments.length,2),v;for(t=Object(n(t)),v=function(o){try{t[o]=r[o]}catch(p){u||(u=p)}},s=1;s<h;++s)r=arguments[s],e(r).forEach(v);if(u!==void 0)throw u;return t},shim$3}var assign,hasRequiredAssign;function requireAssign(){return hasRequiredAssign||(hasRequiredAssign=1,assign=requireIsImplemented$6()()?Object.assign:requireShim$3()),assign}var isObject,hasRequiredIsObject$1;function requireIsObject$1(){if(hasRequiredIsObject$1)return isObject;hasRequiredIsObject$1=1;var e=requireIsValue(),n={function:!0,object:!0};return isObject=function(i){return e(i)&&n[typeof i]||!1},isObject}var hasRequiredCustom;function requireCustom(){return hasRequiredCustom||(hasRequiredCustom=1,(function(e){var n=requireAssign(),i=requireIsObject$1(),t=requireIsValue(),r=Error.captureStackTrace;e.exports=function(u){var s=new Error(u),h=arguments[1],v=arguments[2];return t(v)||i(h)&&(v=h,h=null),t(v)&&n(s,v),t(h)&&(s.code=h),r&&r(s,e.exports),s}})(custom)),custom.exports}var _defineLength={exports:{}},mixin,hasRequiredMixin;function requireMixin(){if(hasRequiredMixin)return mixin;hasRequiredMixin=1;var e=requireValidValue(),n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,t=Object.getOwnPropertyNames,r=Object.getOwnPropertySymbols;return mixin=function(u,s){var h,v=Object(e(s));if(u=Object(e(u)),t(v).forEach(function(o){try{n(u,o,i(s,o))}catch(p){h=p}}),typeof r=="function"&&r(v).forEach(function(o){try{n(u,o,i(s,o))}catch(p){h=p}}),h!==void 0)throw h;return u},mixin}var hasRequired_defineLength;function require_defineLength(){if(hasRequired_defineLength)return _defineLength.exports;hasRequired_defineLength=1;var e=requireToPosInteger(),n=function(s,h){return h},i,t,r,u;try{Object.defineProperty(n,"length",{configurable:!0,writable:!1,enumerable:!1,value:1})}catch{}return n.length===1?(i={configurable:!0,writable:!1,enumerable:!1},t=Object.defineProperty,_defineLength.exports=function(s,h){return h=e(h),s.length===h?s:(i.value=h,t(s,"length",i))}):(u=requireMixin(),r=(function(){var s=[];return function(h){var v,o=0;if(s[h])return s[h];for(v=[];h--;)v.push("a"+(++o).toString(36));return new Function("fn","return function ("+v.join(", ")+") { return fn.apply(this, arguments); };")}})(),_defineLength.exports=function(s,h){var v;if(h=e(h),s.length===h)return s;v=r(h)(s);try{u(v,s)}catch{}return v}),_defineLength.exports}var d={exports:{}},is$5,hasRequiredIs$4;function requireIs$4(){if(hasRequiredIs$4)return is$5;hasRequiredIs$4=1;var e=void 0;return is$5=function(n){return n!==e&&n!==null},is$5}var is$4,hasRequiredIs$3;function requireIs$3(){if(hasRequiredIs$3)return is$4;hasRequiredIs$3=1;var e=requireIs$4(),n={object:!0,function:!0,undefined:!0};return is$4=function(i){return e(i)?hasOwnProperty.call(n,typeof i):!1},is$4}var is$3,hasRequiredIs$2;function requireIs$2(){if(hasRequiredIs$2)return is$3;hasRequiredIs$2=1;var e=requireIs$3();return is$3=function(n){if(!e(n))return!1;try{return n.constructor?n.constructor.prototype===n:!1}catch{return!1}},is$3}var is$2,hasRequiredIs$1;function requireIs$1(){if(hasRequiredIs$1)return is$2;hasRequiredIs$1=1;var e=requireIs$2();return is$2=function(n){if(typeof n!="function"||!hasOwnProperty.call(n,"length"))return!1;try{if(typeof n.length!="number"||typeof n.call!="function"||typeof n.apply!="function")return!1}catch{return!1}return!e(n)},is$2}var is$1,hasRequiredIs;function requireIs(){if(hasRequiredIs)return is$1;hasRequiredIs=1;var e=requireIs$1(),n=/^\s*class[\s{/}]/,i=Function.prototype.toString;return is$1=function(t){return!(!e(t)||n.test(i.call(t)))},is$1}var isImplemented$4,hasRequiredIsImplemented$4;function requireIsImplemented$4(){if(hasRequiredIsImplemented$4)return isImplemented$4;hasRequiredIsImplemented$4=1;var e="razdwatrzy";return isImplemented$4=function(){return typeof e.contains!="function"?!1:e.contains("dwa")===!0&&e.contains("foo")===!1},isImplemented$4}var shim$2,hasRequiredShim$2;function requireShim$2(){if(hasRequiredShim$2)return shim$2;hasRequiredShim$2=1;var e=String.prototype.indexOf;return shim$2=function(n){return e.call(this,n,arguments[1])>-1},shim$2}var contains,hasRequiredContains;function requireContains(){return hasRequiredContains||(hasRequiredContains=1,contains=requireIsImplemented$4()()?String.prototype.contains:requireShim$2()),contains}var hasRequiredD;function requireD(){if(hasRequiredD)return d.exports;hasRequiredD=1;var e=requireIs$4(),n=requireIs(),i=requireAssign(),t=requireNormalizeOptions(),r=requireContains(),u=d.exports=function(s,h){var v,o,p,l,g;return arguments.length<2||typeof s!="string"?(l=h,h=s,s=null):l=arguments[2],e(s)?(v=r.call(s,"c"),o=r.call(s,"e"),p=r.call(s,"w")):(v=p=!0,o=!1),g={value:h,configurable:v,enumerable:o,writable:p},l?i(t(l),g):g};return u.gs=function(s,h,v){var o,p,l,g;return typeof s!="string"?(l=v,v=h,h=s,s=null):l=arguments[3],e(h)?n(h)?e(v)?n(v)||(l=v,v=void 0):v=void 0:(l=h,h=v=void 0):h=void 0,e(s)?(o=r.call(s,"c"),p=r.call(s,"e")):(o=!0,p=!1),g={get:h,set:v,configurable:o,enumerable:p},l?i(t(l),g):g},d.exports}var eventEmitter={exports:{}},hasRequiredEventEmitter;function requireEventEmitter(){return hasRequiredEventEmitter||(hasRequiredEventEmitter=1,(function(e,n){var i=requireD(),t=requireValidCallable(),r=Function.prototype.apply,u=Function.prototype.call,s=Object.create,h=Object.defineProperty,v=Object.defineProperties,o=Object.prototype.hasOwnProperty,p={configurable:!0,enumerable:!1,writable:!0},l,g,m,y,b,q,S;l=function(x,R){var A;return t(R),o.call(this,"__ee__")?A=this.__ee__:(A=p.value=s(null),h(this,"__ee__",p),p.value=null),A[x]?typeof A[x]=="object"?A[x].push(R):A[x]=[A[x],R]:A[x]=R,this},g=function(x,R){var A,E;return t(R),E=this,l.call(this,x,A=function(){m.call(E,x,A),r.call(R,this,arguments)}),A.__eeOnceListener__=R,this},m=function(x,R){var A,E,T,I;if(t(R),!o.call(this,"__ee__"))return this;if(A=this.__ee__,!A[x])return this;if(E=A[x],typeof E=="object")for(I=0;T=E[I];++I)(T===R||T.__eeOnceListener__===R)&&(E.length===2?A[x]=E[I?0:1]:E.splice(I,1));else(E===R||E.__eeOnceListener__===R)&&delete A[x];return this},y=function(x){var R,A,E,T,I;if(o.call(this,"__ee__")&&(T=this.__ee__[x],!!T))if(typeof T=="object"){for(A=arguments.length,I=new Array(A-1),R=1;R<A;++R)I[R-1]=arguments[R];for(T=T.slice(),R=0;E=T[R];++R)r.call(E,this,I)}else switch(arguments.length){case 1:u.call(T,this);break;case 2:u.call(T,this,arguments[1]);break;case 3:u.call(T,this,arguments[1],arguments[2]);break;default:for(A=arguments.length,I=new Array(A-1),R=1;R<A;++R)I[R-1]=arguments[R];r.call(T,this,I)}},b={on:l,once:g,off:m,emit:y},q={on:i(l),once:i(g),off:i(m),emit:i(y)},S=v({},q),e.exports=n=function(x){return x==null?s(S):v(Object(x),q)},n.methods=b})(eventEmitter,eventEmitter.exports)),eventEmitter.exports}var isImplemented$3,hasRequiredIsImplemented$3;function requireIsImplemented$3(){return hasRequiredIsImplemented$3||(hasRequiredIsImplemented$3=1,isImplemented$3=function(){var e=Array.from,n,i;return typeof e!="function"?!1:(n=["raz","dwa"],i=e(n),!!(i&&i!==n&&i[1]==="dwa"))}),isImplemented$3}var isImplemented$2,hasRequiredIsImplemented$2;function requireIsImplemented$2(){return hasRequiredIsImplemented$2||(hasRequiredIsImplemented$2=1,isImplemented$2=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}),isImplemented$2}var implementation,hasRequiredImplementation;function requireImplementation(){if(hasRequiredImplementation)return implementation;hasRequiredImplementation=1;var e=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return implementation=(function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return e()}try{return __global__||e()}finally{delete Object.prototype.__global__}})(),implementation}var globalThis_1,hasRequiredGlobalThis;function requireGlobalThis(){return hasRequiredGlobalThis||(hasRequiredGlobalThis=1,globalThis_1=requireIsImplemented$2()()?globalThis:requireImplementation()),globalThis_1}var isImplemented$1,hasRequiredIsImplemented$1;function requireIsImplemented$1(){if(hasRequiredIsImplemented$1)return isImplemented$1;hasRequiredIsImplemented$1=1;var e=requireGlobalThis(),n={object:!0,symbol:!0};return isImplemented$1=function(){var i=e.Symbol,t;if(typeof i!="function")return!1;t=i("test symbol");try{String(t)}catch{return!1}return!(!n[typeof i.iterator]||!n[typeof i.toPrimitive]||!n[typeof i.toStringTag])},isImplemented$1}var isSymbol,hasRequiredIsSymbol;function requireIsSymbol(){return hasRequiredIsSymbol||(hasRequiredIsSymbol=1,isSymbol=function(e){return e?typeof e=="symbol"?!0:!e.constructor||e.constructor.name!=="Symbol"?!1:e[e.constructor.toStringTag]==="Symbol":!1}),isSymbol}var validateSymbol,hasRequiredValidateSymbol;function requireValidateSymbol(){if(hasRequiredValidateSymbol)return validateSymbol;hasRequiredValidateSymbol=1;var e=requireIsSymbol();return validateSymbol=function(n){if(!e(n))throw new TypeError(n+" is not a symbol");return n},validateSymbol}var generateName,hasRequiredGenerateName;function requireGenerateName(){if(hasRequiredGenerateName)return generateName;hasRequiredGenerateName=1;var e=requireD(),n=Object.create,i=Object.defineProperty,t=Object.prototype,r=n(null);return generateName=function(u){for(var s=0,h,v;r[u+(s||"")];)++s;return u+=s||"",r[u]=!0,h="@@"+u,i(t,h,e.gs(null,function(o){v||(v=!0,i(this,h,e(o)),v=!1)})),h},generateName}var standardSymbols,hasRequiredStandardSymbols;function requireStandardSymbols(){if(hasRequiredStandardSymbols)return standardSymbols;hasRequiredStandardSymbols=1;var e=requireD(),n=requireGlobalThis().Symbol;return standardSymbols=function(i){return Object.defineProperties(i,{hasInstance:e("",n&&n.hasInstance||i("hasInstance")),isConcatSpreadable:e("",n&&n.isConcatSpreadable||i("isConcatSpreadable")),iterator:e("",n&&n.iterator||i("iterator")),match:e("",n&&n.match||i("match")),replace:e("",n&&n.replace||i("replace")),search:e("",n&&n.search||i("search")),species:e("",n&&n.species||i("species")),split:e("",n&&n.split||i("split")),toPrimitive:e("",n&&n.toPrimitive||i("toPrimitive")),toStringTag:e("",n&&n.toStringTag||i("toStringTag")),unscopables:e("",n&&n.unscopables||i("unscopables"))})},standardSymbols}var symbolRegistry,hasRequiredSymbolRegistry;function requireSymbolRegistry(){if(hasRequiredSymbolRegistry)return symbolRegistry;hasRequiredSymbolRegistry=1;var e=requireD(),n=requireValidateSymbol(),i=Object.create(null);return symbolRegistry=function(t){return Object.defineProperties(t,{for:e(function(r){return i[r]?i[r]:i[r]=t(String(r))}),keyFor:e(function(r){var u;n(r);for(u in i)if(i[u]===r)return u})})},symbolRegistry}var polyfill,hasRequiredPolyfill;function requirePolyfill(){if(hasRequiredPolyfill)return polyfill;hasRequiredPolyfill=1;var e=requireD(),n=requireValidateSymbol(),i=requireGlobalThis().Symbol,t=requireGenerateName(),r=requireStandardSymbols(),u=requireSymbolRegistry(),s=Object.create,h=Object.defineProperties,v=Object.defineProperty,o,p,l;if(typeof i=="function")try{String(i()),l=!0}catch{}else i=null;return p=function(m){if(this instanceof p)throw new TypeError("Symbol is not a constructor");return o(m)},polyfill=o=function g(m){var y;if(this instanceof g)throw new TypeError("Symbol is not a constructor");return l?i(m):(y=s(p.prototype),m=m===void 0?"":String(m),h(y,{__description__:e("",m),__name__:e("",t(m))}))},r(o),u(o),h(p.prototype,{constructor:e(o),toString:e("",function(){return this.__name__})}),h(o.prototype,{toString:e(function(){return"Symbol ("+n(this).__description__+")"}),valueOf:e(function(){return n(this)})}),v(o.prototype,o.toPrimitive,e("",function(){var g=n(this);return typeof g=="symbol"?g:g.toString()})),v(o.prototype,o.toStringTag,e("c","Symbol")),v(p.prototype,o.toStringTag,e("c",o.prototype[o.toStringTag])),v(p.prototype,o.toPrimitive,e("c",o.prototype[o.toPrimitive])),polyfill}var es6Symbol,hasRequiredEs6Symbol;function requireEs6Symbol(){return hasRequiredEs6Symbol||(hasRequiredEs6Symbol=1,es6Symbol=requireIsImplemented$1()()?requireGlobalThis().Symbol:requirePolyfill()),es6Symbol}var isArguments,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments;hasRequiredIsArguments=1;var e=Object.prototype.toString,n=e.call((function(){return arguments})());return isArguments=function(i){return e.call(i)===n},isArguments}var isFunction,hasRequiredIsFunction;function requireIsFunction(){if(hasRequiredIsFunction)return isFunction;hasRequiredIsFunction=1;var e=Object.prototype.toString,n=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);return isFunction=function(i){return typeof i=="function"&&n(e.call(i))},isFunction}var isString,hasRequiredIsString;function requireIsString(){if(hasRequiredIsString)return isString;hasRequiredIsString=1;var e=Object.prototype.toString,n=e.call("");return isString=function(i){return typeof i=="string"||i&&typeof i=="object"&&(i instanceof String||e.call(i)===n)||!1},isString}var shim$1,hasRequiredShim$1;function requireShim$1(){if(hasRequiredShim$1)return shim$1;hasRequiredShim$1=1;var e=requireEs6Symbol().iterator,n=requireIsArguments(),i=requireIsFunction(),t=requireToPosInteger(),r=requireValidCallable(),u=requireValidValue(),s=requireIsValue(),h=requireIsString(),v=Array.isArray,o=Function.prototype.call,p={configurable:!0,enumerable:!0,writable:!0,value:null},l=Object.defineProperty;return shim$1=function(g){var m=arguments[1],y=arguments[2],b,q,S,x,R,A,E,T,I,V;if(g=Object(u(g)),s(m)&&r(m),!this||this===Array||!i(this)){if(!m){if(n(g))return R=g.length,R!==1?Array.apply(null,g):(x=new Array(1),x[0]=g[0],x);if(v(g)){for(x=new Array(R=g.length),q=0;q<R;++q)x[q]=g[q];return x}}x=[]}else b=this;if(!v(g)){if((I=g[e])!==void 0){for(E=r(I).call(g),b&&(x=new b),T=E.next(),q=0;!T.done;)V=m?o.call(m,y,T.value,q):T.value,b?(p.value=V,l(x,q,p)):x[q]=V,T=E.next(),++q;R=q}else if(h(g)){for(R=g.length,b&&(x=new b),q=0,S=0;q<R;++q)V=g[q],q+1<R&&(A=V.charCodeAt(0),A>=55296&&A<=56319&&(V+=g[++q])),V=m?o.call(m,y,V,S):V,b?(p.value=V,l(x,S,p)):x[S]=V,++S;R=S}}if(R===void 0)for(R=t(g.length),b&&(x=new b(R)),q=0;q<R;++q)V=m?o.call(m,y,g[q],q):g[q],b?(p.value=V,l(x,q,p)):x[q]=V;return b&&(p.value=null,x.length=R),x},shim$1}var from,hasRequiredFrom;function requireFrom(){return hasRequiredFrom||(hasRequiredFrom=1,from=requireIsImplemented$3()()?Array.from:requireShim$1()),from}var toArray,hasRequiredToArray;function requireToArray(){if(hasRequiredToArray)return toArray;hasRequiredToArray=1;var e=requireFrom(),n=Array.isArray;return toArray=function(i){return n(i)?i:e(i)},toArray}var resolveResolve,hasRequiredResolveResolve;function requireResolveResolve(){if(hasRequiredResolveResolve)return resolveResolve;hasRequiredResolveResolve=1;var e=requireToArray(),n=requireIsValue(),i=requireValidCallable(),t=Array.prototype.slice,r;return r=function(u){return this.map(function(s,h){return s?s(u[h]):u[h]}).concat(t.call(u,this.length))},resolveResolve=function(u){return u=e(u),u.forEach(function(s){n(s)&&i(s)}),r.bind(u)},resolveResolve}var resolveNormalize,hasRequiredResolveNormalize;function requireResolveNormalize(){if(hasRequiredResolveNormalize)return resolveNormalize;hasRequiredResolveNormalize=1;var e=requireValidCallable();return resolveNormalize=function(n){var i;return typeof n=="function"?{set:n,get:n}:(i={get:e(n.get)},n.set!==void 0?(i.set=e(n.set),n.delete&&(i.delete=e(n.delete)),n.clear&&(i.clear=e(n.clear)),i):(i.set=i.get,i))},resolveNormalize}var configureMap,hasRequiredConfigureMap;function requireConfigureMap(){if(hasRequiredConfigureMap)return configureMap;hasRequiredConfigureMap=1;var e=requireCustom(),n=require_defineLength(),i=requireD(),t=requireEventEmitter().methods,r=requireResolveResolve(),u=requireResolveNormalize(),s=Function.prototype.apply,h=Function.prototype.call,v=Object.create,o=Object.defineProperties,p=t.on,l=t.emit;return configureMap=function(g,m,y){var b=v(null),q,S,x,R,A,E,T,I,V,G,Q,k,K,P,j;return m!==!1?S=m:isNaN(g.length)?S=1:S=g.length,y.normalizer&&(G=u(y.normalizer),x=G.get,R=G.set,A=G.delete,E=G.clear),y.resolvers!=null&&(j=r(y.resolvers)),x?P=n(function(M){var O,L,N=arguments;if(j&&(N=j(N)),O=x(N),O!==null&&hasOwnProperty.call(b,O))return Q&&q.emit("get",O,N,this),b[O];if(N.length===1?L=h.call(g,this,N[0]):L=s.call(g,this,N),O===null){if(O=x(N),O!==null)throw e("Circular invocation","CIRCULAR_INVOCATION");O=R(N)}else if(hasOwnProperty.call(b,O))throw e("Circular invocation","CIRCULAR_INVOCATION");return b[O]=L,k&&q.emit("set",O,null,L),L},S):m===0?P=function(){var M;if(hasOwnProperty.call(b,"data"))return Q&&q.emit("get","data",arguments,this),b.data;if(arguments.length?M=s.call(g,this,arguments):M=h.call(g,this),hasOwnProperty.call(b,"data"))throw e("Circular invocation","CIRCULAR_INVOCATION");return b.data=M,k&&q.emit("set","data",null,M),M}:P=function(M){var O,L=arguments,N;if(j&&(L=j(arguments)),N=String(L[0]),hasOwnProperty.call(b,N))return Q&&q.emit("get",N,L,this),b[N];if(L.length===1?O=h.call(g,this,L[0]):O=s.call(g,this,L),hasOwnProperty.call(b,N))throw e("Circular invocation","CIRCULAR_INVOCATION");return b[N]=O,k&&q.emit("set",N,null,O),O},q={original:g,memoized:P,profileName:y.profileName,get:function(M){return j&&(M=j(M)),x?x(M):String(M[0])},has:function(M){return hasOwnProperty.call(b,M)},delete:function(M){var O;hasOwnProperty.call(b,M)&&(A&&A(M),O=b[M],delete b[M],K&&q.emit("delete",M,O))},clear:function(){var M=b;E&&E(),b=v(null),q.emit("clear",M)},on:function(M,O){return M==="get"?Q=!0:M==="set"?k=!0:M==="delete"&&(K=!0),p.call(this,M,O)},emit:l,updateEnv:function(){g=q.original}},x?T=n(function(M){var O,L=arguments;j&&(L=j(L)),O=x(L),O!==null&&q.delete(O)},S):m===0?T=function(){return q.delete("data")}:T=function(M){return j&&(M=j(arguments)[0]),q.delete(M)},I=n(function(){var M,O=arguments;return m===0?b.data:(j&&(O=j(O)),x?M=x(O):M=String(O[0]),b[M])}),V=n(function(){var M,O=arguments;return m===0?q.has("data"):(j&&(O=j(O)),x?M=x(O):M=String(O[0]),M===null?!1:q.has(M))}),o(P,{__memoized__:i(!0),delete:i(T),clear:i(q.clear),_get:i(I),_has:i(V)}),q},configureMap}var plain,hasRequiredPlain;function requirePlain(){if(hasRequiredPlain)return plain;hasRequiredPlain=1;var e=requireValidCallable(),n=requireForEach(),i=requireRegisteredExtensions(),t=requireConfigureMap(),r=requireResolveLength();return plain=function u(s){var h,v,o;if(e(s),h=Object(arguments[1]),h.async&&h.promise)throw new Error("Options 'async' and 'promise' cannot be used together");return hasOwnProperty.call(s,"__memoized__")&&!h.force?s:(v=r(h.length,s.length,h.async&&i.async),o=t(s,v,h),n(i,function(p,l){h[l]&&p(h[l],o,h)}),u.__profiler__&&u.__profiler__(o),o.updateEnv(),o.memoized)},plain}var primitive,hasRequiredPrimitive;function requirePrimitive(){return hasRequiredPrimitive||(hasRequiredPrimitive=1,primitive=function(e){var n,i,t=e.length;if(!t)return"";for(n=String(e[i=0]);--t;)n+=""+e[++i];return n}),primitive}var getPrimitiveFixed,hasRequiredGetPrimitiveFixed;function requireGetPrimitiveFixed(){return hasRequiredGetPrimitiveFixed||(hasRequiredGetPrimitiveFixed=1,getPrimitiveFixed=function(e){return e?function(n){for(var i=String(n[0]),t=0,r=e;--r;)i+=""+n[++t];return i}:function(){return""}}),getPrimitiveFixed}var isImplemented,hasRequiredIsImplemented;function requireIsImplemented(){return hasRequiredIsImplemented||(hasRequiredIsImplemented=1,isImplemented=function(){var e=Number.isNaN;return typeof e!="function"?!1:!e({})&&e(NaN)&&!e(34)}),isImplemented}var shim,hasRequiredShim;function requireShim(){return hasRequiredShim||(hasRequiredShim=1,shim=function(e){return e!==e}),shim}var isNan,hasRequiredIsNan;function requireIsNan(){return hasRequiredIsNan||(hasRequiredIsNan=1,isNan=requireIsImplemented()()?Number.isNaN:requireShim()),isNan}var eIndexOf,hasRequiredEIndexOf;function requireEIndexOf(){if(hasRequiredEIndexOf)return eIndexOf;hasRequiredEIndexOf=1;var e=requireIsNan(),n=requireToPosInteger(),i=requireValidValue(),t=Array.prototype.indexOf,r=Object.prototype.hasOwnProperty,u=Math.abs,s=Math.floor;return eIndexOf=function(h){var v,o,p,l;if(!e(h))return t.apply(this,arguments);for(o=n(i(this).length),p=arguments[1],isNaN(p)?p=0:p>=0?p=s(p):p=n(this.length)-s(u(p)),v=p;v<o;++v)if(r.call(this,v)&&(l=this[v],e(l)))return v;return-1},eIndexOf}var get,hasRequiredGet;function requireGet(){if(hasRequiredGet)return get;hasRequiredGet=1;var e=requireEIndexOf(),n=Object.create;return get=function(){var i=0,t=[],r=n(null);return{get:function(u){var s=0,h=t,v,o=u.length;if(o===0)return h[o]||null;if(h=h[o]){for(;s<o-1;){if(v=e.call(h[0],u[s]),v===-1)return null;h=h[1][v],++s}return v=e.call(h[0],u[s]),v===-1?null:h[1][v]||null}return null},set:function(u){var s=0,h=t,v,o=u.length;if(o===0)h[o]=++i;else{for(h[o]||(h[o]=[[],[]]),h=h[o];s<o-1;)v=e.call(h[0],u[s]),v===-1&&(v=h[0].push(u[s])-1,h[1].push([[],[]])),h=h[1][v],++s;v=e.call(h[0],u[s]),v===-1&&(v=h[0].push(u[s])-1),h[1][v]=++i}return r[i]=u,i},delete:function(u){var s=0,h=t,v,o=r[u],p=o.length,l=[];if(p===0)delete h[p];else if(h=h[p]){for(;s<p-1;){if(v=e.call(h[0],o[s]),v===-1)return;l.push(h,v),h=h[1][v],++s}if(v=e.call(h[0],o[s]),v===-1)return;for(u=h[1][v],h[0].splice(v,1),h[1].splice(v,1);!h[0].length&&l.length;)v=l.pop(),h=l.pop(),h[0].splice(v,1),h[1].splice(v,1)}delete r[u]},clear:function(){t=[],r=n(null)}}},get}var get1,hasRequiredGet1;function requireGet1(){if(hasRequiredGet1)return get1;hasRequiredGet1=1;var e=requireEIndexOf();return get1=function(){var n=0,i=[],t=[];return{get:function(r){var u=e.call(i,r[0]);return u===-1?null:t[u]},set:function(r){return i.push(r[0]),t.push(++n),n},delete:function(r){var u=e.call(t,r);u!==-1&&(i.splice(u,1),t.splice(u,1))},clear:function(){i=[],t=[]}}},get1}var getFixed,hasRequiredGetFixed;function requireGetFixed(){if(hasRequiredGetFixed)return getFixed;hasRequiredGetFixed=1;var e=requireEIndexOf(),n=Object.create;return getFixed=function(i){var t=0,r=[[],[]],u=n(null);return{get:function(s){for(var h=0,v=r,o;h<i-1;){if(o=e.call(v[0],s[h]),o===-1)return null;v=v[1][o],++h}return o=e.call(v[0],s[h]),o===-1?null:v[1][o]||null},set:function(s){for(var h=0,v=r,o;h<i-1;)o=e.call(v[0],s[h]),o===-1&&(o=v[0].push(s[h])-1,v[1].push([[],[]])),v=v[1][o],++h;return o=e.call(v[0],s[h]),o===-1&&(o=v[0].push(s[h])-1),v[1][o]=++t,u[t]=s,t},delete:function(s){for(var h=0,v=r,o,p=[],l=u[s];h<i-1;){if(o=e.call(v[0],l[h]),o===-1)return;p.push(v,o),v=v[1][o],++h}if(o=e.call(v[0],l[h]),o!==-1){for(s=v[1][o],v[0].splice(o,1),v[1].splice(o,1);!v[0].length&&p.length;)o=p.pop(),v=p.pop(),v[0].splice(o,1),v[1].splice(o,1);delete u[s]}},clear:function(){r=[[],[]],u=n(null)}}},getFixed}var async$1={},map$1,hasRequiredMap$1;function requireMap$1(){if(hasRequiredMap$1)return map$1;hasRequiredMap$1=1;var e=requireValidCallable(),n=requireForEach(),i=Function.prototype.call;return map$1=function(t,r){var u={},s=arguments[2];return e(r),n(t,function(h,v,o,p){u[v]=i.call(r,s,h,v,o,p)}),u},map$1}var nextTick,hasRequiredNextTick;function requireNextTick(){if(hasRequiredNextTick)return nextTick;hasRequiredNextTick=1;var e=function(i){if(typeof i!="function")throw new TypeError(i+" is not a function");return i},n=function(i){var t=document.createTextNode(""),r,u,s=0;return new i(function(){var h;if(r)u&&(r=u.concat(r));else{if(!u)return;r=u}if(u=r,r=null,typeof u=="function"){h=u,u=null,h();return}for(t.data=s=++s%2;u;)h=u.shift(),u.length||(u=null),h()}).observe(t,{characterData:!0}),function(h){if(e(h),r){typeof r=="function"?r=[r,h]:r.push(h);return}r=h,t.data=s=++s%2}};return nextTick=(function(){if(typeof process$1=="object"&&process$1&&typeof process$1.nextTick=="function")return process$1.nextTick;if(typeof queueMicrotask=="function")return function(i){queueMicrotask(e(i))};if(typeof document=="object"&&document){if(typeof MutationObserver=="function")return n(MutationObserver);if(typeof WebKitMutationObserver=="function")return n(WebKitMutationObserver)}return typeof setImmediate=="function"?function(i){setImmediate(e(i))}:typeof setTimeout=="function"||typeof setTimeout=="object"?function(i){setTimeout(e(i),0)}:null})(),nextTick}var hasRequiredAsync$1;function requireAsync$1(){if(hasRequiredAsync$1)return async$1;hasRequiredAsync$1=1;var e=requireFrom(),n=requireMap$1(),i=requireMixin(),t=require_defineLength(),r=requireNextTick(),u=Array.prototype.slice,s=Function.prototype.apply,h=Object.create;return requireRegisteredExtensions().async=function(v,o){var p=h(null),l=h(null),g=o.memoized,m=o.original,y,b,q;o.memoized=t(function(S){var x=arguments,R=x[x.length-1];return typeof R=="function"&&(y=R,x=u.call(x,0,-1)),g.apply(b=this,q=x)},g);try{i(o.memoized,g)}catch{}o.on("get",function(S){var x,R,A;if(y){if(p[S]){typeof p[S]=="function"?p[S]=[p[S],y]:p[S].push(y),y=null;return}x=y,R=b,A=q,y=b=q=null,r(function(){var E;hasOwnProperty.call(l,S)?(E=l[S],o.emit("getasync",S,A,R),s.call(x,E.context,E.args)):(y=x,b=R,q=A,g.apply(R,A))})}}),o.original=function(){var S,x,R,A;return y?(S=e(arguments),x=function E(T){var I,V,G=E.id;if(G==null){r(s.bind(E,this,arguments));return}if(delete E.id,I=p[G],delete p[G],!!I)return V=e(arguments),o.has(G)&&(T?o.delete(G):(l[G]={context:this,args:V},o.emit("setasync",G,typeof I=="function"?1:I.length))),typeof I=="function"?A=s.call(I,this,V):I.forEach(function(Q){A=s.call(Q,this,V)},this),A},R=y,y=b=q=null,S.push(x),A=s.call(m,this,S),x.cb=R,y=x,A):s.call(m,this,arguments)},o.on("set",function(S){if(!y){o.delete(S);return}p[S]?typeof p[S]=="function"?p[S]=[p[S],y.cb]:p[S].push(y.cb):p[S]=y.cb,delete y.cb,y.id=S,y=null}),o.on("delete",function(S){var x;hasOwnProperty.call(p,S)||l[S]&&(x=l[S],delete l[S],o.emit("deleteasync",S,u.call(x.args,1)))}),o.on("clear",function(){var S=l;l=h(null),o.emit("clearasync",n(S,function(x){return u.call(x.args,1)}))})},async$1}var promise={},primitiveSet,hasRequiredPrimitiveSet;function requirePrimitiveSet(){if(hasRequiredPrimitiveSet)return primitiveSet;hasRequiredPrimitiveSet=1;var e=Array.prototype.forEach,n=Object.create;return primitiveSet=function(i){var t=n(null);return e.call(arguments,function(r){t[r]=!0}),t},primitiveSet}var isCallable,hasRequiredIsCallable;function requireIsCallable(){return hasRequiredIsCallable||(hasRequiredIsCallable=1,isCallable=function(e){return typeof e=="function"}),isCallable}var validateStringifiable,hasRequiredValidateStringifiable;function requireValidateStringifiable(){if(hasRequiredValidateStringifiable)return validateStringifiable;hasRequiredValidateStringifiable=1;var e=requireIsCallable();return validateStringifiable=function(n){try{return n&&e(n.toString)?n.toString():String(n)}catch{throw new TypeError("Passed argument cannot be stringifed")}},validateStringifiable}var validateStringifiableValue,hasRequiredValidateStringifiableValue;function requireValidateStringifiableValue(){if(hasRequiredValidateStringifiableValue)return validateStringifiableValue;hasRequiredValidateStringifiableValue=1;var e=requireValidValue(),n=requireValidateStringifiable();return validateStringifiableValue=function(i){return n(e(i))},validateStringifiableValue}var safeToString,hasRequiredSafeToString;function requireSafeToString(){if(hasRequiredSafeToString)return safeToString;hasRequiredSafeToString=1;var e=requireIsCallable();return safeToString=function(n){try{return n&&e(n.toString)?n.toString():String(n)}catch{return"<Non-coercible to string value>"}},safeToString}var toShortStringRepresentation,hasRequiredToShortStringRepresentation;function requireToShortStringRepresentation(){if(hasRequiredToShortStringRepresentation)return toShortStringRepresentation;hasRequiredToShortStringRepresentation=1;var e=requireSafeToString(),n=/[\n\r\u2028\u2029]/g;return toShortStringRepresentation=function(i){var t=e(i);return t.length>100&&(t=t.slice(0,99)+"…"),t=t.replace(n,function(r){return JSON.stringify(r).slice(1,-1)}),t},toShortStringRepresentation}var isPromise={exports:{}},hasRequiredIsPromise;function requireIsPromise(){if(hasRequiredIsPromise)return isPromise.exports;hasRequiredIsPromise=1,isPromise.exports=e,isPromise.exports.default=e;function e(n){return!!n&&(typeof n=="object"||typeof n=="function")&&typeof n.then=="function"}return isPromise.exports}var hasRequiredPromise;function requirePromise(){if(hasRequiredPromise)return promise;hasRequiredPromise=1;var e=requireMap$1(),n=requirePrimitiveSet(),i=requireValidateStringifiableValue(),t=requireToShortStringRepresentation(),r=requireIsPromise(),u=requireNextTick(),s=Object.create,h=n("then","then:finally","done","done:finally");return requireRegisteredExtensions().promise=function(v,o){var p=s(null),l=s(null),g=s(null);if(v===!0)v=null;else if(v=i(v),!h[v])throw new TypeError("'"+t(v)+"' is not valid promise mode");o.on("set",function(m,y,b){var q=!1;if(!r(b)){l[m]=b,o.emit("setasync",m,1);return}p[m]=1,g[m]=b;var S=function(E){var T=p[m];if(q)throw new Error(`Memoizee error: Detected unordered then|done & finally resolution, which in turn makes proper detection of success/failure impossible (when in 'done:finally' mode)
Consider to rely on 'then' or 'done' mode instead.`);T&&(delete p[m],l[m]=E,o.emit("setasync",m,T))},x=function(){q=!0,p[m]&&(delete p[m],delete g[m],o.delete(m))},R=v;if(R||(R="then"),R==="then"){var A=function(){u(x)};b=b.then(function(E){u(S.bind(this,E))},A),typeof b.finally=="function"&&b.finally(A)}else if(R==="done"){if(typeof b.done!="function")throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done' mode");b.done(S,x)}else if(R==="done:finally"){if(typeof b.done!="function")throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done:finally' mode");if(typeof b.finally!="function")throw new Error("Memoizee error: Retrieved promise does not implement 'finally' in 'done:finally' mode");b.done(S),b.finally(x)}}),o.on("get",function(m,y,b){var q;if(p[m]){++p[m];return}q=g[m];var S=function(){o.emit("getasync",m,y,b)};r(q)?typeof q.done=="function"?q.done(S):q.then(function(){u(S)}):S()}),o.on("delete",function(m){if(delete g[m],p[m]){delete p[m];return}if(hasOwnProperty.call(l,m)){var y=l[m];delete l[m],o.emit("deleteasync",m,[y])}}),o.on("clear",function(){var m=l;l=s(null),p=s(null),g=s(null),o.emit("clearasync",e(m,function(y){return[y]}))})},promise}var dispose={},hasRequiredDispose;function requireDispose(){if(hasRequiredDispose)return dispose;hasRequiredDispose=1;var e=requireValidCallable(),n=requireForEach(),i=requireRegisteredExtensions(),t=Function.prototype.apply;return i.dispose=function(r,u,s){var h;if(e(r),s.async&&i.async||s.promise&&i.promise){u.on("deleteasync",h=function(v,o){t.call(r,null,o)}),u.on("clearasync",function(v){n(v,function(o,p){h(p,o)})});return}u.on("delete",h=function(v,o){r(o)}),u.on("clear",function(v){n(v,function(o,p){h(p,o)})})},dispose}var maxAge={},maxTimeout,hasRequiredMaxTimeout;function requireMaxTimeout(){return hasRequiredMaxTimeout||(hasRequiredMaxTimeout=1,maxTimeout=2147483647),maxTimeout}var validTimeout,hasRequiredValidTimeout;function requireValidTimeout(){if(hasRequiredValidTimeout)return validTimeout;hasRequiredValidTimeout=1;var e=requireToPosInteger(),n=requireMaxTimeout();return validTimeout=function(i){if(i=e(i),i>n)throw new TypeError(i+" exceeds maximum possible timeout");return i},validTimeout}var hasRequiredMaxAge;function requireMaxAge(){if(hasRequiredMaxAge)return maxAge;hasRequiredMaxAge=1;var e=requireFrom(),n=requireForEach(),i=requireNextTick(),t=requireIsPromise(),r=requireValidTimeout(),u=requireRegisteredExtensions(),s=Function.prototype,h=Math.max,v=Math.min,o=Object.create;return u.maxAge=function(p,l,g){var m,y,b,q;p=r(p),p&&(m=o(null),y=g.async&&u.async||g.promise&&u.promise?"async":"",l.on("set"+y,function(S){m[S]=setTimeout(function(){l.delete(S)},p),typeof m[S].unref=="function"&&m[S].unref(),q&&(q[S]&&q[S]!=="nextTick"&&clearTimeout(q[S]),q[S]=setTimeout(function(){delete q[S]},b),typeof q[S].unref=="function"&&q[S].unref())}),l.on("delete"+y,function(S){clearTimeout(m[S]),delete m[S],q&&(q[S]!=="nextTick"&&clearTimeout(q[S]),delete q[S])}),g.preFetch&&(g.preFetch===!0||isNaN(g.preFetch)?b=.333:b=h(v(Number(g.preFetch),1),0),b&&(q={},b=(1-b)*p,l.on("get"+y,function(S,x,R){q[S]||(q[S]="nextTick",i(function(){var A;q[S]==="nextTick"&&(delete q[S],l.delete(S),g.async&&(x=e(x),x.push(s)),A=l.memoized.apply(R,x),g.promise&&t(A)&&(typeof A.done=="function"?A.done(s,s):A.then(s,s)))}))}))),l.on("clear"+y,function(){n(m,function(S){clearTimeout(S)}),m={},q&&(n(q,function(S){S!=="nextTick"&&clearTimeout(S)}),q={})}))},maxAge}var max={},lruQueue,hasRequiredLruQueue;function requireLruQueue(){if(hasRequiredLruQueue)return lruQueue;hasRequiredLruQueue=1;var e=requireToPosInteger(),n=Object.create,i=Object.prototype.hasOwnProperty;return lruQueue=function(t){var r=0,u=1,s=n(null),h=n(null),v=0,o;return t=e(t),{hit:function(p){var l=h[p],g=++v;if(s[g]=p,h[p]=g,!l)return++r,r<=t?void 0:(p=s[u],o(p),p);if(delete s[l],u===l)for(;!i.call(s,++u););},delete:o=function(p){var l=h[p];if(l&&(delete s[l],delete h[p],--r,u===l)){if(!r){v=0,u=1;return}for(;!i.call(s,++u););}},clear:function(){r=0,u=1,s=n(null),h=n(null),v=0}}},lruQueue}var hasRequiredMax;function requireMax(){if(hasRequiredMax)return max;hasRequiredMax=1;var e=requireToPosInteger(),n=requireLruQueue(),i=requireRegisteredExtensions();return i.max=function(t,r,u){var s,h,v;t=e(t),t&&(h=n(t),s=u.async&&i.async||u.promise&&i.promise?"async":"",r.on("set"+s,v=function(o){o=h.hit(o),o!==void 0&&r.delete(o)}),r.on("get"+s,v),r.on("delete"+s,h.delete),r.on("clear"+s,h.clear))},max}var refCounter={},hasRequiredRefCounter;function requireRefCounter(){if(hasRequiredRefCounter)return refCounter;hasRequiredRefCounter=1;var e=requireD(),n=requireRegisteredExtensions(),i=Object.create,t=Object.defineProperties;return n.refCounter=function(r,u,s){var h,v;h=i(null),v=s.async&&n.async||s.promise&&n.promise?"async":"",u.on("set"+v,function(o,p){h[o]=p||1}),u.on("get"+v,function(o){++h[o]}),u.on("delete"+v,function(o){delete h[o]}),u.on("clear"+v,function(){h={}}),t(u.memoized,{deleteRef:e(function(){var o=u.get(arguments);return o===null||!h[o]?null:--h[o]?!1:(u.delete(o),!0)}),getRefCount:e(function(){var o=u.get(arguments);return o===null||!h[o]?0:h[o]})})},refCounter}var memoizee,hasRequiredMemoizee;function requireMemoizee(){if(hasRequiredMemoizee)return memoizee;hasRequiredMemoizee=1;var e=requireNormalizeOptions(),n=requireResolveLength(),i=requirePlain();return memoizee=function(t){var r=e(arguments[1]),u;return r.normalizer||(u=r.length=n(r.length,t.length,r.async),u!==0&&(r.primitive?u===!1?r.normalizer=requirePrimitive():u>1&&(r.normalizer=requireGetPrimitiveFixed()(u)):u===!1?r.normalizer=requireGet()():u===1?r.normalizer=requireGet1()():r.normalizer=requireGetFixed()(u))),r.async&&requireAsync$1(),r.promise&&requirePromise(),r.dispose&&requireDispose(),r.maxAge&&requireMaxAge(),r.max&&requireMax(),r.refCounter&&requireRefCounter(),i(t,r)},memoizee}var preferences$1,hasRequiredPreferences$1;function requirePreferences$1(){if(hasRequiredPreferences$1)return preferences$1;hasRequiredPreferences$1=1,preferences$1=v;var e=requireConfigure(),n=requireJsonpClient(),i=requireGet_json(),t=requireConfig$1(),r=requireMemoizee(),u=requireBrowser()("fluid:configuration-loader:preferences");t.memoize;var s=r(i,{length:1,async:!0,max:t.cacheSize}),h=r(n,{length:1,async:!0,max:t.cacheSize});t.memoize;function v(o,p){var l=o.jsonBaseUrl||t.getBaseUrl(o),g=o.jsonpBaseUrl||t.getJsonpBaseUrl(o),m=o.configVersion||t.version,y=void 0,b=void 0,q=void 0;try{b=e.preferences(o)}catch(R){return p(R)}function S(R){return R.configVersion=m,R.configBase=l,R.isBrowser=!0,R.useJsonp=!1,R}if(o.preferences)return p(null,S(JSON.parse(JSON.stringify(o.preferences))));var x=l+"/"+b;y=x+(x.match(/\?/)?"&":"?"),o.skipCache&&s.delete&&s.delete(y),s(y,function(R,A){var E=S(A||{});try{if(o.forceJsonp)throw new Error("Forcing jsonp for "+y);if(!E.version)throw new Error("Version not found on "+y)}catch(T){if(E.isBrowser||o.forceJsonp)return q=g+"/"+b,q+=q.match(/\?/)?"&":"?",q+="callback=cb",u("[info] Switching to JSONp, calling %s",q),o.skipCache&&s.delete&&h.delete(q),h(q,function(I,V){var G=S(V||{});G.useJsonp=!0,G.configBase=g,G.version||(G.version=0),p(I,G)});R||(R=T)}p(R,E)})}return preferences$1}var get_config$1,hasRequiredGet_config$1;function requireGet_config$1(){if(hasRequiredGet_config$1)return get_config$1;hasRequiredGet_config$1=1,get_config$1=p;var e=requireGet_json(),n=requireJsonpClient(),i=requireDefaults$1(),t=requirePreferences$1(),r=requireConfig$1(),u=requireBrowser()("fluid:configuration-loader:http_client"),s=requireMemoizee(),h=/\W/g;r.memoize;var v=s(e,{length:1,async:!0,max:r.cacheSize}),o=s(n,{length:1,async:!0,max:r.cacheSize});r.memoize,u("[info] Not using disk memoization");function p(l,g,m){t(l,function(b,q){var S=void 0,x=void 0,R=void 0,A=void 0;if(b)return m(b);A=q.locales&&q.locales.default||"en_us",R=i({configVersion:q.version},l,{locale:A});try{S=g(R)}catch(T){return m(T)}q.useJsonp&&(R.callback=(g.name||S.replace(h,""))+q.version);try{x=q.configBase+"/"+g(R)}catch(T){return m(T)}u("[info] %s %s",q.useJsonp?"JSONP":"GET",x);var E=q.useJsonp?o:v;E(x,function(T,I){T&&u("[error] Failed loading config from %s with error: %s",x,T&&T.message),m(T,I)})})}return get_config$1}var dist,hasRequiredDist;function requireDist(){if(hasRequiredDist)return dist;hasRequiredDist=1;var e=requireDefaults$1(),n=requirePartial(),i=requireAuto(),t=requireConfigure(),r=requireGet_config$1(),u=requirePreferences$1();function s(l,g){r(l,t.customerSettings,function(m,y){g(m,y)})}function h(l,g){i({preferences:n(u,l),customer:["preferences",function(m,y){var b=m.preferences;s(e({preferences:b},l),y)}],catalog:["preferences",function(m,y){var b=m.preferences;r(e({preferences:b},l),t.catalogSettings,y)}]},g)}function v(l,g){i({preferences:n(u,l),customer:["preferences",function(m,y){var b=m.preferences;s(e({preferences:b},l),y)}],product:["preferences",function(m,y){var b=m.preferences;r(e({preferences:b},l),t.productSettings,y)}]},g)}function o(l,g){i({preferences:n(u,l),productGraph:["preferences",function(m,y){var b=m.preferences;r(e({preferences:b},l),t.productGraphSettings,y)}],ui:["preferences",function(m,y){var b=m.preferences;r(e({preferences:b},l),t.productUiSettings,y)}]},g)}function p(l,g){i({preferences:n(u,l),customer:["preferences",function(m,y){var b=m.preferences;s(e({preferences:b},l),y)}],productGraph:["preferences",function(m,y){var b=m.preferences;r(e({preferences:b},l),t.productGraphSettings,y)}]},g)}return dist={customer:s,catalog:function(g,m){r(g,t.catalogSettings,m)},product:function(g,m){r(g,t.productSettings,m)},productTokenized:function(g,m){r(g,t.productSettingsTokenized,m)},productGraph:function(g,m){r(g,t.productGraphSettings,m)},productAreas:function(g,m){r(g,t.productAreas,m)},productAttributes:function(g,m){r(g,t.productAttributes,m)},productUiSettings:function(g,m){r(g,t.productUiSettings,m)},customerReport:function(g,m){r(g,t.customerReport,m)},imageComposerViewSettings:function(g,m){r(g,t.imageComposerViewSettings,m)},customerAndCatalog:h,customerAndProduct:v,customerAndProductGraph:p,productGraphAndUiSettings:o,productCatalogRelations:function(g,m){r(g,t.productCatalogRelations,m)},preferences:u},dist}var configurationLoader,hasRequiredConfigurationLoader;function requireConfigurationLoader(){return hasRequiredConfigurationLoader||(hasRequiredConfigurationLoader=1,configurationLoader=requireDist()),configurationLoader}var eventify$1={exports:{}},eventify=eventify$1.exports,hasRequiredEventify;function requireEventify(){return hasRequiredEventify||(hasRequiredEventify=1,(function(e){(function(n,i,t){e.exports=t(n,i)})(eventify.localEventifyLibraryName||"Eventify",eventify,function(){function n(p){u=u+1;var l=u+"";return p?p+l:l}function i(p){var l=!1,g;return function(){if(l)return g;var m=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);return l=!0,g=p.apply(this,m),p=null,g}}var t,r={listenTo:"on",listenToOnce:"once"},u=0,s=/\s+/,h=function(){return this};h.prototype={on:function(p,l,g){if(!v(this,"on",p,[l,g])||!l)return this;this._events=this._events||{};var m=this._events[p]||(this._events[p]=[]);return m.push({callback:l,context:g,ctx:g||this}),this},once:function(p,l,g){var m=this,y;return!v(this,"once",p,[l,g])||!l?this:(y=i(function(){m.off(p,y);var b=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);l.apply(this,b)}),y._callback=l,this.on(p,y,g))},off:function(p,l,g){var m,y,b,q,S,x,R,A;if(!this._events||!v(this,"off",p,[l,g]))return this;if(!p&&!l&&!g)return this._events={},this;for(q=p?[p]:Object.keys(this._events),S=0,x=q.length;S<x;S+=1)if(p=q[S],b=this._events[p],b){if(this._events[p]=m=[],l||g)for(R=0,A=b.length;R<A;R+=1)y=b[R],(l&&l!==y.callback&&l!==y.callback._callback||g&&g!==y.context)&&m.push(y);m.length||delete this._events[p]}return this},trigger:function(){if(!this._events)return this;var p=arguments.length===1?[arguments[0]]:Array.apply(null,arguments),l,g,m=p[0],y=p.slice(1);return v(this,"trigger",m,y)?(l=this._events[m],g=this._events.all,l&&o(l,y),g&&o(g,p),this):this},stopListening:function(p,l,g){var m,y,b=this._listeners;if(!b)return this;m=!l&&!g,typeof l=="object"&&(g=this),b={},p&&(b[p._listenerId]=p);for(y in b)b.hasOwnProperty(y)&&(b[y].off(l,g,this),m&&delete this._listeners[y]);return this}};function v(p,l,g,m){var y,b,q,S;if(!g)return!0;if(typeof g=="object"){for(y in g)g.hasOwnProperty(y)&&p[l].apply(p,[y,g[y]].concat(m));return!1}if(s.test(g)){for(S=g.split(s),b=0,q=S.length;b<q;b+=1)p[l].apply(p,[S[b]].concat(m));return!1}return!0}function o(p,l){var g,m=0,y=p.length,b=l[0],q=l[1],S=l[2];switch(l.length){case 0:for(;m<y;)g=p[m],g.callback.call(g.ctx),m+=1;return;case 1:for(;m<y;)g=p[m],g.callback.call(g.ctx,b),m+=1;return;case 2:for(;m<y;)g=p[m],g.callback.call(g.ctx,b,q),m+=1;return;case 3:for(;m<y;)g=p[m],g.callback.call(g.ctx,b,q,S),m+=1;return;default:for(;m<y;)g=p[m],g.callback.apply(g.ctx,l),m+=1}}return Object.keys(r).forEach(function(p){var l=r[p];h.prototype[p]=function(g,m,y){var b,q=this._listeners||(this._listeners={});return g._listenerId=g._listenerId||n("l"),b=g._listenerId,q[b]=g,typeof m=="object"&&(y=this),g[l](m,y,this),this}}),t=new h,t.version="2.0.0",t.enable=function(l){var g,m,y=Object.keys(h.prototype);for(l=l||{},g=0,m=y.length;g<m;g=g+1)l[y[g]]=this[y[g]];return l},t.create=function(){return Object.create(h.prototype)},t.mixin=t.enable,t.proto=h.prototype,t})})(eventify$1)),eventify$1.exports}var clone_changes,hasRequiredClone_changes;function requireClone_changes(){if(hasRequiredClone_changes)return clone_changes;hasRequiredClone_changes=1;var e=requireLodash();clone_changes=e.compose(n,JSON.parse,JSON.stringify);function n(i){return e.sortBy(i,function(t){return t.ca.alias})}return clone_changes}var create_product_json={exports:{}},icepick={},hasRequiredIcepick;function requireIcepick(){return hasRequiredIcepick||(hasRequiredIcepick=1,(function(e){var n=e;function i(q){return q!==null&&(Array.isArray(q)||t(q))}function t(q){return typeof q=="object"&&q.constructor===Object&&Object.getPrototypeOf(q)===Object.prototype}function r(q){for(var S=0,x=q.length,R=Array(x);S<x;S+=1)R[S]=q[S];return R}function u(q){for(var S=0,x=Object.keys(q),R=x.length,A,E={};S<R;S+=1)A=x[S],E[A]=q[A];return E}function s(q){return Array.isArray(q)?r(q):u(q)}function h(q){return i(q)&&Object.isFrozen(q),q}function v(q){return q}e.freeze=function(S){return S},e.thaw=function q(S){if(i(S)&&Object.isFrozen(S)){var x=s(S);return Object.keys(x).forEach(function(R){x[R]=q(x[R])}),x}return S},e.assoc=function(S,x,R){var A=s(S);return A[x]=h(R),A},e.set=e.assoc,e.dissoc=function(S,x){var R=s(S);return delete R[x],R},e.unset=e.dissoc,e.assocIn=function q(S,x,R){var A=x[0];return x.length===1?n.assoc(S,A,R):n.assoc(S,A,q(S[A]||{},x.slice(1),R))},e.setIn=e.assocIn;function o(q,S){return(S||[]).reduce(function(x,R){if(x)return x[R]},q)}e.getIn=o,e.updateIn=function(S,x,R){var A=o(S,x);return n.assocIn(S,x,R(A))},["push","unshift","pop","shift","reverse","sort"].forEach(function(q){e[q]=function(S,x){var R=r(S);return R[q](h(x)),R},e[q].displayName="icepick."+q}),e.splice=function(S){var x=r(S),R=y(arguments).map(h);return x.splice.apply(x,R),x},e.slice=function(S,x,R){var A=S.slice(x,R);return A},["map","filter"].forEach(function(q){e[q]=function(S,x){var R=x[q](S);return R},e[q].displayName="icepick."+q}),e.extend=e.assign=function(){var S=m(arguments).reduce(p,{});return S};function p(q,S){return Object.keys(S).reduce(function(x,R){return x[R]=h(S[R]),x},q)}e.merge=l;function l(q,S){return q==null||S==null?q:Object.keys(S).reduce(function(x,R){var A=S[R],E=x[R];return i(A)&&i(E)?A===E?x:Array.isArray(A)?n.assoc(x,R,A):g(x,R,l(E,A)):g(x,R,A)},q)}function g(q,S,x){return q[S]===x?q:n.assoc(q,S,x)}function m(q,S){var x=S||0,R=q.length;R-=x,R=R<0?0:R;for(var A=new Array(R),E=0;E<R;E+=1)A[E]=q[E+x];return A}function y(q){return m(q,1)}var b={value:function(){return this.val}};Object.keys(e).forEach(function(q){b[q]=function(){var S=m(arguments);return S.unshift(this.val),this.val=e[q].apply(null,S),this}}),e.chain=function(S){var x=Object.create(b);return x.val=S,x},e._weCareAbout=i,e._slice=m})(icepick)),icepick}var get_product_facets,hasRequiredGet_product_facets;function requireGet_product_facets(){if(hasRequiredGet_product_facets)return get_product_facets;hasRequiredGet_product_facets=1;var e=requireLodash();return get_product_facets=function(n,i){return e.reduce(i.facets(),function(t,r){var u=r.getData();return t[u.name]=t[u.name]||[],t[u.name]=t[u.name].concat(u.values),t},{})},get_product_facets}var is_web_gl,hasRequiredIs_web_gl;function requireIs_web_gl(){if(hasRequiredIs_web_gl)return is_web_gl;hasRequiredIs_web_gl=1;var e=requireGet_product_facets(),n=requireLodash();return is_web_gl=function(i){return function(){var r=i.product(),u=e(i,r),s=u["Display Strategy"];return s&&n.includes(s,"WebGL")||r.getData().renderingEngine==="WEB_GL"}},is_web_gl}var hasRequiredCreate_product_json;function requireCreate_product_json(){if(hasRequiredCreate_product_json)return create_product_json.exports;hasRequiredCreate_product_json=1,create_product_json.exports=v,create_product_json.exports.createCA=g;var e=requireLodash(),n=requireIcepick(),i=requireGet_product_facets(),t=requireIs_web_gl(),r,u,s;function h(O){return n.freeze(O.getData())}function v(O,L){var N,W,X,ie=O.product(),se=ie.getData(),ae=e.isObject(se.renderInactive)?se.renderInactive:!!se.renderInactive;return u=e.memoize(h,M),s=e.memoize(E,M),r=L,N=e.clone(n.freeze(ie.getData())),N.isWebGl=t(O)(),N.facets=n.freeze(i(O,ie)),X=ie.rootAttributes(),N.attributes=e.map(X,function(le){var Re=le.getData(),U=ae;return e.isBoolean(U)||(U=!!U[Re.alias]),g(le,U)}),N.allAttributes=e.reduce(X,function(le,Re,U){return q(le,Re,["attributes",U])},{}),ie.hasAttributeGroups()&&(W=ie.attributeGroups(),N.attributeGroups=e.map(W,p)),N.defaultViewName=ie.defaultViewName(),Object.freeze(N.allAttributes),V(N,ie),o(),Object.freeze(N)}function o(){u=h,s=E}function p(O){var L=e.clone(O.getData());return L.viewName=O.view(),L.attributes=e.map(O.attributes(),"id"),Object.freeze(L)}function l(O,L){var N=e.partial(x,O),W=e.reduce(O.valuesIgnoringValueUsageOverrides(),function(X,ie){return X[ie.id]=!0,X},{});L.valuesWithOverrides=e.map(O.valuesIgnoringValueUsageOverrides(),N),L.valuesWithOverrides=y(L.valuesWithOverrides,O.selectedValue(),W)}function g(O,L){L=L===!0;var N=e.clone(O.getData()),W=e.reduce(O.selectableValues(),function(ee,ne){return ee[ne.id]=!0,ee},{}),X,ie=N.type==="text"&&O.fontAttribute(),se=N.type==="text3d"&&O.fontTextAttribute(),ae=N.type==="text3d"&&O.fontSizeTextAttribute(),le=N.type==="text3d"&&O.colorTextAttribute(),Re=N.type==="text3d"&&O.stylingTextAttribute(),U=N.type==="text3d"&&O.textAlignmentTextAttribute(),B=N.type==="text3d"&&O.baselineTextAttribute(),H=N.type==="text3d"&&O.fontTextAttributeValue();N.userEdited=!1,N.userChanged=!1,N.isVisible=O.isVisible(),N.canBeRendered=O.canBeRendered()&&N.isVisible||!1;var Y=e.partial(R,O);if(!N.isDynamic)X=O.selectedValue(),N.values=e.map(O.activeValues(),Y),N.allValues=e.map(O.allValues(),Y),N.values=y(N.values,X,W),L&&l(O,N);else{var Z=O.getDynamicAttributeValue();Z&&(N.value=n.freeze(Z.getData()),N.values=n.freeze(Z.getCollection())),N.type==="clipartEditor"&&(N.values=e.map(O.activeValues(),Y),N.allValues=e.map(O.allValues(),Y),N.values=y(N.values,X,W))}return N.valueUsages=e.reduce(N.allValues,function(ee,ne){var oe=O.valueUsageForValue(ne);return oe&&ee.push(m(oe,ne)),ee},[]),N=b(N,O),N.subAttributes=e.map(O.subAttributes(),function(ee){return g(ee,L)}),N.viewName=O.viewName(),O.hasCustomerMaterials()&&(N.customerMaterials=e.map(O.customerMaterials(),P),N.customerMaterialProperties=I(N.customerMaterials)),O.hasDynamicMaterialRelatedCAs()&&(N.dynamicMaterialRelatedCAs=e.map(O.dynamicMaterialRelatedCAs(),function(ee){return Object.freeze(ee.getData())})),ie&&(N.fontAttribute=g(ie,L)),se&&(N.fontTextAttribute=g(se,L)),se&&(N.fontTextAttribute=g(se,L)),ae&&(N.fontSizeTextAttribute=g(ae,L)),le&&(N.colorTextAttribute=g(le,L)),Re&&(N.stylingTextAttribute=g(Re,L)),U&&(N.textAlignmentTextAttribute=g(U,L)),B&&(N.baselineTextAttribute=g(B,L)),H&&(N.fontTextAttributeValue=x(O,H)),j(O,N),Object.freeze(N)}function m(O,L){var N=O.getData(),W={id:N.id,valueId:L.id,vendorId:N.vendorId,upcharge:L.upcharge,active:N.active};return N.vendorId&&(L.valueUsageVendorId=N.vendorId),N.pricingDescription&&(W.pricingDescription=N.pricingDescription),O.viewName()&&(W.associatedView=O.viewName()),j(O,W),W}function y(O,L,N){return e.map(O,function(W){return W=e.clone(W),L&&W.id===L.id&&(W.selected=!0),W.selectable=!!N[W.id],Object.freeze(W),W})}function b(O,L){return O.facets=e.map(L.facets(),e.partial(T,L,"regular")),O.optionalFacets=e.map(L.optionalFacets(),e.partial(T,L,"optional")),O.parameterizedFacets=e.map(L.parameterizedFacets(),e.partial(T,L,"parameterized")),O.hiddenFacets=e.map(L.hiddenFacets().concat(L.invertedHiddenFacets()),e.partial(T,L,"hidden")),O.allFacets=Object.freeze([].concat(O.facets,O.hiddenFacets,O.optionalFacets,O.parameterizedFacets)),O}function q(O,L,N){return O[L.id]=Object.freeze(N),e.reduce(L.subAttributes(),function(W,X,ie){return q(W,X,N.concat(["subAttributes",ie]))},O)}function S(O,L,N){N.upcharge=O.getUpchargeFor(L,r);var W=L.valueUsageForValue(O);W&&(N.valueUsage=m(W,N));var X=A(L,O);return X&&(N.valueUsageVendorId=X),N}function x(O,L){var N=E(L);N=S(L,O,N);var W=O.valueUsageForValue(L);if(W){var X=W.getData();N.active=X.active,X.vendorId&&(N.valueUsageVendorId=X.vendorId)}return N}function R(O,L){var N=s(L);return S(L,O,N)}function A(O,L){var N=O.valueUsageForValue(L);if(N){var W=N.getData().vendorId;if(W)return W}}function E(O){var L=e.clone(O.getData());return O.hasMetadata()&&(L.metadata=e.map(O.metadata(),h)),O.hasCustomerMaterials()&&(L.customerMaterials=e.map(O.customerMaterials(),P),L.customerMaterialProperties=I(L.customerMaterials)),L.facets=e.reduce(O.facetValues(),function(N,W){var X=W.facet().id,ie=N[X];return ie===void 0&&(ie=N[X]=[]),ie.push(W.id),N},{}),L}function T(O,L,N){var W=e.clone(N.getData()),X=L==="optional",ie=L==="parameterized";if(W.userEdited=!1,W.userChanged=!1,W.type=L,W.facetValues=e.map(N.selectableFacetValues(O),u),X&&W.facetValues.unshift({description:"all",name:"All",id:-1,showAll:!0,selectable:!0}),!ie){var se=O.selectedFacetValue(W);W.facetValues=e.map(W.facetValues,function(ae){return ae=e.clone(ae),se&&se.id===ae.id&&(ae.selected=!0),ae.selectable=!0,Object.freeze(ae),ae}),Object.freeze(W)}return W}function I(O){return e.reduce(O,function(L,N){return e.merge(L,N.properties)},{})}function V(O,L){if(O.isWebGl){if(O.webGlLoadingStrategies=e.reduce(L.webGlLoadingStrategies(),function(se,ae){var le=e.map(ae.lodResolutions(),k(ae.id)),Re=e.map(ae.modelLods(),K),U=e.merge({lodResolutions:le,modelLods:Re},ae.getData());return se[U.id]=Object.freeze(U),se},{}),O.webGlModels=e.reduce(L.webGlModels(),function(se,ae){var le=Q(ae);return se[le.id]=Object.freeze(le),se},{}),O.webGlMaterials=e.reduce(L.webGlMaterials(),function(se,ae){var le=P(ae);return se[le.id]=Object.freeze(le),se},{}),L.hasWebGlEnvironment()){var N=L.webGlEnvironment().hdrBackground(),W=L.webGlEnvironment().camera(),X=N&&N.getData()||null,ie=L.webGlEnvironment().cameraViews();O.webGlEnvironment=Object.freeze(e.merge(L.webGlEnvironment().getData(),{camera:W&&W.getData()||null,exposure:X&&X.exposure||null,toneMapping:X&&X.toneMapping||null,hdr:{assets:X&&X.assets||[]},background:X&&G(X)||null,cameraViews:ie.map(function(se){return se.getData()})}))}L.hasAdvancedRenderingSettings()&&(O.advancedRenderingSettings=Object.freeze(Object.assign({},L.getAdvancedRenderingSettings())))}}function G(O){var L={COLOR:{transparent:!1,hdr:!1,color:O.color},FILE:{transparent:!1,hdr:!0},TRANSPARENT:{transparent:!0,hdr:!1}};return L[O.fillType]}function Q(O){return Object.freeze(e.merge({customerMaterial:O.customerMaterial()?P(O.customerMaterial()):null,modelComponents:e.map(O.modelComponents(),function(L){var N={};return L.customerMaterial()&&(N.customerMaterial=P(L.customerMaterial())),e.merge(N,L.getData())})},O.getData()))}function k(O){return function(L){return Object.freeze(Object.assign({},L.getData(),{modelLods:L.modelLodsForStrategy(O).map(K)}))}}function K(O){return Object.freeze(e.merge({webGlModel:Q(O.webGlModel()),lodResolutionIds:O.lodResolutions().map(function(L){return L.id})},O.getData()))}function P(O){return Object.freeze(e.merge({platformMaterial:O.platformMaterial().getData()},O.getData()))}function j(O,L){O.hasMetadata()&&(L.metadata=e.map(O.metadata(),function(N){var W=N.getData();return{id:W.id,key:W.key,value:W.value,ns:W.ns}}))}create_product_json.exports.createCAMap=q,create_product_json.exports.createCaFacet=T,create_product_json.exports.createOverrides=l;function M(O){return O.getVertexKey()}return create_product_json.exports}var update_attribute_json,hasRequiredUpdate_attribute_json;function requireUpdate_attribute_json(){if(hasRequiredUpdate_attribute_json)return update_attribute_json;hasRequiredUpdate_attribute_json=1;var e=requireLodash(),n=requireIcepick(),i=requireCreate_product_json().createOverrides;update_attribute_json=t;function t(g,m,y,b,q){var S=y.ca,x=y.av,R=m.allAttributes[S.id],A=S.selectedValue(),E=A&&A.id;return q=q||{},n.updateIn(m,R,function(T){var I=g.vertexInstance({vertexKey:"ca:"+T.id});return T=p(T,q),I.hasDynamicValue()?s(T,I,x):(T=v(T,{caNode:I,facets:b,userEdited:q}),h(T,E,I))})}function r(g,m,y){var b=y.getData();return n.assocIn(m,["value","text"],b.text)}function u(g,m,y){return n.updateIn(m,["value"],function(b){return n.merge(b,y.getData())})}function s(g,m,y){if(g.type!=="clipartEditor"){var b=m.getDynamicAttributeValue(),q=b.getCollection();g=n.assocIn(g,["values"],q)}var S=m.selectedValue()||y,x=S.getData();return e.has(x,"text")?r(m,g,S):e.has(x,"clipArt")&&x.clipArt!=null?u(m,g,S):g}function h(g,m,y){function b(R,A){return R=e.clone(R),i(A,R),n.freeze(R),R}function q(R,A,E){return n.updateIn(R,[A],function(T){return n.freeze(e.map(T,function(I){var V=!!E[I.id];return I.selected&&(I=n.assoc(I,"selected",!1)),I.id===m&&(I=n.assoc(I,"selected",!0)),V!==I.selectable&&(I=n.assoc(I,"selectable",V)),I}))})}function S(R,A){return R[A.id]=!0,R}g.valuesWithOverrides&&(g=b(g,y));var x=e.reduce(y.selectableValues()||[],S,{});return q(g,"values",x)}function v(g,m){return g=o("allFacets",g,m),g=o("facets",g,m),g=o("optionalFacets",g,m),o("hiddenFacets",g,m)}function o(g,m,y){var b=y.caNode,q=y.facets,S=y.userEdited;return m=e.reduce(q,function(x,R){var A=b.selectedFacetValue(R),E=e.find(x[g],{id:R.id});if(!E)return x;var T=e.findIndex(x[g],{id:R.id});return!A&&(g==="optionalFacets"||g==="hiddenFacets"||g==="allFacets"||g==="facets")&&(A={id:-1}),x=l(x,g,T,S,R),e.each(E.facetValues,function(I,V){I.id===A.id&&!I.selected?x=n.assocIn(x,[g,T,"facetValues",V,"selected"],!0):I.selected&&(x=n.assocIn(x,[g,T,"facetValues",V,"selected"],!1))}),x},m),m}function p(g,m){return m.reset?(g=n.set(g,"userEdited",!1),g=n.set(g,"userChanged",!1),g):(g.userChanged||(g=n.set(g,"userChanged",!0)),!g.userEdited&&m.cas&&m.cas[g.id]&&(g=n.set(g,"userEdited",!0)),g)}function l(g,m,y,b,q){return b.reset?(g=n.assocIn(g,[m,y,"userChanged"],!1),g=n.assocIn(g,[m,y,"userEdited"],!1),g):(g=n.assocIn(g,[m,y,"userChanged"],!0),b.facets&&b.facets[q.id]&&(g=n.assocIn(g,[m,y,"userEdited"],!0)),g)}return update_attribute_json}var update_visibility_json,hasRequiredUpdate_visibility_json;function requireUpdate_visibility_json(){if(hasRequiredUpdate_visibility_json)return update_visibility_json;hasRequiredUpdate_visibility_json=1;var e=requireLodash(),n=requireIcepick(),i=requireCreate_product_json().createCA;return update_visibility_json=function(r,u){return e.reduce(u.allAttributes,function(s,h,v){var o=r.product(),p=o.attributeById(v),l=n.getIn(u,h),g=p.isVisible(),m=g&&p.canBeRendered(),y=!!o.getData().renderInactive;return g!==l.isVisible&&(s=n.updateIn(s,h,function(){return i(p,y)})),m!==l.canBeRendered&&(s=n.updateIn(s,h,function(b){return n.assoc(b,"canBeRendered",m)})),s},u)},update_visibility_json}var apply_parameterized_facet_filters,hasRequiredApply_parameterized_facet_filters;function requireApply_parameterized_facet_filters(){if(hasRequiredApply_parameterized_facet_filters)return apply_parameterized_facet_filters;hasRequiredApply_parameterized_facet_filters=1,apply_parameterized_facet_filters=n;var e=requireLodash();function n(i,t){var r=i.facetFilters;if(e.size(r)){var u=!1,s=t.product().allAttributes();e.each(s,function(h){var v=h.parameterizedFacets();e.each(v,function(o){var p=o.getData().name,l=e.where(r,{facet:p});e.each(l,function(g){h.selectFacetValue(o,{name:g.facetValue}),u=!0})})}),u&&t.recipe().saveAsDefault()}}return apply_parameterized_facet_filters}var set_environment_params,hasRequiredSet_environment_params;function requireSet_environment_params(){if(hasRequiredSet_environment_params)return set_environment_params;hasRequiredSet_environment_params=1;var e={},n=requireLodash(),i=e.FLUID_SERVER_ENDPOINT||"prod.fluidconfigure.com";return set_environment_params=function(r){return r=n.clone(r),r.environment=r.environment||"prod",r.configureEndpoint||(r.configureEndpoint=i),r},set_environment_params}var get_currency,hasRequiredGet_currency;function requireGet_currency(){return hasRequiredGet_currency||(hasRequiredGet_currency=1,get_currency=function(e,n){return function(){return e.currency||n.product().defaultCurrency()}}),get_currency}var get_config,hasRequiredGet_config;function requireGet_config(){if(hasRequiredGet_config)return get_config;hasRequiredGet_config=1;var e=requireLodash(),n=e.compose(JSON.parse,JSON.stringify);return get_config=function(i){return function(r,u){if(!r&&!u)throw new Error("Invalid arguments for getConfig(path, callback)");if(!u){if(!e.isFunction(r))throw new Error("The parameter you provided for getConfig must be a function");u=r,r=null}r?r=r.split("."):r=[];var s=e.reduce(r,function(h,v){if(!e.isUndefined(h))return h[v]},i.product().getData());return e.isUndefined(s)&&(s=null),u(null,n(s),r)}},get_config}var es5$1={exports:{}},es5=es5$1.exports,hasRequiredEs5;function requireEs5(){return hasRequiredEs5||(hasRequiredEs5=1,(function(e,n){(function(i,t){e.exports=t()})(es5,(function(){return(function(i){var t={};function r(u){if(t[u])return t[u].exports;var s=t[u]={i:u,l:!1,exports:{}};return i[u].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=i,r.c=t,r.d=function(u,s,h){r.o(u,s)||Object.defineProperty(u,s,{enumerable:!0,get:h})},r.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},r.t=function(u,s){if(1&s&&(u=r(u)),8&s||4&s&&typeof u=="object"&&u&&u.__esModule)return u;var h=Object.create(null);if(r.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:u}),2&s&&typeof u!="string")for(var v in u)r.d(h,v,(function(o){return u[o]}).bind(null,v));return h},r.n=function(u){var s=u&&u.__esModule?function(){return u.default}:function(){return u};return r.d(s,"a",s),s},r.o=function(u,s){return Object.prototype.hasOwnProperty.call(u,s)},r.p="",r(r.s=90)})({17:function(i,t,r){t.__esModule=!0,t.default=void 0;var u=r(18),s=(function(){function h(){}return h.getFirstMatch=function(v,o){var p=o.match(v);return p&&p.length>0&&p[1]||""},h.getSecondMatch=function(v,o){var p=o.match(v);return p&&p.length>1&&p[2]||""},h.matchAndReturnConst=function(v,o,p){if(v.test(o))return p},h.getWindowsVersionName=function(v){switch(v){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},h.getMacOSVersionName=function(v){var o=v.split(".").splice(0,2).map((function(p){return parseInt(p,10)||0}));if(o.push(0),o[0]===10)switch(o[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},h.getAndroidVersionName=function(v){var o=v.split(".").splice(0,2).map((function(p){return parseInt(p,10)||0}));if(o.push(0),!(o[0]===1&&o[1]<5))return o[0]===1&&o[1]<6?"Cupcake":o[0]===1&&o[1]>=6?"Donut":o[0]===2&&o[1]<2?"Eclair":o[0]===2&&o[1]===2?"Froyo":o[0]===2&&o[1]>2?"Gingerbread":o[0]===3?"Honeycomb":o[0]===4&&o[1]<1?"Ice Cream Sandwich":o[0]===4&&o[1]<4?"Jelly Bean":o[0]===4&&o[1]>=4?"KitKat":o[0]===5?"Lollipop":o[0]===6?"Marshmallow":o[0]===7?"Nougat":o[0]===8?"Oreo":o[0]===9?"Pie":void 0},h.getVersionPrecision=function(v){return v.split(".").length},h.compareVersions=function(v,o,p){p===void 0&&(p=!1);var l=h.getVersionPrecision(v),g=h.getVersionPrecision(o),m=Math.max(l,g),y=0,b=h.map([v,o],(function(q){var S=m-h.getVersionPrecision(q),x=q+new Array(S+1).join(".0");return h.map(x.split("."),(function(R){return new Array(20-R.length).join("0")+R})).reverse()}));for(p&&(y=m-Math.min(l,g)),m-=1;m>=y;){if(b[0][m]>b[1][m])return 1;if(b[0][m]===b[1][m]){if(m===y)return 0;m-=1}else if(b[0][m]<b[1][m])return-1}},h.map=function(v,o){var p,l=[];if(Array.prototype.map)return Array.prototype.map.call(v,o);for(p=0;p<v.length;p+=1)l.push(o(v[p]));return l},h.find=function(v,o){var p,l;if(Array.prototype.find)return Array.prototype.find.call(v,o);for(p=0,l=v.length;p<l;p+=1){var g=v[p];if(o(g,p))return g}},h.assign=function(v){for(var o,p,l=v,g=arguments.length,m=new Array(g>1?g-1:0),y=1;y<g;y++)m[y-1]=arguments[y];if(Object.assign)return Object.assign.apply(Object,[v].concat(m));var b=function(){var q=m[o];typeof q=="object"&&q!==null&&Object.keys(q).forEach((function(S){l[S]=q[S]}))};for(o=0,p=m.length;o<p;o+=1)b();return v},h.getBrowserAlias=function(v){return u.BROWSER_ALIASES_MAP[v]},h.getBrowserTypeByAlias=function(v){return u.BROWSER_MAP[v]||""},h})();t.default=s,i.exports=t.default},18:function(i,t,r){t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast","Pale Moon":"pale_moon",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",pale_moon:"Pale Moon",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv",bot:"bot"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(i,t,r){t.__esModule=!0,t.default=void 0;var u,s=(u=r(91))&&u.__esModule?u:{default:u},h=r(18);function v(p,l){for(var g=0;g<l.length;g++){var m=l[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}var o=(function(){function p(){}var l,g,m;return p.getParser=function(y,b){if(b===void 0&&(b=!1),typeof y!="string")throw new Error("UserAgent should be a string");return new s.default(y,b)},p.parse=function(y){return new s.default(y).getResult()},l=p,m=[{key:"BROWSER_MAP",get:function(){return h.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return h.ENGINE_MAP}},{key:"OS_MAP",get:function(){return h.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return h.PLATFORMS_MAP}}],(g=null)&&v(l.prototype,g),m&&v(l,m),p})();t.default=o,i.exports=t.default},91:function(i,t,r){t.__esModule=!0,t.default=void 0;var u=p(r(92)),s=p(r(93)),h=p(r(94)),v=p(r(95)),o=p(r(17));function p(g){return g&&g.__esModule?g:{default:g}}var l=(function(){function g(y,b){if(b===void 0&&(b=!1),y==null||y==="")throw new Error("UserAgent parameter can't be empty");this._ua=y,this.parsedResult={},b!==!0&&this.parse()}var m=g.prototype;return m.getUA=function(){return this._ua},m.test=function(y){return y.test(this._ua)},m.parseBrowser=function(){var y=this;this.parsedResult.browser={};var b=o.default.find(u.default,(function(q){if(typeof q.test=="function")return q.test(y);if(Array.isArray(q.test))return q.test.some((function(S){return y.test(S)}));throw new Error("Browser's test function is not valid")}));return b&&(this.parsedResult.browser=b.describe(this.getUA())),this.parsedResult.browser},m.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},m.getBrowserName=function(y){return y?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},m.getBrowserVersion=function(){return this.getBrowser().version},m.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},m.parseOS=function(){var y=this;this.parsedResult.os={};var b=o.default.find(s.default,(function(q){if(typeof q.test=="function")return q.test(y);if(Array.isArray(q.test))return q.test.some((function(S){return y.test(S)}));throw new Error("Browser's test function is not valid")}));return b&&(this.parsedResult.os=b.describe(this.getUA())),this.parsedResult.os},m.getOSName=function(y){var b=this.getOS().name;return y?String(b).toLowerCase()||"":b||""},m.getOSVersion=function(){return this.getOS().version},m.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},m.getPlatformType=function(y){y===void 0&&(y=!1);var b=this.getPlatform().type;return y?String(b).toLowerCase()||"":b||""},m.parsePlatform=function(){var y=this;this.parsedResult.platform={};var b=o.default.find(h.default,(function(q){if(typeof q.test=="function")return q.test(y);if(Array.isArray(q.test))return q.test.some((function(S){return y.test(S)}));throw new Error("Browser's test function is not valid")}));return b&&(this.parsedResult.platform=b.describe(this.getUA())),this.parsedResult.platform},m.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},m.getEngineName=function(y){return y?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},m.parseEngine=function(){var y=this;this.parsedResult.engine={};var b=o.default.find(v.default,(function(q){if(typeof q.test=="function")return q.test(y);if(Array.isArray(q.test))return q.test.some((function(S){return y.test(S)}));throw new Error("Browser's test function is not valid")}));return b&&(this.parsedResult.engine=b.describe(this.getUA())),this.parsedResult.engine},m.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},m.getResult=function(){return o.default.assign({},this.parsedResult)},m.satisfies=function(y){var b=this,q={},S=0,x={},R=0;if(Object.keys(y).forEach((function(k){var K=y[k];typeof K=="string"?(x[k]=K,R+=1):typeof K=="object"&&(q[k]=K,S+=1)})),S>0){var A=Object.keys(q),E=o.default.find(A,(function(k){return b.isOS(k)}));if(E){var T=this.satisfies(q[E]);if(T!==void 0)return T}var I=o.default.find(A,(function(k){return b.isPlatform(k)}));if(I){var V=this.satisfies(q[I]);if(V!==void 0)return V}}if(R>0){var G=Object.keys(x),Q=o.default.find(G,(function(k){return b.isBrowser(k,!0)}));if(Q!==void 0)return this.compareVersion(x[Q])}},m.isBrowser=function(y,b){b===void 0&&(b=!1);var q=this.getBrowserName().toLowerCase(),S=y.toLowerCase(),x=o.default.getBrowserTypeByAlias(S);return b&&x&&(S=x.toLowerCase()),S===q},m.compareVersion=function(y){var b=[0],q=y,S=!1,x=this.getBrowserVersion();if(typeof x=="string")return y[0]===">"||y[0]==="<"?(q=y.substr(1),y[1]==="="?(S=!0,q=y.substr(2)):b=[],y[0]===">"?b.push(1):b.push(-1)):y[0]==="="?q=y.substr(1):y[0]==="~"&&(S=!0,q=y.substr(1)),b.indexOf(o.default.compareVersions(x,q,S))>-1},m.isOS=function(y){return this.getOSName(!0)===String(y).toLowerCase()},m.isPlatform=function(y){return this.getPlatformType(!0)===String(y).toLowerCase()},m.isEngine=function(y){return this.getEngineName(!0)===String(y).toLowerCase()},m.is=function(y,b){return b===void 0&&(b=!1),this.isBrowser(y,b)||this.isOS(y)||this.isPlatform(y)},m.some=function(y){var b=this;return y===void 0&&(y=[]),y.some((function(q){return b.is(q)}))},g})();t.default=l,i.exports=t.default},92:function(i,t,r){t.__esModule=!0,t.default=void 0;var u,s=(u=r(17))&&u.__esModule?u:{default:u},h=/version\/(\d+(\.?_?\d+)+)/i,v=[{test:[/googlebot/i],describe:function(o){var p={name:"Googlebot"},l=s.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,o)||s.default.getFirstMatch(h,o);return l&&(p.version=l),p}},{test:[/opera/i],describe:function(o){var p={name:"Opera"},l=s.default.getFirstMatch(h,o)||s.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,o);return l&&(p.version=l),p}},{test:[/opr\/|opios/i],describe:function(o){var p={name:"Opera"},l=s.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,o)||s.default.getFirstMatch(h,o);return l&&(p.version=l),p}},{test:[/SamsungBrowser/i],describe:function(o){var p={name:"Samsung Internet for Android"},l=s.default.getFirstMatch(h,o)||s.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,o);return l&&(p.version=l),p}},{test:[/Whale/i],describe:function(o){var p={name:"NAVER Whale Browser"},l=s.default.getFirstMatch(h,o)||s.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,o);return l&&(p.version=l),p}},{test:[/PaleMoon/i],describe:function(o){var p={name:"Pale Moon"},l=s.default.getFirstMatch(h,o)||s.default.getFirstMatch(/(?:PaleMoon)[\s/](\d+(?:\.\d+)+)/i,o);return l&&(p.version=l),p}},{test:[/MZBrowser/i],describe:function(o){var p={name:"MZ Browser"},l=s.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,o)||s.default.getFirstMatch(h,o);return l&&(p.version=l),p}},{test:[/focus/i],describe:function(o){var p={name:"Focus"},l=s.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,o)||s.default.getFirstMatch(h,o);return l&&(p.version=l),p}},{test:[/swing/i],describe:function(o){var p={name:"Swing"},l=s.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,o)||s.default.getFirstMatch(h,o);return l&&(p.version=l),p}},{test:[/coast/i],describe:function(o){var p={name:"Opera Coast"},l=s.default.getFirstMatch(h,o)||s.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,o);return l&&(p.version=l),p}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(o){var p={name:"Opera Touch"},l=s.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,o)||s.default.getFirstMatch(h,o);return l&&(p.version=l),p}},{test:[/yabrowser/i],describe:function(o){var p={name:"Yandex Browser"},l=s.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,o)||s.default.getFirstMatch(h,o);return l&&(p.version=l),p}},{test:[/ucbrowser/i],describe:function(o){var p={name:"UC Browser"},l=s.default.getFirstMatch(h,o)||s.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,o);return l&&(p.version=l),p}},{test:[/Maxthon|mxios/i],describe:function(o){var p={name:"Maxthon"},l=s.default.getFirstMatch(h,o)||s.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,o);return l&&(p.version=l),p}},{test:[/epiphany/i],describe:function(o){var p={name:"Epiphany"},l=s.default.getFirstMatch(h,o)||s.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,o);return l&&(p.version=l),p}},{test:[/puffin/i],describe:function(o){var p={name:"Puffin"},l=s.default.getFirstMatch(h,o)||s.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,o);return l&&(p.version=l),p}},{test:[/sleipnir/i],describe:function(o){var p={name:"Sleipnir"},l=s.default.getFirstMatch(h,o)||s.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,o);return l&&(p.version=l),p}},{test:[/k-meleon/i],describe:function(o){var p={name:"K-Meleon"},l=s.default.getFirstMatch(h,o)||s.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,o);return l&&(p.version=l),p}},{test:[/micromessenger/i],describe:function(o){var p={name:"WeChat"},l=s.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,o)||s.default.getFirstMatch(h,o);return l&&(p.version=l),p}},{test:[/qqbrowser/i],describe:function(o){var p={name:/qqbrowserlite/i.test(o)?"QQ Browser Lite":"QQ Browser"},l=s.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,o)||s.default.getFirstMatch(h,o);return l&&(p.version=l),p}},{test:[/msie|trident/i],describe:function(o){var p={name:"Internet Explorer"},l=s.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,o);return l&&(p.version=l),p}},{test:[/\sedg\//i],describe:function(o){var p={name:"Microsoft Edge"},l=s.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,o);return l&&(p.version=l),p}},{test:[/edg([ea]|ios)/i],describe:function(o){var p={name:"Microsoft Edge"},l=s.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,o);return l&&(p.version=l),p}},{test:[/vivaldi/i],describe:function(o){var p={name:"Vivaldi"},l=s.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,o);return l&&(p.version=l),p}},{test:[/seamonkey/i],describe:function(o){var p={name:"SeaMonkey"},l=s.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,o);return l&&(p.version=l),p}},{test:[/sailfish/i],describe:function(o){var p={name:"Sailfish"},l=s.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,o);return l&&(p.version=l),p}},{test:[/silk/i],describe:function(o){var p={name:"Amazon Silk"},l=s.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,o);return l&&(p.version=l),p}},{test:[/phantom/i],describe:function(o){var p={name:"PhantomJS"},l=s.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,o);return l&&(p.version=l),p}},{test:[/slimerjs/i],describe:function(o){var p={name:"SlimerJS"},l=s.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,o);return l&&(p.version=l),p}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(o){var p={name:"BlackBerry"},l=s.default.getFirstMatch(h,o)||s.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,o);return l&&(p.version=l),p}},{test:[/(web|hpw)[o0]s/i],describe:function(o){var p={name:"WebOS Browser"},l=s.default.getFirstMatch(h,o)||s.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,o);return l&&(p.version=l),p}},{test:[/bada/i],describe:function(o){var p={name:"Bada"},l=s.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,o);return l&&(p.version=l),p}},{test:[/tizen/i],describe:function(o){var p={name:"Tizen"},l=s.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,o)||s.default.getFirstMatch(h,o);return l&&(p.version=l),p}},{test:[/qupzilla/i],describe:function(o){var p={name:"QupZilla"},l=s.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,o)||s.default.getFirstMatch(h,o);return l&&(p.version=l),p}},{test:[/firefox|iceweasel|fxios/i],describe:function(o){var p={name:"Firefox"},l=s.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,o);return l&&(p.version=l),p}},{test:[/electron/i],describe:function(o){var p={name:"Electron"},l=s.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,o);return l&&(p.version=l),p}},{test:[/MiuiBrowser/i],describe:function(o){var p={name:"Miui"},l=s.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,o);return l&&(p.version=l),p}},{test:[/chromium/i],describe:function(o){var p={name:"Chromium"},l=s.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,o)||s.default.getFirstMatch(h,o);return l&&(p.version=l),p}},{test:[/chrome|crios|crmo/i],describe:function(o){var p={name:"Chrome"},l=s.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,o);return l&&(p.version=l),p}},{test:[/GSA/i],describe:function(o){var p={name:"Google Search"},l=s.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,o);return l&&(p.version=l),p}},{test:function(o){var p=!o.test(/like android/i),l=o.test(/android/i);return p&&l},describe:function(o){var p={name:"Android Browser"},l=s.default.getFirstMatch(h,o);return l&&(p.version=l),p}},{test:[/playstation 4/i],describe:function(o){var p={name:"PlayStation 4"},l=s.default.getFirstMatch(h,o);return l&&(p.version=l),p}},{test:[/safari|applewebkit/i],describe:function(o){var p={name:"Safari"},l=s.default.getFirstMatch(h,o);return l&&(p.version=l),p}},{test:[/.*/i],describe:function(o){var p=o.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:s.default.getFirstMatch(p,o),version:s.default.getSecondMatch(p,o)}}}];t.default=v,i.exports=t.default},93:function(i,t,r){t.__esModule=!0,t.default=void 0;var u,s=(u=r(17))&&u.__esModule?u:{default:u},h=r(18),v=[{test:[/Roku\/DVP/],describe:function(o){var p=s.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,o);return{name:h.OS_MAP.Roku,version:p}}},{test:[/windows phone/i],describe:function(o){var p=s.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,o);return{name:h.OS_MAP.WindowsPhone,version:p}}},{test:[/windows /i],describe:function(o){var p=s.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,o),l=s.default.getWindowsVersionName(p);return{name:h.OS_MAP.Windows,version:p,versionName:l}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(o){var p={name:h.OS_MAP.iOS},l=s.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,o);return l&&(p.version=l),p}},{test:[/macintosh/i],describe:function(o){var p=s.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,o).replace(/[_\s]/g,"."),l=s.default.getMacOSVersionName(p),g={name:h.OS_MAP.MacOS,version:p};return l&&(g.versionName=l),g}},{test:[/(ipod|iphone|ipad)/i],describe:function(o){var p=s.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,o).replace(/[_\s]/g,".");return{name:h.OS_MAP.iOS,version:p}}},{test:function(o){var p=!o.test(/like android/i),l=o.test(/android/i);return p&&l},describe:function(o){var p=s.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,o),l=s.default.getAndroidVersionName(p),g={name:h.OS_MAP.Android,version:p};return l&&(g.versionName=l),g}},{test:[/(web|hpw)[o0]s/i],describe:function(o){var p=s.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,o),l={name:h.OS_MAP.WebOS};return p&&p.length&&(l.version=p),l}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(o){var p=s.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,o)||s.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,o)||s.default.getFirstMatch(/\bbb(\d+)/i,o);return{name:h.OS_MAP.BlackBerry,version:p}}},{test:[/bada/i],describe:function(o){var p=s.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,o);return{name:h.OS_MAP.Bada,version:p}}},{test:[/tizen/i],describe:function(o){var p=s.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,o);return{name:h.OS_MAP.Tizen,version:p}}},{test:[/linux/i],describe:function(){return{name:h.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:h.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(o){var p=s.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,o);return{name:h.OS_MAP.PlayStation4,version:p}}}];t.default=v,i.exports=t.default},94:function(i,t,r){t.__esModule=!0,t.default=void 0;var u,s=(u=r(17))&&u.__esModule?u:{default:u},h=r(18),v=[{test:[/googlebot/i],describe:function(){return{type:h.PLATFORMS_MAP.bot,vendor:"Google"}}},{test:[/huawei/i],describe:function(o){var p=s.default.getFirstMatch(/(can-l01)/i,o)&&"Nova",l={type:h.PLATFORMS_MAP.mobile,vendor:"Huawei"};return p&&(l.model=p),l}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:h.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:h.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:h.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:h.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:h.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:h.PLATFORMS_MAP.tablet}}},{test:function(o){var p=o.test(/ipod|iphone/i),l=o.test(/like (ipod|iphone)/i);return p&&!l},describe:function(o){var p=s.default.getFirstMatch(/(ipod|iphone)/i,o);return{type:h.PLATFORMS_MAP.mobile,vendor:"Apple",model:p}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:h.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/Nokia/i],describe:function(o){var p=s.default.getFirstMatch(/Nokia\s+([0-9]+(\.[0-9]+)?)/i,o),l={type:h.PLATFORMS_MAP.mobile,vendor:"Nokia"};return p&&(l.model=p),l}},{test:[/[^-]mobi/i],describe:function(){return{type:h.PLATFORMS_MAP.mobile}}},{test:function(o){return o.getBrowserName(!0)==="blackberry"},describe:function(){return{type:h.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(o){return o.getBrowserName(!0)==="bada"},describe:function(){return{type:h.PLATFORMS_MAP.mobile}}},{test:function(o){return o.getBrowserName()==="windows phone"},describe:function(){return{type:h.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(o){var p=Number(String(o.getOSVersion()).split(".")[0]);return o.getOSName(!0)==="android"&&p>=3},describe:function(){return{type:h.PLATFORMS_MAP.tablet}}},{test:function(o){return o.getOSName(!0)==="android"},describe:function(){return{type:h.PLATFORMS_MAP.mobile}}},{test:function(o){return o.getOSName(!0)==="macos"},describe:function(){return{type:h.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(o){return o.getOSName(!0)==="windows"},describe:function(){return{type:h.PLATFORMS_MAP.desktop}}},{test:function(o){return o.getOSName(!0)==="linux"},describe:function(){return{type:h.PLATFORMS_MAP.desktop}}},{test:function(o){return o.getOSName(!0)==="playstation 4"},describe:function(){return{type:h.PLATFORMS_MAP.tv}}},{test:function(o){return o.getOSName(!0)==="roku"},describe:function(){return{type:h.PLATFORMS_MAP.tv}}}];t.default=v,i.exports=t.default},95:function(i,t,r){t.__esModule=!0,t.default=void 0;var u,s=(u=r(17))&&u.__esModule?u:{default:u},h=r(18),v=[{test:function(o){return o.getBrowserName(!0)==="microsoft edge"},describe:function(o){if(/\sedg\//i.test(o))return{name:h.ENGINE_MAP.Blink};var p=s.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,o);return{name:h.ENGINE_MAP.EdgeHTML,version:p}}},{test:[/trident/i],describe:function(o){var p={name:h.ENGINE_MAP.Trident},l=s.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,o);return l&&(p.version=l),p}},{test:function(o){return o.test(/presto/i)},describe:function(o){var p={name:h.ENGINE_MAP.Presto},l=s.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,o);return l&&(p.version=l),p}},{test:function(o){var p=o.test(/gecko/i),l=o.test(/like gecko/i);return p&&!l},describe:function(o){var p={name:h.ENGINE_MAP.Gecko},l=s.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,o);return l&&(p.version=l),p}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:h.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(o){var p={name:h.ENGINE_MAP.WebKit},l=s.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,o);return l&&(p.version=l),p}}];t.default=v,i.exports=t.default}})}))})(es5$1)),es5$1.exports}var __assign=Object.assign||function e(n){for(var i,t=1,r=arguments.length;t<r;t++){i=arguments[t];for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])}return n},browsers=[["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["edge",/Edge\/([0-9\._]+)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+)\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["safari",/Version\/([0-9\._]+).*Safari/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/]],os=["Windows Phone","Android","CentOS",{name:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "],osVersions={"10.0":"10","6.4":"10 Technical Preview","6.3":"8.1","6.2":"8","6.1":"Server 2008 R2 / 7","6.0":"Server 2008 / Vista","5.2":"Server 2003 / XP 64-bit","5.1":"XP","5.01":"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"},mobileRegExp=new RegExp(["(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|","compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|","midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)","\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|","wap|windows ce|xda|xiino"].join(""),"i"),mobilePrefixRegExp=new RegExp(["1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|","ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|","avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|","cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|","ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|","g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|","hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|","i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|","kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])","|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|","mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|","n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|","op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|","po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|","raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|","se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|k\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|","so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|","tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|","veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|","w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-"].join(""),"i"),Detector=(function(){function e(n,i,t){this.navigator=i,this.process=t,this.userAgent=n||(this.navigator?i.userAgent||i.vendor:"")}return e.prototype.detect=function(){if(this.process&&!this.userAgent){var n=this.process.version.slice(1).split(".").slice(0,3),i=Array.prototype.slice.call(n,1).join("")||"0";return{name:"node",version:n.join("."),versionNumber:parseFloat(n[0]+"."+i),mobile:!1,os:this.process.platform}}return this.userAgent||this.handleMissingError(),__assign({},this.checkBrowser(),this.checkMobile(),this.checkOs())},e.prototype.checkBrowser=function(){var n=this;return browsers.filter(function(i){return i[1].test(n.userAgent)}).map(function(i){var t=i[1].exec(n.userAgent),r=t&&t[1].split(/[._]/).slice(0,3),u=Array.prototype.slice.call(r,1).join("")||"0";return r&&r.length<3&&Array.prototype.push.apply(r,r.length===1?[0,0]:[0]),{name:String(i[0]),version:r.join("."),versionNumber:+(r[0]+"."+u)}}).shift()},e.prototype.checkMobile=function(){var n=this.userAgent.substr(0,4),i=mobileRegExp.test(this.userAgent)||mobilePrefixRegExp.test(n);return{mobile:i}},e.prototype.checkOs=function(){var n=this;return os.map(function(i){var t=i.name||i,r=n.getOsPattern(i);return{name:t,pattern:r,value:RegExp("\\b"+r.replace(/([ -])(?!$)/g,"$1?")+"(?:x?[\\d._]+|[ \\w.]*)","i").exec(n.userAgent)}}).filter(function(i){return i.value}).map(function(i){var t=i.value[0]||"",r;return i.pattern&&i.name&&/^Win/i.test(t)&&!/^Windows Phone /i.test(t)&&(r=osVersions[t.replace(/[^\d.]/g,"")])&&(t="Windows "+r),i.pattern&&i.name&&(t=t.replace(RegExp(i.pattern,"i"),i.name)),t=t.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0].trim(),t=/^(?:webOS|i(?:OS|P))/.test(t)?t:t.charAt(0).toUpperCase()+t.slice(1),{os:t}}).shift()},e.prototype.getOsPattern=function(n){var i=n;return(typeof n=="string"?n:void 0)||i.pattern||i.name},e.prototype.handleMissingError=function(){throw new Error(`Please give user-agent.
> browser(navigator.userAgent or res.headers['user-agent']).`)},e})();function createCommonjsModule(e,n){return n={exports:{}},e(n,n.exports),n.exports}var _global=createCommonjsModule(function(e){var n=e.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=n)}),_core=createCommonjsModule(function(e){var n=e.exports={version:"2.5.7"};typeof __e=="number"&&(__e=n)});_core.version;var _isObject=function(e){return typeof e=="object"?e!==null:typeof e=="function"},_anObject=function(e){if(!_isObject(e))throw TypeError(e+" is not an object!");return e},_fails=function(e){try{return!!e()}catch{return!0}},_descriptors=!_fails(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7}),document$1=_global.document,is=_isObject(document$1)&&_isObject(document$1.createElement),_domCreate=function(e){return is?document$1.createElement(e):{}},_ie8DomDefine=!_descriptors&&!_fails(function(){return Object.defineProperty(_domCreate("div"),"a",{get:function(){return 7}}).a!=7}),_toPrimitive=function(e,n){if(!_isObject(e))return e;var i,t;if(typeof(i=e.toString)=="function"&&!_isObject(t=i.call(e))||typeof(i=e.valueOf)=="function"&&!_isObject(t=i.call(e)))return t;throw TypeError("Can't convert object to primitive value")},dP=Object.defineProperty,f=_descriptors?Object.defineProperty:function e(n,i,t){if(_anObject(n),i=_toPrimitive(i),_anObject(t),_ie8DomDefine)try{return dP(n,i,t)}catch{}if("get"in t||"set"in t)throw TypeError("Accessors not supported!");return"value"in t&&(n[i]=t.value),n},_objectDp={f},_propertyDesc=function(e,n){return{enumerable:!1,configurable:!0,writable:!0,value:n}},_hide=_descriptors?function(e,n,i){return _objectDp.f(e,n,_propertyDesc(1,i))}:function(e,n,i){return e[n]=i,e},hasOwnProperty$1={}.hasOwnProperty,_has=function(e,n){return hasOwnProperty$1.call(e,n)},id=0,px=Math.random(),_uid=function(e){return"Symbol(".concat(e===void 0?"":e,")_",(++id+px).toString(36))},_redefine=createCommonjsModule(function(e){var n=_uid("src"),i="toString",t=Function[i],r=(""+t).split(i);_core.inspectSource=function(u){return t.call(u)},(e.exports=function(u,s,h,v){var o=typeof h=="function";o&&(_has(h,"name")||_hide(h,"name",s)),u[s]!==h&&(o&&(_has(h,n)||_hide(h,n,u[s]?""+u[s]:r.join(String(s)))),u===_global?u[s]=h:v?u[s]?u[s]=h:_hide(u,s,h):(delete u[s],_hide(u,s,h)))})(Function.prototype,i,function(){return typeof this=="function"&&this[n]||t.call(this)})}),_aFunction=function(e){if(typeof e!="function")throw TypeError(e+" is not a function!");return e},_ctx=function(e,n,i){if(_aFunction(e),n===void 0)return e;switch(i){case 1:return function(t){return e.call(n,t)};case 2:return function(t,r){return e.call(n,t,r)};case 3:return function(t,r,u){return e.call(n,t,r,u)}}return function(){return e.apply(n,arguments)}},PROTOTYPE="prototype",$export=function(e,n,i){var t=e&$export.F,r=e&$export.G,u=e&$export.S,s=e&$export.P,h=e&$export.B,v=r?_global:u?_global[n]||(_global[n]={}):(_global[n]||{})[PROTOTYPE],o=r?_core:_core[n]||(_core[n]={}),p=o[PROTOTYPE]||(o[PROTOTYPE]={}),l,g,m,y;r&&(i=n);for(l in i)g=!t&&v&&v[l]!==void 0,m=(g?v:i)[l],y=h&&g?_ctx(m,_global):s&&typeof m=="function"?_ctx(Function.call,m):m,v&&_redefine(v,l,m,e&$export.U),o[l]!=m&&_hide(o,l,y),s&&p[l]!=m&&(p[l]=m)};_global.core=_core;$export.F=1;$export.G=2;$export.S=4;$export.P=8;$export.B=16;$export.W=32;$export.U=64;$export.R=128;var _export=$export,toString={}.toString,_cof=function(e){return toString.call(e).slice(8,-1)},_iobject=Object("z").propertyIsEnumerable(0)?Object:function(e){return _cof(e)=="String"?e.split(""):Object(e)},_defined=function(e){if(e==null)throw TypeError("Can't call method on  "+e);return e},_toObject=function(e){return Object(_defined(e))},ceil=Math.ceil,floor=Math.floor,_toInteger=function(e){return isNaN(e=+e)?0:(e>0?floor:ceil)(e)},min=Math.min,_toLength=function(e){return e>0?min(_toInteger(e),9007199254740991):0},_isArray=Array.isArray||function e(n){return _cof(n)=="Array"},_shared=createCommonjsModule(function(e){var n="__core-js_shared__",i=_global[n]||(_global[n]={});(e.exports=function(t,r){return i[t]||(i[t]=r!==void 0?r:{})})("versions",[]).push({version:_core.version,mode:"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})}),_wks=createCommonjsModule(function(e){var n=_shared("wks"),i=_global.Symbol,t=typeof i=="function",r=e.exports=function(u){return n[u]||(n[u]=t&&i[u]||(t?i:_uid)("Symbol."+u))};r.store=n}),SPECIES=_wks("species"),_arraySpeciesConstructor=function(e){var n;return _isArray(e)&&(n=e.constructor,typeof n=="function"&&(n===Array||_isArray(n.prototype))&&(n=void 0),_isObject(n)&&(n=n[SPECIES],n===null&&(n=void 0))),n===void 0?Array:n},_arraySpeciesCreate=function(e,n){return new(_arraySpeciesConstructor(e))(n)},_arrayMethods=function(e,n){var i=e==1,t=e==2,r=e==3,u=e==4,s=e==6,h=e==5||s,v=_arraySpeciesCreate;return function(o,p,l){for(var g=_toObject(o),m=_iobject(g),y=_ctx(p,l,3),b=_toLength(m.length),q=0,S=i?v(o,b):t?v(o,0):void 0,x,R;b>q;q++)if((h||q in m)&&(x=m[q],R=y(x,q,g),e)){if(i)S[q]=R;else if(R)switch(e){case 3:return!0;case 5:return x;case 6:return q;case 2:S.push(x)}else if(u)return!1}return s?-1:r||u?u:S}},_strictMethod=function(e,n){return!!e&&_fails(function(){n?e.call(null,function(){},1):e.call(null)})},$filter=_arrayMethods(2);_export(_export.P+_export.F*!_strictMethod([].filter,!0),"Array",{filter:function e(n){return $filter(this,n,arguments[1])}});_core.Array.filter;var $map=_arrayMethods(1);_export(_export.P+_export.F*!_strictMethod([].map,!0),"Array",{map:function e(n){return $map(this,n,arguments[1])}});_core.Array.map;var _stringWs=`	
\v\f\r   ᠎             　\u2028\u2029\uFEFF`,space="["+_stringWs+"]",non="​",ltrim=RegExp("^"+space+space+"*"),rtrim=RegExp(space+space+"*$"),exporter=function(e,n,i){var t={},r=_fails(function(){return!!_stringWs[e]()||non[e]()!=non}),u=t[e]=r?n(trim):_stringWs[e];i&&(t[i]=u),_export(_export.P+_export.F*r,"String",t)},trim=exporter.trim=function(e,n){return e=String(_defined(e)),n&1&&(e=e.replace(ltrim,"")),n&2&&(e=e.replace(rtrim,"")),e},_stringTrim=exporter;_stringTrim("trim",function(e){return function(){return e(this,3)}});_core.String.trim;var injectableNavigator=typeof window<"u"?window.navigator:void 0,injectableProcess=typeof process$1<"u"?process$1:void 0;function browserDetect(e){var n=new Detector(e,injectableNavigator,injectableProcess);return n.detect()}const browserDetect_es5=Object.freeze(Object.defineProperty({__proto__:null,default:browserDetect},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(browserDetect_es5);var get_browser_data,hasRequiredGet_browser_data;function requireGet_browser_data(){if(hasRequiredGet_browser_data)return get_browser_data;hasRequiredGet_browser_data=1;var e=requireEs5(),n=require$$1;return get_browser_data=function(){return function(t){var r=n();if(t!==void 0){var u=e.parse(t.navigator.userAgent);Object.keys(u).forEach(function(s){(!r[s]&&s!=="browser"&&s!=="engine"||s==="os")&&(r[s]=u[s])})}return r}},get_browser_data}var axios$1={exports:{}},bind,hasRequiredBind;function requireBind(){return hasRequiredBind||(hasRequiredBind=1,bind=function(n,i){return function(){for(var r=new Array(arguments.length),u=0;u<r.length;u++)r[u]=arguments[u];return n.apply(i,r)}}),bind}var utils$3,hasRequiredUtils$3;function requireUtils$3(){if(hasRequiredUtils$3)return utils$3;hasRequiredUtils$3=1;var e=requireBind(),n=Object.prototype.toString;function i(I){return n.call(I)==="[object Array]"}function t(I){return typeof I>"u"}function r(I){return I!==null&&!t(I)&&I.constructor!==null&&!t(I.constructor)&&typeof I.constructor.isBuffer=="function"&&I.constructor.isBuffer(I)}function u(I){return n.call(I)==="[object ArrayBuffer]"}function s(I){return typeof FormData<"u"&&I instanceof FormData}function h(I){var V;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?V=ArrayBuffer.isView(I):V=I&&I.buffer&&I.buffer instanceof ArrayBuffer,V}function v(I){return typeof I=="string"}function o(I){return typeof I=="number"}function p(I){return I!==null&&typeof I=="object"}function l(I){return n.call(I)==="[object Date]"}function g(I){return n.call(I)==="[object File]"}function m(I){return n.call(I)==="[object Blob]"}function y(I){return n.call(I)==="[object Function]"}function b(I){return p(I)&&y(I.pipe)}function q(I){return typeof URLSearchParams<"u"&&I instanceof URLSearchParams}function S(I){return I.replace(/^\s*/,"").replace(/\s*$/,"")}function x(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function R(I,V){if(!(I===null||typeof I>"u"))if(typeof I!="object"&&(I=[I]),i(I))for(var G=0,Q=I.length;G<Q;G++)V.call(null,I[G],G,I);else for(var k in I)Object.prototype.hasOwnProperty.call(I,k)&&V.call(null,I[k],k,I)}function A(){var I={};function V(k,K){typeof I[K]=="object"&&typeof k=="object"?I[K]=A(I[K],k):I[K]=k}for(var G=0,Q=arguments.length;G<Q;G++)R(arguments[G],V);return I}function E(){var I={};function V(k,K){typeof I[K]=="object"&&typeof k=="object"?I[K]=E(I[K],k):typeof k=="object"?I[K]=E({},k):I[K]=k}for(var G=0,Q=arguments.length;G<Q;G++)R(arguments[G],V);return I}function T(I,V,G){return R(V,function(k,K){G&&typeof k=="function"?I[K]=e(k,G):I[K]=k}),I}return utils$3={isArray:i,isArrayBuffer:u,isBuffer:r,isFormData:s,isArrayBufferView:h,isString:v,isNumber:o,isObject:p,isUndefined:t,isDate:l,isFile:g,isBlob:m,isFunction:y,isStream:b,isURLSearchParams:q,isStandardBrowserEnv:x,forEach:R,merge:A,deepMerge:E,extend:T,trim:S},utils$3}var buildURL,hasRequiredBuildURL;function requireBuildURL(){if(hasRequiredBuildURL)return buildURL;hasRequiredBuildURL=1;var e=requireUtils$3();function n(i){return encodeURIComponent(i).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}return buildURL=function(t,r,u){if(!r)return t;var s;if(u)s=u(r);else if(e.isURLSearchParams(r))s=r.toString();else{var h=[];e.forEach(r,function(p,l){p===null||typeof p>"u"||(e.isArray(p)?l=l+"[]":p=[p],e.forEach(p,function(m){e.isDate(m)?m=m.toISOString():e.isObject(m)&&(m=JSON.stringify(m)),h.push(n(l)+"="+n(m))}))}),s=h.join("&")}if(s){var v=t.indexOf("#");v!==-1&&(t=t.slice(0,v)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t},buildURL}var InterceptorManager_1,hasRequiredInterceptorManager;function requireInterceptorManager(){if(hasRequiredInterceptorManager)return InterceptorManager_1;hasRequiredInterceptorManager=1;var e=requireUtils$3();function n(){this.handlers=[]}return n.prototype.use=function(t,r){return this.handlers.push({fulfilled:t,rejected:r}),this.handlers.length-1},n.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},n.prototype.forEach=function(t){e.forEach(this.handlers,function(u){u!==null&&t(u)})},InterceptorManager_1=n,InterceptorManager_1}var transformData,hasRequiredTransformData;function requireTransformData(){if(hasRequiredTransformData)return transformData;hasRequiredTransformData=1;var e=requireUtils$3();return transformData=function(i,t,r){return e.forEach(r,function(s){i=s(i,t)}),i},transformData}var isCancel,hasRequiredIsCancel;function requireIsCancel(){return hasRequiredIsCancel||(hasRequiredIsCancel=1,isCancel=function(n){return!!(n&&n.__CANCEL__)}),isCancel}var normalizeHeaderName,hasRequiredNormalizeHeaderName;function requireNormalizeHeaderName(){if(hasRequiredNormalizeHeaderName)return normalizeHeaderName;hasRequiredNormalizeHeaderName=1;var e=requireUtils$3();return normalizeHeaderName=function(i,t){e.forEach(i,function(u,s){s!==t&&s.toUpperCase()===t.toUpperCase()&&(i[t]=u,delete i[s])})},normalizeHeaderName}var enhanceError,hasRequiredEnhanceError;function requireEnhanceError(){return hasRequiredEnhanceError||(hasRequiredEnhanceError=1,enhanceError=function(n,i,t,r,u){return n.config=i,t&&(n.code=t),n.request=r,n.response=u,n.isAxiosError=!0,n.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},n}),enhanceError}var createError,hasRequiredCreateError;function requireCreateError(){if(hasRequiredCreateError)return createError;hasRequiredCreateError=1;var e=requireEnhanceError();return createError=function(i,t,r,u,s){var h=new Error(i);return e(h,t,r,u,s)},createError}var settle,hasRequiredSettle;function requireSettle(){if(hasRequiredSettle)return settle;hasRequiredSettle=1;var e=requireCreateError();return settle=function(i,t,r){var u=r.config.validateStatus;!u||u(r.status)?i(r):t(e("Request failed with status code "+r.status,r.config,null,r.request,r))},settle}var isAbsoluteURL,hasRequiredIsAbsoluteURL;function requireIsAbsoluteURL(){return hasRequiredIsAbsoluteURL||(hasRequiredIsAbsoluteURL=1,isAbsoluteURL=function(n){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(n)}),isAbsoluteURL}var combineURLs,hasRequiredCombineURLs;function requireCombineURLs(){return hasRequiredCombineURLs||(hasRequiredCombineURLs=1,combineURLs=function(n,i){return i?n.replace(/\/+$/,"")+"/"+i.replace(/^\/+/,""):n}),combineURLs}var buildFullPath,hasRequiredBuildFullPath;function requireBuildFullPath(){if(hasRequiredBuildFullPath)return buildFullPath;hasRequiredBuildFullPath=1;var e=requireIsAbsoluteURL(),n=requireCombineURLs();return buildFullPath=function(t,r){return t&&!e(r)?n(t,r):r},buildFullPath}var parseHeaders,hasRequiredParseHeaders;function requireParseHeaders(){if(hasRequiredParseHeaders)return parseHeaders;hasRequiredParseHeaders=1;var e=requireUtils$3(),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return parseHeaders=function(t){var r={},u,s,h;return t&&e.forEach(t.split(`
`),function(o){if(h=o.indexOf(":"),u=e.trim(o.substr(0,h)).toLowerCase(),s=e.trim(o.substr(h+1)),u){if(r[u]&&n.indexOf(u)>=0)return;u==="set-cookie"?r[u]=(r[u]?r[u]:[]).concat([s]):r[u]=r[u]?r[u]+", "+s:s}}),r},parseHeaders}var isURLSameOrigin,hasRequiredIsURLSameOrigin;function requireIsURLSameOrigin(){if(hasRequiredIsURLSameOrigin)return isURLSameOrigin;hasRequiredIsURLSameOrigin=1;var e=requireUtils$3();return isURLSameOrigin=e.isStandardBrowserEnv()?(function(){var i=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a"),r;function u(s){var h=s;return i&&(t.setAttribute("href",h),h=t.href),t.setAttribute("href",h),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return r=u(window.location.href),function(h){var v=e.isString(h)?u(h):h;return v.protocol===r.protocol&&v.host===r.host}})():(function(){return function(){return!0}})(),isURLSameOrigin}var cookies,hasRequiredCookies;function requireCookies(){if(hasRequiredCookies)return cookies;hasRequiredCookies=1;var e=requireUtils$3();return cookies=e.isStandardBrowserEnv()?(function(){return{write:function(t,r,u,s,h,v){var o=[];o.push(t+"="+encodeURIComponent(r)),e.isNumber(u)&&o.push("expires="+new Date(u).toGMTString()),e.isString(s)&&o.push("path="+s),e.isString(h)&&o.push("domain="+h),v===!0&&o.push("secure"),document.cookie=o.join("; ")},read:function(t){var r=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}})():(function(){return{write:function(){},read:function(){return null},remove:function(){}}})(),cookies}var xhr,hasRequiredXhr;function requireXhr(){if(hasRequiredXhr)return xhr;hasRequiredXhr=1;var e=requireUtils$3(),n=requireSettle(),i=requireBuildURL(),t=requireBuildFullPath(),r=requireParseHeaders(),u=requireIsURLSameOrigin(),s=requireCreateError();return xhr=function(v){return new Promise(function(p,l){var g=v.data,m=v.headers;e.isFormData(g)&&delete m["Content-Type"];var y=new XMLHttpRequest;if(v.auth){var b=v.auth.username||"",q=v.auth.password||"";m.Authorization="Basic "+btoa(b+":"+q)}var S=t(v.baseURL,v.url);if(y.open(v.method.toUpperCase(),i(S,v.params,v.paramsSerializer),!0),y.timeout=v.timeout,y.onreadystatechange=function(){if(!(!y||y.readyState!==4)&&!(y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0))){var E="getAllResponseHeaders"in y?r(y.getAllResponseHeaders()):null,T=!v.responseType||v.responseType==="text"?y.responseText:y.response,I={data:T,status:y.status,statusText:y.statusText,headers:E,config:v,request:y};n(p,l,I),y=null}},y.onabort=function(){y&&(l(s("Request aborted",v,"ECONNABORTED",y)),y=null)},y.onerror=function(){l(s("Network Error",v,null,y)),y=null},y.ontimeout=function(){var E="timeout of "+v.timeout+"ms exceeded";v.timeoutErrorMessage&&(E=v.timeoutErrorMessage),l(s(E,v,"ECONNABORTED",y)),y=null},e.isStandardBrowserEnv()){var x=requireCookies(),R=(v.withCredentials||u(S))&&v.xsrfCookieName?x.read(v.xsrfCookieName):void 0;R&&(m[v.xsrfHeaderName]=R)}if("setRequestHeader"in y&&e.forEach(m,function(E,T){typeof g>"u"&&T.toLowerCase()==="content-type"?delete m[T]:y.setRequestHeader(T,E)}),e.isUndefined(v.withCredentials)||(y.withCredentials=!!v.withCredentials),v.responseType)try{y.responseType=v.responseType}catch(A){if(v.responseType!=="json")throw A}typeof v.onDownloadProgress=="function"&&y.addEventListener("progress",v.onDownloadProgress),typeof v.onUploadProgress=="function"&&y.upload&&y.upload.addEventListener("progress",v.onUploadProgress),v.cancelToken&&v.cancelToken.promise.then(function(E){y&&(y.abort(),l(E),y=null)}),g===void 0&&(g=null),y.send(g)})},xhr}var defaults_1,hasRequiredDefaults;function requireDefaults(){if(hasRequiredDefaults)return defaults_1;hasRequiredDefaults=1;var e=requireUtils$3(),n=requireNormalizeHeaderName(),i={"Content-Type":"application/x-www-form-urlencoded"};function t(s,h){!e.isUndefined(s)&&e.isUndefined(s["Content-Type"])&&(s["Content-Type"]=h)}function r(){var s;return(typeof XMLHttpRequest<"u"||typeof process$1<"u"&&Object.prototype.toString.call(process$1)==="[object process]")&&(s=requireXhr()),s}var u={adapter:r(),transformRequest:[function(h,v){return n(v,"Accept"),n(v,"Content-Type"),e.isFormData(h)||e.isArrayBuffer(h)||e.isBuffer(h)||e.isStream(h)||e.isFile(h)||e.isBlob(h)?h:e.isArrayBufferView(h)?h.buffer:e.isURLSearchParams(h)?(t(v,"application/x-www-form-urlencoded;charset=utf-8"),h.toString()):e.isObject(h)?(t(v,"application/json;charset=utf-8"),JSON.stringify(h)):h}],transformResponse:[function(h){if(typeof h=="string")try{h=JSON.parse(h)}catch{}return h}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(h){return h>=200&&h<300}};return u.headers={common:{Accept:"application/json, text/plain, */*"}},e.forEach(["delete","get","head"],function(h){u.headers[h]={}}),e.forEach(["post","put","patch"],function(h){u.headers[h]=e.merge(i)}),defaults_1=u,defaults_1}var dispatchRequest,hasRequiredDispatchRequest;function requireDispatchRequest(){if(hasRequiredDispatchRequest)return dispatchRequest;hasRequiredDispatchRequest=1;var e=requireUtils$3(),n=requireTransformData(),i=requireIsCancel(),t=requireDefaults();function r(u){u.cancelToken&&u.cancelToken.throwIfRequested()}return dispatchRequest=function(s){r(s),s.headers=s.headers||{},s.data=n(s.data,s.headers,s.transformRequest),s.headers=e.merge(s.headers.common||{},s.headers[s.method]||{},s.headers),e.forEach(["delete","get","head","post","put","patch","common"],function(o){delete s.headers[o]});var h=s.adapter||t.adapter;return h(s).then(function(o){return r(s),o.data=n(o.data,o.headers,s.transformResponse),o},function(o){return i(o)||(r(s),o&&o.response&&(o.response.data=n(o.response.data,o.response.headers,s.transformResponse))),Promise.reject(o)})},dispatchRequest}var mergeConfig,hasRequiredMergeConfig;function requireMergeConfig(){if(hasRequiredMergeConfig)return mergeConfig;hasRequiredMergeConfig=1;var e=requireUtils$3();return mergeConfig=function(i,t){t=t||{};var r={},u=["url","method","params","data"],s=["headers","auth","proxy"],h=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];e.forEach(u,function(l){typeof t[l]<"u"&&(r[l]=t[l])}),e.forEach(s,function(l){e.isObject(t[l])?r[l]=e.deepMerge(i[l],t[l]):typeof t[l]<"u"?r[l]=t[l]:e.isObject(i[l])?r[l]=e.deepMerge(i[l]):typeof i[l]<"u"&&(r[l]=i[l])}),e.forEach(h,function(l){typeof t[l]<"u"?r[l]=t[l]:typeof i[l]<"u"&&(r[l]=i[l])});var v=u.concat(s).concat(h),o=Object.keys(t).filter(function(l){return v.indexOf(l)===-1});return e.forEach(o,function(l){typeof t[l]<"u"?r[l]=t[l]:typeof i[l]<"u"&&(r[l]=i[l])}),r},mergeConfig}var Axios_1,hasRequiredAxios$2;function requireAxios$2(){if(hasRequiredAxios$2)return Axios_1;hasRequiredAxios$2=1;var e=requireUtils$3(),n=requireBuildURL(),i=requireInterceptorManager(),t=requireDispatchRequest(),r=requireMergeConfig();function u(s){this.defaults=s,this.interceptors={request:new i,response:new i}}return u.prototype.request=function(h){typeof h=="string"?(h=arguments[1]||{},h.url=arguments[0]):h=h||{},h=r(this.defaults,h),h.method?h.method=h.method.toLowerCase():this.defaults.method?h.method=this.defaults.method.toLowerCase():h.method="get";var v=[t,void 0],o=Promise.resolve(h);for(this.interceptors.request.forEach(function(l){v.unshift(l.fulfilled,l.rejected)}),this.interceptors.response.forEach(function(l){v.push(l.fulfilled,l.rejected)});v.length;)o=o.then(v.shift(),v.shift());return o},u.prototype.getUri=function(h){return h=r(this.defaults,h),n(h.url,h.params,h.paramsSerializer).replace(/^\?/,"")},e.forEach(["delete","get","head","options"],function(h){u.prototype[h]=function(v,o){return this.request(e.merge(o||{},{method:h,url:v}))}}),e.forEach(["post","put","patch"],function(h){u.prototype[h]=function(v,o,p){return this.request(e.merge(p||{},{method:h,url:v,data:o}))}}),Axios_1=u,Axios_1}var Cancel_1,hasRequiredCancel;function requireCancel(){if(hasRequiredCancel)return Cancel_1;hasRequiredCancel=1;function e(n){this.message=n}return e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,Cancel_1=e,Cancel_1}var CancelToken_1,hasRequiredCancelToken;function requireCancelToken(){if(hasRequiredCancelToken)return CancelToken_1;hasRequiredCancelToken=1;var e=requireCancel();function n(i){if(typeof i!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(s){t=s});var r=this;i(function(s){r.reason||(r.reason=new e(s),t(r.reason))})}return n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var t,r=new n(function(s){t=s});return{token:r,cancel:t}},CancelToken_1=n,CancelToken_1}var spread,hasRequiredSpread;function requireSpread(){return hasRequiredSpread||(hasRequiredSpread=1,spread=function(n){return function(t){return n.apply(null,t)}}),spread}var hasRequiredAxios$1;function requireAxios$1(){if(hasRequiredAxios$1)return axios$1.exports;hasRequiredAxios$1=1;var e=requireUtils$3(),n=requireBind(),i=requireAxios$2(),t=requireMergeConfig(),r=requireDefaults();function u(h){var v=new i(h),o=n(i.prototype.request,v);return e.extend(o,i.prototype,v),e.extend(o,v),o}var s=u(r);return s.Axios=i,s.create=function(v){return u(t(s.defaults,v))},s.Cancel=requireCancel(),s.CancelToken=requireCancelToken(),s.isCancel=requireIsCancel(),s.all=function(v){return Promise.all(v)},s.spread=requireSpread(),axios$1.exports=s,axios$1.exports.default=s,axios$1.exports}var axios,hasRequiredAxios;function requireAxios(){return hasRequiredAxios||(hasRequiredAxios=1,axios=requireAxios$1()),axios}var async={exports:{}},hasRequiredAsync;function requireAsync(){return hasRequiredAsync||(hasRequiredAsync=1,(function(e){(function(){var n={};function i(){}function t(U){return U}function r(U){return!!U}function u(U){return!U}var s,h=typeof self=="object"&&self.self===self&&self||typeof commonjsGlobal=="object"&&commonjsGlobal.global===commonjsGlobal&&commonjsGlobal||this;h!=null&&(s=h.async),n.noConflict=function(){return h.async=s,n};function v(U){return function(){if(U===null)throw new Error("Callback was already called.");U.apply(this,arguments),U=null}}function o(U){return function(){U!==null&&(U.apply(this,arguments),U=null)}}var p=Object.prototype.toString,l=Array.isArray||function(U){return p.call(U)==="[object Array]"},g=function(U){var B=typeof U;return B==="function"||B==="object"&&!!U};function m(U){return l(U)||typeof U.length=="number"&&U.length>=0&&U.length%1===0}function y(U,B){for(var H=-1,Y=U.length;++H<Y;)B(U[H],H,U)}function b(U,B){for(var H=-1,Y=U.length,Z=Array(Y);++H<Y;)Z[H]=B(U[H],H,U);return Z}function q(U){return b(Array(U),function(B,H){return H})}function S(U,B,H){return y(U,function(Y,Z,ee){H=B(H,Y,Z,ee)}),H}function x(U,B){y(A(U),function(H){B(U[H],H)})}function R(U,B){for(var H=0;H<U.length;H++)if(U[H]===B)return H;return-1}var A=Object.keys||function(U){var B=[];for(var H in U)U.hasOwnProperty(H)&&B.push(H);return B};function E(U){var B=-1,H,Y;return m(U)?(H=U.length,function(){return B++,B<H?B:null}):(Y=A(U),H=Y.length,function(){return B++,B<H?Y[B]:null})}function T(U,B){return B=B==null?U.length-1:+B,function(){for(var H=Math.max(arguments.length-B,0),Y=Array(H),Z=0;Z<H;Z++)Y[Z]=arguments[Z+B];switch(B){case 0:return U.call(this,Y);case 1:return U.call(this,arguments[0],Y)}}}function I(U){return function(B,H,Y){return U(B,Y)}}var V=typeof setImmediate=="function"&&setImmediate,G=V?function(U){V(U)}:function(U){setTimeout(U,0)};typeof process$1=="object"&&typeof process$1.nextTick=="function"?n.nextTick=process$1.nextTick:n.nextTick=G,n.setImmediate=V?G:n.nextTick,n.forEach=n.each=function(U,B,H){return n.eachOf(U,I(B),H)},n.forEachSeries=n.eachSeries=function(U,B,H){return n.eachOfSeries(U,I(B),H)},n.forEachLimit=n.eachLimit=function(U,B,H,Y){return Q(B)(U,I(H),Y)},n.forEachOf=n.eachOf=function(U,B,H){H=o(H||i),U=U||[];for(var Y=E(U),Z,ee=0;(Z=Y())!=null;)ee+=1,B(U[Z],Z,v(ne));ee===0&&H(null);function ne(oe){ee--,oe?H(oe):Z===null&&ee<=0&&H(null)}},n.forEachOfSeries=n.eachOfSeries=function(U,B,H){H=o(H||i),U=U||[];var Y=E(U),Z=Y();function ee(){var ne=!0;if(Z===null)return H(null);B(U[Z],Z,v(function(oe){if(oe)H(oe);else{if(Z=Y(),Z===null)return H(null);ne?n.setImmediate(ee):ee()}})),ne=!1}ee()},n.forEachOfLimit=n.eachOfLimit=function(U,B,H,Y){Q(B)(U,H,Y)};function Q(U){return function(B,H,Y){Y=o(Y||i),B=B||[];var Z=E(B);if(U<=0)return Y(null);var ee=!1,ne=0,oe=!1;(function fe(){if(ee&&ne<=0)return Y(null);for(;ne<U&&!oe;){var ve=Z();if(ve===null){ee=!0,ne<=0&&Y(null);return}ne+=1,H(B[ve],ve,v(function(qe){ne-=1,qe?(Y(qe),oe=!0):fe()}))}})()}}function k(U){return function(B,H,Y){return U(n.eachOf,B,H,Y)}}function K(U){return function(B,H,Y,Z){return U(Q(H),B,Y,Z)}}function P(U){return function(B,H,Y){return U(n.eachOfSeries,B,H,Y)}}function j(U,B,H,Y){Y=o(Y||i),B=B||[];var Z=m(B)?[]:{};U(B,function(ee,ne,oe){H(ee,function(fe,ve){Z[ne]=ve,oe(fe)})},function(ee){Y(ee,Z)})}n.map=k(j),n.mapSeries=P(j),n.mapLimit=K(j),n.inject=n.foldl=n.reduce=function(U,B,H,Y){n.eachOfSeries(U,function(Z,ee,ne){H(B,Z,function(oe,fe){B=fe,ne(oe)})},function(Z){Y(Z,B)})},n.foldr=n.reduceRight=function(U,B,H,Y){var Z=b(U,t).reverse();n.reduce(Z,B,H,Y)},n.transform=function(U,B,H,Y){arguments.length===3&&(Y=H,H=B,B=l(U)?[]:{}),n.eachOf(U,function(Z,ee,ne){H(B,Z,ee,ne)},function(Z){Y(Z,B)})};function M(U,B,H,Y){var Z=[];U(B,function(ee,ne,oe){H(ee,function(fe){fe&&Z.push({index:ne,value:ee}),oe()})},function(){Y(b(Z.sort(function(ee,ne){return ee.index-ne.index}),function(ee){return ee.value}))})}n.select=n.filter=k(M),n.selectLimit=n.filterLimit=K(M),n.selectSeries=n.filterSeries=P(M);function O(U,B,H,Y){M(U,B,function(Z,ee){H(Z,function(ne){ee(!ne)})},Y)}n.reject=k(O),n.rejectLimit=K(O),n.rejectSeries=P(O);function L(U,B,H){return function(Y,Z,ee,ne){function oe(){ne&&ne(H(!1,void 0))}function fe(ve,qe,ge){if(!ne)return ge();ee(ve,function(Oe){ne&&B(Oe)&&(ne(H(!0,ve)),ne=ee=!1),ge()})}arguments.length>3?U(Y,Z,fe,oe):(ne=ee,ee=Z,U(Y,fe,oe))}}n.any=n.some=L(n.eachOf,r,t),n.someLimit=L(n.eachOfLimit,r,t),n.all=n.every=L(n.eachOf,u,u),n.everyLimit=L(n.eachOfLimit,u,u);function N(U,B){return B}n.detect=L(n.eachOf,t,N),n.detectSeries=L(n.eachOfSeries,t,N),n.detectLimit=L(n.eachOfLimit,t,N),n.sortBy=function(U,B,H){n.map(U,function(Z,ee){B(Z,function(ne,oe){ne?ee(ne):ee(null,{value:Z,criteria:oe})})},function(Z,ee){if(Z)return H(Z);H(null,b(ee.sort(Y),function(ne){return ne.value}))});function Y(Z,ee){var ne=Z.criteria,oe=ee.criteria;return ne<oe?-1:ne>oe?1:0}},n.auto=function(U,B,H){H||(H=B,B=null),H=o(H||i);var Y=A(U),Z=Y.length;if(!Z)return H(null);B||(B=Z);var ee={},ne=0,oe=[];function fe(ge){oe.unshift(ge)}function ve(ge){var Oe=R(oe,ge);Oe>=0&&oe.splice(Oe,1)}function qe(){Z--,y(oe.slice(0),function(ge){ge()})}fe(function(){Z||H(null,ee)}),y(Y,function(ge){for(var Oe=l(U[ge])?U[ge]:[U[ge]],er=T(function(vr,fr){if(ne--,fr.length<=1&&(fr=fr[0]),vr){var Ir={};x(ee,function(_t,mt){Ir[mt]=_t}),Ir[ge]=fr,H(vr,Ir)}else ee[ge]=fr,n.setImmediate(qe)}),ar=Oe.slice(0,Oe.length-1),lr=ar.length,We;lr--;){if(!(We=U[ar[lr]]))throw new Error("Has inexistant dependency");if(l(We)&&R(We,ge)>=0)throw new Error("Has cyclic dependencies")}function Cr(){return ne<B&&S(ar,function(vr,fr){return vr&&ee.hasOwnProperty(fr)},!0)&&!ee.hasOwnProperty(ge)}Cr()?(ne++,Oe[Oe.length-1](er,ee)):fe(br);function br(){Cr()&&(ne++,ve(br),Oe[Oe.length-1](er,ee))}})},n.retry=function(U,B,H){var Y=5,Z=0,ee=[],ne={times:Y,interval:Z};function oe(qe,ge){if(typeof ge=="number")qe.times=parseInt(ge,10)||Y;else if(typeof ge=="object")qe.times=parseInt(ge.times,10)||Y,qe.interval=parseInt(ge.interval,10)||Z;else throw new Error("Unsupported argument type for 'times': "+typeof ge)}var fe=arguments.length;if(fe<1||fe>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");fe<=2&&typeof U=="function"&&(H=B,B=U),typeof U!="function"&&oe(ne,U),ne.callback=H,ne.task=B;function ve(qe,ge){function Oe(lr,We){return function(Cr){lr(function(br,vr){Cr(!br||We,{err:br,result:vr})},ge)}}function er(lr){return function(We){setTimeout(function(){We(null)},lr)}}for(;ne.times;){var ar=!(ne.times-=1);ee.push(Oe(ne.task,ar)),!ar&&ne.interval>0&&ee.push(er(ne.interval))}n.series(ee,function(lr,We){We=We[We.length-1],(qe||ne.callback)(We.err,We.result)})}return ne.callback?ve():ve},n.waterfall=function(U,B){if(B=o(B||i),!l(U)){var H=new Error("First argument to waterfall must be an array of functions");return B(H)}if(!U.length)return B();function Y(Z){return T(function(ee,ne){if(ee)B.apply(null,[ee].concat(ne));else{var oe=Z.next();oe?ne.push(Y(oe)):ne.push(B),Re(Z).apply(null,ne)}})}Y(n.iterator(U))()};function W(U,B,H){H=H||i;var Y=m(B)?[]:{};U(B,function(Z,ee,ne){Z(T(function(oe,fe){fe.length<=1&&(fe=fe[0]),Y[ee]=fe,ne(oe)}))},function(Z){H(Z,Y)})}n.parallel=function(U,B){W(n.eachOf,U,B)},n.parallelLimit=function(U,B,H){W(Q(B),U,H)},n.series=function(U,B){W(n.eachOfSeries,U,B)},n.iterator=function(U){function B(H){function Y(){return U.length&&U[H].apply(null,arguments),Y.next()}return Y.next=function(){return H<U.length-1?B(H+1):null},Y}return B(0)},n.apply=T(function(U,B){return T(function(H){return U.apply(null,B.concat(H))})});function X(U,B,H,Y){var Z=[];U(B,function(ee,ne,oe){H(ee,function(fe,ve){Z=Z.concat(ve||[]),oe(fe)})},function(ee){Y(ee,Z)})}n.concat=k(X),n.concatSeries=P(X),n.whilst=function(U,B,H){if(H=H||i,U()){var Y=T(function(Z,ee){Z?H(Z):U.apply(this,ee)?B(Y):H(null)});B(Y)}else H(null)},n.doWhilst=function(U,B,H){var Y=0;return n.whilst(function(){return++Y<=1||B.apply(this,arguments)},U,H)},n.until=function(U,B,H){return n.whilst(function(){return!U.apply(this,arguments)},B,H)},n.doUntil=function(U,B,H){return n.doWhilst(U,function(){return!B.apply(this,arguments)},H)},n.during=function(U,B,H){H=H||i;var Y=T(function(ee,ne){ee?H(ee):(ne.push(Z),U.apply(this,ne))}),Z=function(ee,ne){ee?H(ee):ne?B(Y):H(null)};U(Z)},n.doDuring=function(U,B,H){var Y=0;n.during(function(Z){Y++<1?Z(null,!0):B.apply(this,arguments)},U,H)};function ie(U,B,H){if(B==null)B=1;else if(B===0)throw new Error("Concurrency must not be zero");function Y(fe,ve,qe,ge){if(ge!=null&&typeof ge!="function")throw new Error("task callback must be a function");if(fe.started=!0,l(ve)||(ve=[ve]),ve.length===0&&fe.idle())return n.setImmediate(function(){fe.drain()});y(ve,function(Oe){var er={data:Oe,callback:ge||i};qe?fe.tasks.unshift(er):fe.tasks.push(er),fe.tasks.length===fe.concurrency&&fe.saturated()}),n.setImmediate(fe.process)}function Z(fe,ve){return function(){ee-=1;var qe=!1,ge=arguments;y(ve,function(Oe){y(ne,function(er,ar){er===Oe&&!qe&&(ne.splice(ar,1),qe=!0)}),Oe.callback.apply(Oe,ge)}),fe.tasks.length+ee===0&&fe.drain(),fe.process()}}var ee=0,ne=[],oe={tasks:[],concurrency:B,payload:H,saturated:i,empty:i,drain:i,started:!1,paused:!1,push:function(fe,ve){Y(oe,fe,!1,ve)},kill:function(){oe.drain=i,oe.tasks=[]},unshift:function(fe,ve){Y(oe,fe,!0,ve)},process:function(){if(!oe.paused&&ee<oe.concurrency&&oe.tasks.length)for(;ee<oe.concurrency&&oe.tasks.length;){var fe=oe.payload?oe.tasks.splice(0,oe.payload):oe.tasks.splice(0,oe.tasks.length),ve=b(fe,function(ge){return ge.data});oe.tasks.length===0&&oe.empty(),ee+=1,ne.push(fe[0]);var qe=v(Z(oe,fe));U(ve,qe)}},length:function(){return oe.tasks.length},running:function(){return ee},workersList:function(){return ne},idle:function(){return oe.tasks.length+ee===0},pause:function(){oe.paused=!0},resume:function(){if(oe.paused!==!1){oe.paused=!1;for(var fe=Math.min(oe.concurrency,oe.tasks.length),ve=1;ve<=fe;ve++)n.setImmediate(oe.process)}}};return oe}n.queue=function(U,B){var H=ie(function(Y,Z){U(Y[0],Z)},B,1);return H},n.priorityQueue=function(U,B){function H(ne,oe){return ne.priority-oe.priority}function Y(ne,oe,fe){for(var ve=-1,qe=ne.length-1;ve<qe;){var ge=ve+(qe-ve+1>>>1);fe(oe,ne[ge])>=0?ve=ge:qe=ge-1}return ve}function Z(ne,oe,fe,ve){if(ve!=null&&typeof ve!="function")throw new Error("task callback must be a function");if(ne.started=!0,l(oe)||(oe=[oe]),oe.length===0)return n.setImmediate(function(){ne.drain()});y(oe,function(qe){var ge={data:qe,priority:fe,callback:typeof ve=="function"?ve:i};ne.tasks.splice(Y(ne.tasks,ge,H)+1,0,ge),ne.tasks.length===ne.concurrency&&ne.saturated(),n.setImmediate(ne.process)})}var ee=n.queue(U,B);return ee.push=function(ne,oe,fe){Z(ee,ne,oe,fe)},delete ee.unshift,ee},n.cargo=function(U,B){return ie(U,1,B)};function se(U){return T(function(B,H){B.apply(null,H.concat([T(function(Y,Z){typeof console=="object"&&(Y?console.error&&console.error(Y):console[U]&&y(Z,function(ee){console[U](ee)}))})]))})}n.log=se("log"),n.dir=se("dir"),n.memoize=function(U,B){var H={},Y={};B=B||t;var Z=T(function(ne){var oe=ne.pop(),fe=B.apply(null,ne);fe in H?n.setImmediate(function(){oe.apply(null,H[fe])}):fe in Y?Y[fe].push(oe):(Y[fe]=[oe],U.apply(null,ne.concat([T(function(ve){H[fe]=ve;var qe=Y[fe];delete Y[fe];for(var ge=0,Oe=qe.length;ge<Oe;ge++)qe[ge].apply(null,ve)})])))});return Z.memo=H,Z.unmemoized=U,Z},n.unmemoize=function(U){return function(){return(U.unmemoized||U).apply(null,arguments)}};function ae(U){return function(B,H,Y){U(q(B),H,Y)}}n.times=ae(n.map),n.timesSeries=ae(n.mapSeries),n.timesLimit=function(U,B,H,Y){return n.mapLimit(q(U),B,H,Y)},n.seq=function(){var U=arguments;return T(function(B){var H=this,Y=B[B.length-1];typeof Y=="function"?B.pop():Y=i,n.reduce(U,B,function(Z,ee,ne){ee.apply(H,Z.concat([T(function(oe,fe){ne(oe,fe)})]))},function(Z,ee){Y.apply(H,[Z].concat(ee))})})},n.compose=function(){return n.seq.apply(null,Array.prototype.reverse.call(arguments))};function le(U){return T(function(B,H){var Y=T(function(Z){var ee=this,ne=Z.pop();return U(B,function(oe,fe,ve){oe.apply(ee,Z.concat([ve]))},ne)});return H.length?Y.apply(this,H):Y})}n.applyEach=le(n.eachOf),n.applyEachSeries=le(n.eachOfSeries),n.forever=function(U,B){var H=v(B||i),Y=Re(U);function Z(ee){if(ee)return H(ee);Y(Z)}Z()};function Re(U){return T(function(B){var H=B.pop();B.push(function(){var Z=arguments;Y?n.setImmediate(function(){H.apply(null,Z)}):H.apply(null,Z)});var Y=!0;U.apply(this,B),Y=!1})}n.ensureAsync=Re,n.constant=T(function(U){var B=[null].concat(U);return function(H){return H.apply(this,B)}}),n.wrapSync=n.asyncify=function(B){return T(function(H){var Y=H.pop(),Z;try{Z=B.apply(this,H)}catch(ee){return Y(ee)}g(Z)&&typeof Z.then=="function"?Z.then(function(ee){Y(null,ee)}).catch(function(ee){Y(ee.message?ee:new Error(ee))}):Y(null,Z)})},e.exports?e.exports=n:h.async=n})()})(async)),async.exports}var event_types,hasRequiredEvent_types;function requireEvent_types(){if(hasRequiredEvent_types)return event_types;hasRequiredEvent_types=1;var e={ADD_TO_CART:"addToCart",ADD_TO_WISH_LIST:"addToWishlist",MODEL_LOADED:"modelLoaded",ATTRIBUTE_VIEW_CLICKED:"attributeViewClicked",VIEW_CHANGED:"viewChanged",ROTATION:"rotation",TEXTURE_LOADED:"textureLoaded",ZOOM:"zoom",RECIPE_CHANGED:"recipeChanged",RECIPE_TEXT_CHANGED:"recipeTextChanged",SHARING_EMAIL:"sharingEmail",SHARING_FACEBOOK:"sharingFacebook",SHARING_TWITTER:"sharingTwitter",SHARING_PINTEREST:"sharingPinterest",UGC_IMAGE_SAVED:"ugcImageSaved",RECIPE_SUMMARY:"recipeSummary",CUSTOM_EVENT:"customEvent"};return event_types=e,event_types}var event_types_map,hasRequiredEvent_types_map;function requireEvent_types_map(){if(hasRequiredEvent_types_map)return event_types_map;hasRequiredEvent_types_map=1;var e=requireEvent_types();return event_types_map={"add-to-cart":e.ADD_TO_CART,"add-to-wishlist":e.ADD_TO_WISH_LIST,"model:loaded":e.MODEL_LOADED,"mesh:click":e.ATTRIBUTE_VIEW_CLICKED,viewChange:e.VIEW_CHANGED,"scene:user-rotation":e.ROTATION,"textures:loaded":e.TEXTURE_LOADED,"scene:user-zoom":e.ZOOM,recipeChanged:e.RECIPE_CHANGED,sharingEmail:e.SHARING_EMAIL,sharingFacebook:e.SHARING_FACEBOOK,sharingTwitter:e.SHARING_TWITTER,sharingPinterest:e.SHARING_PINTEREST,ugcImageSaved:e.UGC_IMAGE_SAVED,customEvent:e.CUSTOM_EVENT},event_types_map}var util,hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util;hasRequiredUtil=1,requireLodash();var e=/^https?:\/\/[a-z-.]*((fluidconfigure\.(com|cn))|(configureid-ref-impl)|(fluidretail.net)|\d+\.\d+\.\d+\.\d+|s3\.amazonaws\.com)/,n=/https?:\/\/localhost/;function i(){var v=(commonjsGlobal||{}).location;return e.test(v)||n.test(v)}function t(v,o){return typeof o<"u"?o:!e.test(v)}function r(v){var o=!1;return(!v||u(v))&&(o=!0),o}function u(v){return Object.keys(v).length===0&&v.constructor===Object}function s(v){}function h(v){for(var o=Object.getOwnPropertyNames(v),p=0;p<o.length;p+=1){var l=o[p],g=v[l];g&&typeof g=="object"&&h(g)}return Object.freeze(v)}return util={shouldTrackMetricsEvents:t,isEmptyObject:r,validateFilter:s,deepFreeze:h,isInternalSite:i},util}var get_events,hasRequiredGet_events;function requireGet_events(){if(hasRequiredGet_events)return get_events;hasRequiredGet_events=1;var e=requireLodash(),n=requireEvent_types(),i=requireEvent_types_map(),t=requireUtil(),r=t.isEmptyObject;function u(P,j,M,O,L,N){var W=null;if(e.reduce(Object.keys(i),function(ae,le){return W!==null?W:(W=M===le||M===i[le]?i[le]:null,M)},W),W===n.RECIPE_CHANGED)return s(P,j,W,O,L);var X=v(P,j,W,O,L);if(W===n.ADD_TO_CART&&X!==null){var ie=new p(P,j,W,L),se=new K(ie,O,P,N);return[X,se]}return X!==null?[X]:[]}get_events=u;function s(P,j,M,O,L){return e.map(O,function(N){return h(N)?v(P,j,M,N,L):void 0})}function h(P){var j=P.av,M=P.ca,O=!0;return M&&r(j)?O=!1:M&&!r(j)&&(!j.color&&!j.url&&(O=!1),j.text&&(O=!0)),O}function v(P,j,M,O,L){var N=new p(P,j,M,L);switch(M){case n.ADD_TO_CART:return new g(N,O,P);case n.ADD_TO_WISH_LIST:return new m(N,O);case n.MODEL_LOADED:return new y(N,O);case n.ATTRIBUTE_VIEW_CLICKED:return new b(N,O);case n.VIEW_CHANGED:return new q(N,O);case n.ROTATION:return new S(N,O);case n.TEXTURE_LOADED:return new E(N,O);case n.ZOOM:return new A(N,O);case n.UGC_IMAGE_SAVED:return new V(N);case n.RECIPE_CHANGED:return new I(N,O,P);case n.SHARING_EMAIL:return new G(N,"email",O);case n.SHARING_FACEBOOK:return new G(N,"facebook",O);case n.SHARING_TWITTER:return new G(N,"twitter",O);case n.SHARING_PINTEREST:return new G(N,"pinterest",O);case n.CUSTOM_EVENT:return new Q(N,O);default:return null}}function o(P){return P?"webGL":"imageComposer"}var p=function(P,j,M,O){return{type:M,customerId:P.customer,productId:P.productId,sessionId:j,imagingStrategy:o(O)}};function l(P){var j="";try{var M=/recipe\/(\d+)\?apiKey/;j=M.exec(P)[1]}catch(O){console.log(O.messege)}return j}var g=function(P,j,M){var O=l(j.resource);return P.quantity=j.quantity,P.price=x(j.price,3),P.currency=j.currency||M.currency||"USD",P.recipeId=O||"",P},m=function(P,j){var M=l(j.resource);return P.recipeId=M||"",P},y=function(P,j){return P.duration=j&&j.duration?Math.round(j.duration):100,P},b=function(P,j){return P.attributeName=j.attributeName||"",P.attributeValueName=j.attributeValueName||"",P},q=function(P,j){return P.viewName=j,P},S=function(P,j){return R(P,"startPosition",j.startPosition),R(P,"endPosition",j.endPosition),P.source=j&&j.source?j.source:"auto",P};function x(P,j){return Number(P.toFixed(j))}var R=function(P,j,M){j==="startPosition"?(P.startPositionX=x(M.x,3),P.startPositionY=x(M.y,3),P.startPositionZ=x(M.z,3)):(P.endPositionX=x(M.x,3),P.endPositionY=x(M.y,3),P.endPositionZ=x(M.z,3))},A=function(P,j){return P.distance=x(j.zoomDistance,3),P.action=j&&j.action?j.action:"zoomIn",P.source=j.source||"auto",P},E=function(P,j){return P.duration=j&&j.duration?Math.round(j.duration):100,P.textureUrl=j&&j.textureUrl?j.textureUrl:"",P};function T(P){var j=!1,M=P.locales.default;return(!P.locale||P.locale.toLowerCase()===M.toLowerCase())&&(j=!0),j}var I=function(P,j,M){var O=j.ca,L=j.av;return P.attributeName=O.name,P.locale=M.locale||M.locales.default,P.locale=P.locale.toLowerCase(),P.isDefaultLocale=T(M),P.attributeId=O.id,L.text?(P.type=n.RECIPE_TEXT_CHANGED,P.value=L.text):(P.value=L.color||L.url,P.attributeValueName=L.name,P.attributeValueId=L.id),P},V=function(P){return P.type="imageUploaded",P},G=function(P,j,M){return P.type="sharing",P.platform=j,P.recipeId=k(M),P},Q=function(P,j){return delete P.imagingStrategy,P.recipeId=k(j)||null,P.payload=j.payload,P.name=j.name,P};function k(P){if(P.recipeId)return P.recipeId;var j="";try{var M=/recipeId\=(\d+)/;j=M.exec(P.recipeUrl)[1]}catch(O){console.log(O.messege)}return j}var K=function(P,j,M,O){var L=l(j.resource);return delete P.imagingStrategy,P.type=n.RECIPE_SUMMARY,P.recipeId=L||"",P.originalEventType=n.ADD_TO_CART,P.productName=O.product().getData().name,P.values=[],O.recipe().getData().forEach(function(N){var W=N.ca.getData(),X=N.av&&N.av.getData()||null;X&&(!W.hasOwnProperty("skipCustomizationTracking")||!W.skipCustomizationTracking)&&P.values.push({attributeId:W.id,attributeName:W.name,attributeAlias:W.alias,attributeSelectorType:W.selectorType,attributeValueId:X.id||0,attributeValueName:X.name||(W.allowUGC?"ugc":""),value:X.color||X.url&&decodeURIComponent(X.url)||X.clipArt&&decodeURIComponent(X.clipArt)||X.text||""})}),P};return get_events}var page_view_event,hasRequiredPage_view_event;function requirePage_view_event(){if(hasRequiredPage_view_event)return page_view_event;hasRequiredPage_view_event=1;var e=requireAxios(),n=requireLodash(),i=commonjsGlobal,t=n.get(i,"document"),r=!1,u=function(l){var g="//"+l.configureEndpoint+"/metrics/page_view";return s(g,l),{isValidEvent:p.bind(this),buildEvent:h.bind(this),productTracked:r}};function s(l,g){var m=h(g);p(m)&&!r&&(r=!0,o(l,g.apiKey,m))}function h(l){var g={data_source:l.isBrowser?"web":"app",customer_id:l.customer,product_id:l.productId,workflow:l.workflow,api_key:l.apiKey,session_id:l.sessionId,user_language:l.locale||"en_us",application_name:l.applicationName||"configure-core",application_version:l.applicationVersion};return v(g),g}function v(l){l.user_agent=n.get(i,["navigator","userAgent"]),l.document_location_url=n.get(i,["location","href"]),l.document_referrer=n.get(t,["referrer"]),l.screen_height=n.get(i,["screen","height"]),l.screen_width=n.get(i,["screen","width"]),l.viewport_height=Math.max(n.get(t,["documentElement","clientHeight"]),n.get(i,"innerHeight")||0),l.viewport_width=Math.max(n.get(t,["documentElement","clientWidth"]),n.get(i,["location","innerWidth"])||0)}function o(l,g,m){var y={method:"POST",headers:{"x-api-key":g},data:{data:m},url:l};e(y)}function p(l){var g=!0;return(!l||!l.data_source||!l.customer_id||!l.application_name||!l.application_version)&&(g=!1),g}return page_view_event=u,page_view_event}var analytics_events,hasRequiredAnalytics_events;function requireAnalytics_events(){if(hasRequiredAnalytics_events)return analytics_events;hasRequiredAnalytics_events=1;var e=requireAxios(),n=requireAsync(),i=requireGet_events(),t=requireUtil(),r=requirePage_view_event(),u=t.isEmptyObject,s,h=function(v,o,p,l,g){if(s=s||v.sessionId,!!v.apiKey){if(o==="configureLoaded")return r(v);if(!u(p)){var m="//"+v.configureEndpoint+"/metrics/events",y=i(v,s,o,p,l,g);return n.forEachOf(y,function(b){if(b!==void 0){var q={method:"POST",headers:{"x-api-key":v.apiKey},data:{data:b},url:m};if(!t.shouldTrackMetricsEvents((commonjsGlobal||{}).location,v.shouldEnableMetrics)){console.warn("Not sending metrics since disabled. Event payload: ",q);return}e(q).then().catch(function(){})}},function(b){b&&console.error(b.message)}),y}}};return analytics_events=h,analytics_events}var analytics,hasRequiredAnalytics;function requireAnalytics(){if(hasRequiredAnalytics)return analytics;hasRequiredAnalytics=1;var e=requireAnalytics_events();return analytics=function(n,i){return function(r,u,s){e(i,r,u,s,n)}},analytics}var get_attribute,hasRequiredGet_attribute;function requireGet_attribute(){if(hasRequiredGet_attribute)return get_attribute;hasRequiredGet_attribute=1;var e=requireIcepick();return get_attribute=function(n,i){var t=n.product();return function(u){var s=typeof u=="number"?"attributeById":"findAttribute",h=t[s](u),v;if(!h)throw new Error("getAttribute could not find a ca matching "+JSON.stringify(u)+". Available attributes are: "+t.allAttributes().join(", "));return v=i().allAttributes[h.id],e.getIn(i(),v)}},get_attribute}var get_attributes,hasRequiredGet_attributes;function requireGet_attributes(){if(hasRequiredGet_attributes)return get_attributes;hasRequiredGet_attributes=1;var e={},n=requireLodash(),i=n.compose(JSON.parse,JSON.stringify),t={all:"allAttributes",nonSelectable:"nonSelectableAttributes",nonSympatheticSlave:"nonSympatheticSlaveAttributes"},r=e.MAX_EXPENSIVE_CALLS_FACTOR||4;get_attributes=function(p){var l=p.product(),g,m=0;return function(q){var S;return q=q||{},v(q),y(q)?(S=u(l,q),g=g||S.length*r,s(S,q)):[]};function y(b){return b.throttle!==!1&&(m+=1,g&&m>g)?(console.warn("Maximum of "+g+" getAttributes calls reached. Given how expensive this method is, you should only use it for bootstrapping your application."),!1):!0}};function u(p,l){return i(p[l.searchType]())}function s(p,l){return l.filter&&(p=n.filter(p,l.filter)),p}function h(p){return p?p=t[p]:p=t.all,p}function v(p){if(!n.isPlainObject(p))throw new Error("getAttributes options should be an Object");if(p.filter&&(p.filter,void 0),p.searchType=h(p.searchType),!p.searchType)throw new Error("getAttributes unknown options.searchType. Valid search types are "+n.keys(t).join(", "))}function o(p){}return get_attributes}var get_recipe,hasRequiredGet_recipe;function requireGet_recipe(){if(hasRequiredGet_recipe)return get_recipe;hasRequiredGet_recipe=1;var e=requireLodash(),n=requireIcepick();function i(p){return p.legacy("verbose")}function t(p){return p.legacy("concise")}function r(p){return p.toHash("id","id")}function u(p){return p.toHash("alias","name")}function s(p,l,g,m){return JSON.parse(JSON.stringify(p.toHash(g,m)))}function h(p,l){return p.toArray(l)}function v(p){return JSON.parse(JSON.stringify(p))}function o(p,l){if(!p)throw new Error("extended recipe format requires a initialized productJson");var g=v(l);return e.reduce(g,function(m,y,b){var q=n.getIn(p,p.allAttributes[y.ca.id]).values;return m[b].av=e.find(q,{id:y.av.id}),m},g)}return get_recipe=function(p,l){return l=l||e.noop,function(m,y,b){m=m||"compact";var q=p.recipe(!1),S=p.product(),x,R={legacyVerbose:i,legacyConcise:t,compact:r,save:h,human:u,custom:s,json:v,extended:e.partial(o,l())};if(!R[m])throw new Error('Invalid format "'+m+'" when calling `getRecipe`. Valid formats are: '+e.keys(R).join(", "));return x=R[m](q,S,y,b),x}},get_recipe}var get_customer_report,hasRequiredGet_customer_report;function requireGet_customer_report(){if(hasRequiredGet_customer_report)return get_customer_report;hasRequiredGet_customer_report=1;var e=requireConfigurationLoader(),n=requireLodash();return get_customer_report=function(i,t){var r=i.product().getData();return function(s){if(typeof s!="function")throw new Error('.run("getCustomerReport", cb) expects a callback');e.customerReport(n.defaults(t,{workflow:r.workflow,customer:r.customerId}),function(h,v){s(h,JSON.parse(JSON.stringify(v||{})))})}},get_customer_report}var select_value={exports:{}},hasRequiredSelect_value;function requireSelect_value(){if(hasRequiredSelect_value)return select_value.exports;hasRequiredSelect_value=1;var e=requireLodash();select_value.exports=function(u,s,h,v,o){s=s||{};function p(l,g){if(g)return g(l);throw l}return function(){if(arguments.length===0)throw new Error("Missing arguments for selectValue(options, callback)");var g=u.recipe(),m=r.call(null,arguments),y=m.ca,b=m.av,q=m.callback;if(q&&!e.isFunction(q))throw new Error("Invalid arguments for selectValue(options, callback)");q&&g.once("change",S);try{y&&y.id&&s.cas&&(s.cas[y.id]=!0),g.setOne(y,b,v,o)}catch(x){return g.off("change",S),h.trigger("recipe:invalid-selection",{error:x,ca:y,av:b}),p(x,q)}function S(x){q(null,JSON.parse(JSON.stringify(x)))}}};function n(u){return e.isString(u)&&(u={alias:u}),e.isNumber(u)&&(u={id:u}),u}function i(u){return e.isString(u)&&(u={name:u}),e.isNumber(u)&&(u={id:u}),u}function t(u,s){var h,v,o=u[0];return u[1]&&e.isFunction(u[1])&&(s=u[1]),e.isArray(o)&&(h=o[0],v=o[1]),e.isObject(o)&&!e.isArray(o)&&(h=o.ca||o.caId,v=o.av||o.avId),h=n(h),v=i(v),{ca:h,av:v,callback:s}}function r(u,s){var h={};return u.length===1||u.length===2?h=t(u,s):h={ca:n(u[0]),av:i(u[1]),callback:u[2]},h}return select_value.exports.parseOptions=r,select_value.exports}var preview_value,hasRequiredPreview_value;function requirePreview_value(){if(hasRequiredPreview_value)return preview_value;hasRequiredPreview_value=1;var e=requireLodash();return preview_value=function(n,i){var t=requireGet_recipe()(n),r=requireSelect_value()(n,null,i);return function(s,h,v){if(!s||!h||!v)throw new Error("Missing arguments for previewValue(params, format, callback)");if(v&&!e.isFunction(v))throw new Error("Invalid arguments for previewValue(params, format, callback)");var o=n.recipe(),p=e.isArray(s)&&e.isObject(s[0]),l;try{o.start(),p?e.forEach(s,function(g){r(g)}):r(s),l=t(h),o.rollback(),v(null,l)}catch(g){try{o.rollback()}catch{}v(g)}}},preview_value}var select_facet_value={exports:{}},hasRequiredSelect_facet_value;function requireSelect_facet_value(){if(hasRequiredSelect_facet_value)return select_facet_value.exports;hasRequiredSelect_facet_value=1;var e=requireLodash();select_facet_value.exports=function(t,r){return r=r||{},function(){if(arguments.length===0)throw new Error("Missing arguments for selectFacetValue(options, callback)");var s,h=t.recipe(),v=n.apply(null,arguments),o=v.ca,p=v.f,l=v.fv,g=v.callback;if(g&&!e.isFunction(g))throw new Error("Invalid arguments for selectFacetValue(options, callback)");if(!o||!p||!l)return s=new Error('improper options passed to selectFacetValue. Expected: {caId: 123, facetId: 123, fvId: 123} or {"chair", "color", "red"}'),i(s,g);g&&h.once("change:facet",function(m){g(null,JSON.parse(JSON.stringify(m)))});try{p&&p.id&&r.facets&&(r.facets[p.id]=!0),h.setFacet(o,p,l)}catch(m){return i(m,g)}}},select_facet_value.exports.parseOptions=n;function n(t,r){var u,s,h;return arguments.length===4?(u=arguments[0],s=arguments[1],h=arguments[2],r=arguments[3]):e.isArray(t)?(u=t[0],s=t[1],h=t[2]):(u=t.ca,s=t.f,h=t.fv),typeof u=="string"&&(u={alias:u}),typeof s=="string"&&(s={name:s}),typeof h=="string"&&(h={name:h}),t.caId&&(u={id:t.caId}),t.facetId&&(s={id:t.facetId}),t.fvId&&(h={id:t.fvId}),{ca:u,f:s,fv:h,callback:r}}function i(t,r){if(r)return r(t);throw t}return select_facet_value.exports}var get_product_facets_details,hasRequiredGet_product_facets_details;function requireGet_product_facets_details(){if(hasRequiredGet_product_facets_details)return get_product_facets_details;hasRequiredGet_product_facets_details=1;var e=requireLodash(),n=requireUtil().deepFreeze;function i(r){return r&&r.getData?r.getData():null}function t(r){return r&&r.getData?r.getData():null}return get_product_facets_details=function(r){var u;return function(){return u||(u=n(e.reduce(r.product().facets(),function(s,h){var v=h.getData(),o=h.facetValues()?h.facetValues().map(i):[];return s[v.name]?s[v.name].values=(s[v.name].values||[]).concat(o):s[v.name]={values:o,facet:t(h.facet())},s},{}))),u}},get_product_facets_details}var get_upcharges,hasRequiredGet_upcharges;function requireGet_upcharges(){if(hasRequiredGet_upcharges)return get_upcharges;hasRequiredGet_upcharges=1;var e=requireLodash();return get_upcharges=function(n,i){function t(s){s=s||{};var h=s.caKey||"alias",v=n.recipe(),o=s.currency||i.getCurrency();if(!o)throw new Error("Missing options.currency for getUpcharges(options)");return s.format==="aggregated"?u(e.omit(s,"format")):e.reduce(v.getData(),function(p,l){if(l.av&&l.ca&&!l.ca.hasDynamicValue()){if(s.excludeInvisible&&!l.ca.isVisible())return p;var g=l.av.getUpchargeFor(l.ca,o),m=l.ca.getData()[h];p[m]=g}return p},{})}var r=requireIcepick();function u(s){s=s||{};var h=s.caKey||"alias",v=t(e.defaults({caKey:"id"},e.omit(s,["format","caKey"]))),o=i.getProduct(),p=o.allAttributes;function l(m,y,b,q){var S=r.getIn(o,p[y]),x=S[h];q=q||[x],m[x]?(m[x].upcharge=b,b&&(m[x].sum+=b,m[x].summed=m[x].summed.concat(q))):m[x]={upcharge:b,sum:b,summed:b&&q||[]},S.parentId&&l(m,S.parentId,b,q)}var g=e.reduce(v,function(m,y,b){return l(m,b,y),m},{});return g}return t},get_upcharges}var preferences,hasRequiredPreferences;function requirePreferences(){if(hasRequiredPreferences)return preferences;hasRequiredPreferences=1;var e=requireConfigurationLoader(),n=requireSet_environment_params(),i=requireUtil().isInternalSite;return preferences=function(r,u){r.shouldSkipCache!==!1&&(r.shouldSkipCache||i()||r.workflow==="dev"||r.workflow==="qa")&&(r.publishedTime=Math.random()),e.preferences(n(r),u)},preferences}var client={exports:{}},fastSafeStringify,hasRequiredFastSafeStringify;function requireFastSafeStringify(){if(hasRequiredFastSafeStringify)return fastSafeStringify;hasRequiredFastSafeStringify=1,fastSafeStringify=u,u.default=u,u.stable=o,u.stableStringify=o;var e="[...]",n="[Circular]",i=[],t=[];function r(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function u(g,m,y,b){typeof b>"u"&&(b=r()),h(g,"",0,[],void 0,0,b);var q;try{t.length===0?q=JSON.stringify(g,m,y):q=JSON.stringify(g,l(m),y)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;i.length!==0;){var S=i.pop();S.length===4?Object.defineProperty(S[0],S[1],S[3]):S[0][S[1]]=S[2]}}return q}function s(g,m,y,b){var q=Object.getOwnPropertyDescriptor(b,y);q.get!==void 0?q.configurable?(Object.defineProperty(b,y,{value:g}),i.push([b,y,m,q])):t.push([m,y,g]):(b[y]=g,i.push([b,y,m]))}function h(g,m,y,b,q,S,x){S+=1;var R;if(typeof g=="object"&&g!==null){for(R=0;R<b.length;R++)if(b[R]===g){s(n,g,m,q);return}if(typeof x.depthLimit<"u"&&S>x.depthLimit){s(e,g,m,q);return}if(typeof x.edgesLimit<"u"&&y+1>x.edgesLimit){s(e,g,m,q);return}if(b.push(g),Array.isArray(g))for(R=0;R<g.length;R++)h(g[R],R,R,b,g,S,x);else{var A=Object.keys(g);for(R=0;R<A.length;R++){var E=A[R];h(g[E],E,R,b,g,S,x)}}b.pop()}}function v(g,m){return g<m?-1:g>m?1:0}function o(g,m,y,b){typeof b>"u"&&(b=r());var q=p(g,"",0,[],void 0,0,b)||g,S;try{t.length===0?S=JSON.stringify(q,m,y):S=JSON.stringify(q,l(m),y)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;i.length!==0;){var x=i.pop();x.length===4?Object.defineProperty(x[0],x[1],x[3]):x[0][x[1]]=x[2]}}return S}function p(g,m,y,b,q,S,x){S+=1;var R;if(typeof g=="object"&&g!==null){for(R=0;R<b.length;R++)if(b[R]===g){s(n,g,m,q);return}try{if(typeof g.toJSON=="function")return}catch{return}if(typeof x.depthLimit<"u"&&S>x.depthLimit){s(e,g,m,q);return}if(typeof x.edgesLimit<"u"&&y+1>x.edgesLimit){s(e,g,m,q);return}if(b.push(g),Array.isArray(g))for(R=0;R<g.length;R++)p(g[R],R,R,b,g,S,x);else{var A={},E=Object.keys(g).sort(v);for(R=0;R<E.length;R++){var T=E[R];p(g[T],T,R,b,g,S,x),A[T]=g[T]}if(typeof q<"u")i.push([q,m,g]),q[m]=A;else return A}b.pop()}}function l(g){return g=typeof g<"u"?g:function(m,y){return y},function(m,y){if(t.length>0)for(var b=0;b<t.length;b++){var q=t[b];if(q[1]===m&&q[0]===y){y=q[2],t.splice(b,1);break}}return g.call(this,m,y)}}return fastSafeStringify}var isObject_1,hasRequiredIsObject;function requireIsObject(){if(hasRequiredIsObject)return isObject_1;hasRequiredIsObject=1;function e(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(r){return typeof r}:e=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e(i)}function n(i){return i!==null&&e(i)==="object"}return isObject_1=n,isObject_1}var requestBase,hasRequiredRequestBase;function requireRequestBase(){if(hasRequiredRequestBase)return requestBase;hasRequiredRequestBase=1;function e(u){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(h){return typeof h}:e=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},e(u)}var n=requireIsObject();requestBase=i;function i(u){if(u)return t(u)}function t(u){for(var s in i.prototype)Object.prototype.hasOwnProperty.call(i.prototype,s)&&(u[s]=i.prototype[s]);return u}i.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},i.prototype.parse=function(u){return this._parser=u,this},i.prototype.responseType=function(u){return this._responseType=u,this},i.prototype.serialize=function(u){return this._serializer=u,this},i.prototype.timeout=function(u){if(!u||e(u)!=="object")return this._timeout=u,this._responseTimeout=0,this._uploadTimeout=0,this;for(var s in u)if(Object.prototype.hasOwnProperty.call(u,s))switch(s){case"deadline":this._timeout=u.deadline;break;case"response":this._responseTimeout=u.response;break;case"upload":this._uploadTimeout=u.upload;break;default:console.warn("Unknown timeout option",s)}return this},i.prototype.retry=function(u,s){return(arguments.length===0||u===!0)&&(u=1),u<=0&&(u=0),this._maxRetries=u,this._retries=0,this._retryCallback=s,this};var r=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];return i.prototype._shouldRetry=function(u,s){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var h=this._retryCallback(u,s);if(h===!0)return!0;if(h===!1)return!1}catch(v){console.error(v)}return!!(s&&s.status&&s.status>=500&&s.status!==501||u&&(u.code&&r.includes(u.code)||u.timeout&&u.code==="ECONNABORTED"||u.crossDomain))},i.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},i.prototype.then=function(u,s){var h=this;if(!this._fullfilledPromise){var v=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(o,p){v.on("abort",function(){if(!(h._maxRetries&&h._maxRetries>h._retries)){if(h.timedout&&h.timedoutError){p(h.timedoutError);return}var l=new Error("Aborted");l.code="ABORTED",l.status=h.status,l.method=h.method,l.url=h.url,p(l)}}),v.end(function(l,g){l?p(l):o(g)})})}return this._fullfilledPromise.then(u,s)},i.prototype.catch=function(u){return this.then(void 0,u)},i.prototype.use=function(u){return u(this),this},i.prototype.ok=function(u){if(typeof u!="function")throw new Error("Callback required");return this._okCallback=u,this},i.prototype._isResponseOK=function(u){return u?this._okCallback?this._okCallback(u):u.status>=200&&u.status<300:!1},i.prototype.get=function(u){return this._header[u.toLowerCase()]},i.prototype.getHeader=i.prototype.get,i.prototype.set=function(u,s){if(n(u)){for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&this.set(h,u[h]);return this}return this._header[u.toLowerCase()]=s,this.header[u]=s,this},i.prototype.unset=function(u){return delete this._header[u.toLowerCase()],delete this.header[u],this},i.prototype.field=function(u,s){if(u==null)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(n(u)){for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&this.field(h,u[h]);return this}if(Array.isArray(s)){for(var v in s)Object.prototype.hasOwnProperty.call(s,v)&&this.field(u,s[v]);return this}if(s==null)throw new Error(".field(name, val) val can not be empty");return typeof s=="boolean"&&(s=String(s)),this._getFormData().append(u,s),this},i.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},i.prototype._auth=function(u,s,h,v){switch(h.type){case"basic":this.set("Authorization","Basic ".concat(v("".concat(u,":").concat(s))));break;case"auto":this.username=u,this.password=s;break;case"bearer":this.set("Authorization","Bearer ".concat(u));break}return this},i.prototype.withCredentials=function(u){return u===void 0&&(u=!0),this._withCredentials=u,this},i.prototype.redirects=function(u){return this._maxRedirects=u,this},i.prototype.maxResponseSize=function(u){if(typeof u!="number")throw new TypeError("Invalid argument");return this._maxResponseSize=u,this},i.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},i.prototype.send=function(u){var s=n(u),h=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(s&&!this._data)Array.isArray(u)?this._data=[]:this._isHost(u)||(this._data={});else if(u&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(s&&n(this._data))for(var v in u)Object.prototype.hasOwnProperty.call(u,v)&&(this._data[v]=u[v]);else typeof u=="string"?(h||this.type("form"),h=this._header["content-type"],h==="application/x-www-form-urlencoded"?this._data=this._data?"".concat(this._data,"&").concat(u):u:this._data=(this._data||"")+u):this._data=u;return!s||this._isHost(u)?this:(h||this.type("json"),this)},i.prototype.sortQuery=function(u){return this._sort=typeof u>"u"?!0:u,this},i.prototype._finalizeQueryString=function(){var u=this._query.join("&");if(u&&(this.url+=(this.url.includes("?")?"&":"?")+u),this._query.length=0,this._sort){var s=this.url.indexOf("?");if(s>=0){var h=this.url.slice(s+1).split("&");typeof this._sort=="function"?h.sort(this._sort):h.sort(),this.url=this.url.slice(0,s)+"?"+h.join("&")}}},i.prototype._appendQueryString=function(){console.warn("Unsupported")},i.prototype._timeoutError=function(u,s,h){if(!this._aborted){var v=new Error("".concat(u+s,"ms exceeded"));v.timeout=s,v.code="ECONNABORTED",v.errno=h,this.timedout=!0,this.timedoutError=v,this.abort(),this.callback(v)}},i.prototype._setTimeouts=function(){var u=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){u._timeoutError("Timeout of ",u._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){u._timeoutError("Response timeout of ",u._responseTimeout,"ETIMEDOUT")},this._responseTimeout))},requestBase}var utils$2={},hasRequiredUtils$2;function requireUtils$2(){return hasRequiredUtils$2||(hasRequiredUtils$2=1,utils$2.type=function(e){return e.split(/ *; */).shift()},utils$2.params=function(e){return e.split(/ *; */).reduce(function(n,i){var t=i.split(/ *= */),r=t.shift(),u=t.shift();return r&&u&&(n[r]=u),n},{})},utils$2.parseLinks=function(e){return e.split(/ *, */).reduce(function(n,i){var t=i.split(/ *; */),r=t[0].slice(1,-1),u=t[1].split(/ *= */)[1].slice(1,-1);return n[u]=r,n},{})},utils$2.cleanHeader=function(e,n){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,n&&(delete e.authorization,delete e.cookie),e}),utils$2}var responseBase,hasRequiredResponseBase;function requireResponseBase(){if(hasRequiredResponseBase)return responseBase;hasRequiredResponseBase=1;var e=requireUtils$2();responseBase=n;function n(t){if(t)return i(t)}function i(t){for(var r in n.prototype)Object.prototype.hasOwnProperty.call(n.prototype,r)&&(t[r]=n.prototype[r]);return t}return n.prototype.get=function(t){return this.header[t.toLowerCase()]},n.prototype._setHeaderProperties=function(t){var r=t["content-type"]||"";this.type=e.type(r);var u=e.params(r);for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&(this[s]=u[s]);this.links={};try{t.link&&(this.links=e.parseLinks(t.link))}catch{}},n.prototype._setStatusProperties=function(t){var r=t/100|0;this.statusCode=t,this.status=this.statusCode,this.statusType=r,this.info=r===1,this.ok=r===2,this.redirect=r===3,this.clientError=r===4,this.serverError=r===5,this.error=r===4||r===5?this.toError():!1,this.created=t===201,this.accepted=t===202,this.noContent=t===204,this.badRequest=t===400,this.unauthorized=t===401,this.notAcceptable=t===406,this.forbidden=t===403,this.notFound=t===404,this.unprocessableEntity=t===422},responseBase}var agentBase,hasRequiredAgentBase;function requireAgentBase(){if(hasRequiredAgentBase)return agentBase;hasRequiredAgentBase=1;function e(h){return r(h)||t(h)||i(h)||n()}function n(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i(h,v){if(h){if(typeof h=="string")return u(h,v);var o=Object.prototype.toString.call(h).slice(8,-1);if(o==="Object"&&h.constructor&&(o=h.constructor.name),o==="Map"||o==="Set")return Array.from(h);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return u(h,v)}}function t(h){if(typeof Symbol<"u"&&Symbol.iterator in Object(h))return Array.from(h)}function r(h){if(Array.isArray(h))return u(h)}function u(h,v){(v==null||v>h.length)&&(v=h.length);for(var o=0,p=new Array(v);o<v;o++)p[o]=h[o];return p}function s(){this._defaults=[]}return["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"].forEach(function(h){s.prototype[h]=function(){for(var v=arguments.length,o=new Array(v),p=0;p<v;p++)o[p]=arguments[p];return this._defaults.push({fn:h,args:o}),this}}),s.prototype._setDefaults=function(h){this._defaults.forEach(function(v){h[v.fn].apply(h,e(v.args))})},agentBase=s,agentBase}var hasRequiredClient;function requireClient(){return hasRequiredClient||(hasRequiredClient=1,(function(e,n){function i(E){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?i=function(I){return typeof I}:i=function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},i(E)}var t;typeof window<"u"?t=window:typeof self>"u"?(console.warn("Using browser-only version of superagent in non-browser environment"),t=void 0):t=self;var r=requireComponentEmitter(),u=requireFastSafeStringify(),s=requireRequestBase(),h=requireIsObject(),v=requireResponseBase(),o=requireAgentBase();function p(){}e.exports=function(E,T){return typeof T=="function"?new n.Request("GET",E).end(T):arguments.length===1?new n.Request("GET",E):new n.Request(E,T)},n=e.exports;var l=n;n.Request=R,l.getXHR=function(){if(t.XMLHttpRequest&&(!t.location||t.location.protocol!=="file:"||!t.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch{}throw new Error("Browser-only version of superagent could not find XHR")};var g="".trim?function(E){return E.trim()}:function(E){return E.replace(/(^\s*|\s*$)/g,"")};function m(E){if(!h(E))return E;var T=[];for(var I in E)Object.prototype.hasOwnProperty.call(E,I)&&y(T,I,E[I]);return T.join("&")}function y(E,T,I){if(I!==void 0){if(I===null){E.push(encodeURI(T));return}if(Array.isArray(I))I.forEach(function(G){y(E,T,G)});else if(h(I))for(var V in I)Object.prototype.hasOwnProperty.call(I,V)&&y(E,"".concat(T,"[").concat(V,"]"),I[V]);else E.push(encodeURI(T)+"="+encodeURIComponent(I))}}l.serializeObject=m;function b(E){for(var T={},I=E.split("&"),V,G,Q=0,k=I.length;Q<k;++Q)V=I[Q],G=V.indexOf("="),G===-1?T[decodeURIComponent(V)]="":T[decodeURIComponent(V.slice(0,G))]=decodeURIComponent(V.slice(G+1));return T}l.parseString=b,l.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},l.serialize={"application/x-www-form-urlencoded":m,"application/json":u},l.parse={"application/x-www-form-urlencoded":b,"application/json":JSON.parse};function q(E){for(var T=E.split(/\r?\n/),I={},V,G,Q,k,K=0,P=T.length;K<P;++K)G=T[K],V=G.indexOf(":"),V!==-1&&(Q=G.slice(0,V).toLowerCase(),k=g(G.slice(V+1)),I[Q]=k);return I}function S(E){return/[/+]json($|[^-\w])/.test(E)}function x(E){this.req=E,this.xhr=this.req.xhr,this.text=this.req.method!=="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||typeof this.xhr.responseType>"u"?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var T=this.xhr.status;T===1223&&(T=204),this._setStatusProperties(T),this.headers=q(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.text===null&&E._responseType?this.body=this.xhr.response:this.body=this.req.method==="HEAD"?null:this._parseBody(this.text?this.text:this.xhr.response)}v(x.prototype),x.prototype._parseBody=function(E){var T=l.parse[this.type];return this.req._parser?this.req._parser(this,E):(!T&&S(this.type)&&(T=l.parse["application/json"]),T&&E&&(E.length>0||E instanceof Object)?T(E):null)},x.prototype.toError=function(){var E=this.req,T=E.method,I=E.url,V="cannot ".concat(T," ").concat(I," (").concat(this.status,")"),G=new Error(V);return G.status=this.status,G.method=T,G.url=I,G},l.Response=x;function R(E,T){var I=this;this._query=this._query||[],this.method=E,this.url=T,this.header={},this._header={},this.on("end",function(){var V=null,G=null;try{G=new x(I)}catch(k){return V=new Error("Parser is unable to parse the response"),V.parse=!0,V.original=k,I.xhr?(V.rawResponse=typeof I.xhr.responseType>"u"?I.xhr.responseText:I.xhr.response,V.status=I.xhr.status?I.xhr.status:null,V.statusCode=V.status):(V.rawResponse=null,V.status=null),I.callback(V)}I.emit("response",G);var Q;try{I._isResponseOK(G)||(Q=new Error(G.statusText||G.text||"Unsuccessful HTTP response"))}catch(k){Q=k}Q?(Q.original=V,Q.response=G,Q.status=G.status,I.callback(Q,G)):I.callback(null,G)})}r(R.prototype),s(R.prototype),R.prototype.type=function(E){return this.set("Content-Type",l.types[E]||E),this},R.prototype.accept=function(E){return this.set("Accept",l.types[E]||E),this},R.prototype.auth=function(E,T,I){arguments.length===1&&(T=""),i(T)==="object"&&T!==null&&(I=T,T=""),I||(I={type:typeof btoa=="function"?"basic":"auto"});var V=function(Q){if(typeof btoa=="function")return btoa(Q);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(E,T,I,V)},R.prototype.query=function(E){return typeof E!="string"&&(E=m(E)),E&&this._query.push(E),this},R.prototype.attach=function(E,T,I){if(T){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(E,T,I||T.name)}return this},R.prototype._getFormData=function(){return this._formData||(this._formData=new t.FormData),this._formData},R.prototype.callback=function(E,T){if(this._shouldRetry(E,T))return this._retry();var I=this._callback;this.clearTimeout(),E&&(this._maxRetries&&(E.retries=this._retries-1),this.emit("error",E)),I(E,T)},R.prototype.crossDomainError=function(){var E=new Error(`Request has been terminated
Possible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.`);E.crossDomain=!0,E.status=this.status,E.method=this.method,E.url=this.url,this.callback(E)},R.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},R.prototype.ca=R.prototype.agent,R.prototype.buffer=R.prototype.ca,R.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},R.prototype.pipe=R.prototype.write,R.prototype._isHost=function(E){return E&&i(E)==="object"&&!Array.isArray(E)&&Object.prototype.toString.call(E)!=="[object Object]"},R.prototype.end=function(E){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=E||p,this._finalizeQueryString(),this._end()},R.prototype._setUploadTimeout=function(){var E=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(function(){E._timeoutError("Upload timeout of ",E._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))},R.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var E=this;this.xhr=l.getXHR();var T=this.xhr,I=this._formData||this._data;this._setTimeouts(),T.onreadystatechange=function(){var K=T.readyState;if(K>=2&&E._responseTimeoutTimer&&clearTimeout(E._responseTimeoutTimer),K===4){var P;try{P=T.status}catch{P=0}if(!P)return E.timedout||E._aborted?void 0:E.crossDomainError();E.emit("end")}};var V=function(P,j){j.total>0&&(j.percent=j.loaded/j.total*100,j.percent===100&&clearTimeout(E._uploadTimeoutTimer)),j.direction=P,E.emit("progress",j)};if(this.hasListeners("progress"))try{T.addEventListener("progress",V.bind(null,"download")),T.upload&&T.upload.addEventListener("progress",V.bind(null,"upload"))}catch{}T.upload&&this._setUploadTimeout();try{this.username&&this.password?T.open(this.method,this.url,!0,this.username,this.password):T.open(this.method,this.url,!0)}catch(K){return this.callback(K)}if(this._withCredentials&&(T.withCredentials=!0),!this._formData&&this.method!=="GET"&&this.method!=="HEAD"&&typeof I!="string"&&!this._isHost(I)){var G=this._header["content-type"],Q=this._serializer||l.serialize[G?G.split(";")[0]:""];!Q&&S(G)&&(Q=l.serialize["application/json"]),Q&&(I=Q(I))}for(var k in this.header)this.header[k]!==null&&Object.prototype.hasOwnProperty.call(this.header,k)&&T.setRequestHeader(k,this.header[k]);this._responseType&&(T.responseType=this._responseType),this.emit("request",this),T.send(typeof I>"u"?null:I)},l.agent=function(){return new o},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(E){o.prototype[E.toLowerCase()]=function(T,I){var V=new l.Request(E,T);return this._setDefaults(V),I&&V.end(I),V}}),o.prototype.del=o.prototype.delete,l.get=function(E,T,I){var V=l("GET",E);return typeof T=="function"&&(I=T,T=null),T&&V.query(T),I&&V.end(I),V},l.head=function(E,T,I){var V=l("HEAD",E);return typeof T=="function"&&(I=T,T=null),T&&V.query(T),I&&V.end(I),V},l.options=function(E,T,I){var V=l("OPTIONS",E);return typeof T=="function"&&(I=T,T=null),T&&V.send(T),I&&V.end(I),V};function A(E,T,I){var V=l("DELETE",E);return typeof T=="function"&&(I=T,T=null),T&&V.send(T),I&&V.end(I),V}l.del=A,l.delete=A,l.patch=function(E,T,I){var V=l("PATCH",E);return typeof T=="function"&&(I=T,T=null),T&&V.send(T),I&&V.end(I),V},l.post=function(E,T,I){var V=l("POST",E);return typeof T=="function"&&(I=T,T=null),T&&V.send(T),I&&V.end(I),V},l.put=function(E,T,I){var V=l("PUT",E);return typeof T=="function"&&(I=T,T=null),T&&V.send(T),I&&V.end(I),V}})(client,client.exports)),client.exports}var _20180724ValidateText,hasRequired_20180724ValidateText;function require_20180724ValidateText(){return hasRequired_20180724ValidateText||(hasRequired_20180724ValidateText=1,_20180724ValidateText=function(n){return function(i){if(n==="2018")return JSON.parse(JSON.stringify(i));var t={success:i.err?"false":"true",text:i.text,textValid:i.valid?1:0};return t}}),_20180724ValidateText}var validate_text,hasRequiredValidate_text;function requireValidate_text(){if(hasRequiredValidate_text)return validate_text;hasRequiredValidate_text=1;var e=requireLodash(),n=requireAsync(),i=requirePreferences(),t=requireClient(),r=require_20180724ValidateText(),u={};validate_text=function(o){var p=o.validateTextEndpoint||"https://"+o.configureEndpoint+"/wordfilter/check";return function(g,m,y){var b=g+":"+m;if(u[b])return y(null,u[b]);if(e.isUndefined(g)||e.isUndefined(m)||e.isUndefined(y))throw new Error("Missing arguments for validateText(text, language, callback)");if(!e.isFunction(y))throw new Error("Invalid arguments for validateText(text, language, callback). callback parameter must be a function");var q={text:g,language:m,callback:y};n.auto({validateTextEndpoint:n.constant(p),fcParams:n.constant(o),options:n.constant(q),preferences:["fcParams","options",s],parameters:["preferences",h],validateText:["parameters","validateTextEndpoint",v]},function(S,x){var R=x.options.callback;if(S)return R(S);var A=r(x.fcParams.apiVersion);u[b]=A(x.validateText),R(null,u[b])})}};function s(o,p){i(p.fcParams,o)}function h(o,p){var l=p.fcParams,g={text:p.options.text,lang:p.options.language,apiKey:(l.preferences||p.preferences||{}).apiKey,workflow:l.workflow,configVersion:l.version||"irrelevant"};l.environment&&(g.environment=l.environment),o(null,g)}function v(o,p){t.get(p.validateTextEndpoint).timeout(8e3).query(p.parameters).set({Accept:"application/json","X-Api-Key":p.parameters.apiKey}).end(function(l,g){if(l)return o(l);if(g.status>=400)return o(new Error(g.text));o(null,g.body)})}return validate_text}var filter_text,hasRequiredFilter_text;function requireFilter_text(){return hasRequiredFilter_text||(hasRequiredFilter_text=1,filter_text=function(e){return function(i,t){if(!i)return"";if(!t)throw new Error("Missing caId on filterText");var r=e.vertexInstance({vertexKey:"ca:"+t}),u=r.selectedValue();return u.sanitize({text:""+i}).text}}),filter_text}var accounting={exports:{}};/*!
 * accounting.js v0.4.1
 * Copyright 2014 Open Exchange Rates
 *
 * Freely distributable under the MIT license.
 * Portions of accounting.js are inspired or borrowed from underscore.js
 *
 * Full details and documentation:
 * http://openexchangerates.github.io/accounting.js/
 */var hasRequiredAccounting;function requireAccounting(){return hasRequiredAccounting||(hasRequiredAccounting=1,(function(e,n){(function(i,t){var r={};r.version="0.4.1",r.settings={currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}};var u=Array.prototype.map,s=Array.isArray,h=Object.prototype.toString;function v(R){return!!(R===""||R&&R.charCodeAt&&R.substr)}function o(R){return s?s(R):h.call(R)==="[object Array]"}function p(R){return R&&h.call(R)==="[object Object]"}function l(R,A){var E;R=R||{},A=A||{};for(E in A)A.hasOwnProperty(E)&&R[E]==null&&(R[E]=A[E]);return R}function g(R,A,E){var T=[],I,V;if(!R)return T;if(u&&R.map===u)return R.map(A,E);for(I=0,V=R.length;I<V;I++)T[I]=A.call(E,R[I],I,R);return T}function m(R,A){return R=Math.round(Math.abs(R)),isNaN(R)?A:R}function y(R){var A=r.settings.currency.format;return typeof R=="function"&&(R=R()),v(R)&&R.match("%v")?{pos:R,neg:R.replace("-","").replace("%v","-%v"),zero:R}:!R||!R.pos||!R.pos.match("%v")?v(A)?r.settings.currency.format={pos:A,neg:A.replace("%v","-%v"),zero:A}:A:R}var b=r.unformat=r.parse=function(R,A){if(o(R))return g(R,function(I){return b(I,A)});if(R=R||0,typeof R=="number")return R;A=A||r.settings.number.decimal;var E=new RegExp("[^0-9-"+A+"]",["g"]),T=parseFloat((""+R).replace(/\((.*)\)/,"-$1").replace(E,"").replace(A,"."));return isNaN(T)?0:T},q=r.toFixed=function(R,A){A=m(A,r.settings.number.precision);var E=Math.pow(10,A);return(Math.round(r.unformat(R)*E)/E).toFixed(A)},S=r.formatNumber=r.format=function(R,A,E,T){if(o(R))return g(R,function(K){return S(K,A,E,T)});R=b(R);var I=l(p(A)?A:{precision:A,thousand:E,decimal:T},r.settings.number),V=m(I.precision),G=R<0?"-":"",Q=parseInt(q(Math.abs(R||0),V),10)+"",k=Q.length>3?Q.length%3:0;return G+(k?Q.substr(0,k)+I.thousand:"")+Q.substr(k).replace(/(\d{3})(?=\d)/g,"$1"+I.thousand)+(V?I.decimal+q(Math.abs(R),V).split(".")[1]:"")},x=r.formatMoney=function(R,A,E,T,I,V){if(o(R))return g(R,function(K){return x(K,A,E,T,I,V)});R=b(R);var G=l(p(A)?A:{symbol:A,precision:E,thousand:T,decimal:I,format:V},r.settings.currency),Q=y(G.format),k=R>0?Q.pos:R<0?Q.neg:Q.zero;return k.replace("%s",G.symbol).replace("%v",S(Math.abs(R),m(G.precision),G.thousand,G.decimal))};r.formatColumn=function(R,A,E,T,I,V){if(!R)return[];var G=l(p(A)?A:{symbol:A,precision:E,thousand:T,decimal:I,format:V},r.settings.currency),Q=y(G.format),k=Q.pos.indexOf("%s")<Q.pos.indexOf("%v"),K=0,P=g(R,function(j,M){if(o(j))return r.formatColumn(j,G);j=b(j);var O=j>0?Q.pos:j<0?Q.neg:Q.zero,L=O.replace("%s",G.symbol).replace("%v",S(Math.abs(j),m(G.precision),G.thousand,G.decimal));return L.length>K&&(K=L.length),L});return g(P,function(j,M){return v(j)&&j.length<K?k?j.replace(G.symbol,G.symbol+new Array(K-j.length+1).join(" ")):new Array(K-j.length+1).join(" ")+j:j})},e.exports&&(n=e.exports=r),n.accounting=r})()})(accounting,accounting.exports)),accounting.exports}var format_price,hasRequiredFormat_price;function requireFormat_price(){if(hasRequiredFormat_price)return format_price;hasRequiredFormat_price=1;var e=requireLodash(),n=requireAccounting(),i={currency:{symbol:"$",format:{pos:"%s%v",neg:"%s -%v",zero:"%s%v"}},number:{decimal:".",thousand:",",precision:2}};return format_price=function(t,r){var u={},s={},h=requireGet_config()(t);h(function(g,m){u=e.merge({},m.currencySettings||{},r.currencySettings||{}),s=e.merge({},m.numberFormattingSettings||{},r.numberFormattingSettings||{})});function v(g){var m=s.formats||{},y=o(m,g);return m[y]||i.number}function o(g,m){return m.numberFormat||r.numberFormat||g[r.currency]&&r.currency||g[r.locale]&&r.locale||s.default}function p(g){var m=u.symbols||{},y=g.currency||r.currency||m[r.locale]&&r.locale||u.default;return m[y]||i.currency}function l(g){return e.merge({},p(g),v(g),g)}return function(m,y){if(m=+m,!e.isNumber(m))throw new Error('api.run("formatPrice", price) Price is not a number');y=y||{};var b=l(y);return n.formatMoney(m,b)}},format_price}var set_attribute_collection={exports:{}},hasRequiredSet_attribute_collection;function requireSet_attribute_collection(){if(hasRequiredSet_attribute_collection)return set_attribute_collection.exports;hasRequiredSet_attribute_collection=1;var e=requireLodash();set_attribute_collection.exports=function(i,t){return function(){if(arguments.length===0)throw new Error("Missing arguments for setAttributeCollection(options)");var u,s=n.apply(null,arguments),h=s.ca,v=s.collection;if(!h||!v)throw u=new Error("improper options passed to setAttributeCollection. Expected: {caId: 123, collection: [123]} or {caId: 123}, [123]"),u;var o=i.product(),p=o.findAttribute(h);if(!p)throw u=new Error("You must provide a valid attribute param"),u;if(!p.hasDynamicValue())throw u=new Error("Only attributes with selectorType text or ugc work"),u;p.getDynamicAttributeValue().setCollection(v),t.trigger("change",p)}},set_attribute_collection.exports.parseOptions=n;function n(i){var t,r;return arguments.length===2?(t=arguments[0],r=arguments[1]):e.isArray(i)?(t=i[0],r=i[1]):(t=i.ca,r=i.collection),typeof t=="string"&&(t={alias:t}),i.caId&&(t={id:i.caId}),{ca:t,collection:r}}return set_attribute_collection.exports}var lunr={exports:{}};/**
 * lunr - http://lunrjs.com - A bit like Solr, but much smaller and not as bright - 0.5.7
 * Copyright (C) 2014 Oliver Nightingale
 * MIT Licensed
 * @license
 */var hasRequiredLunr;function requireLunr(){return hasRequiredLunr||(hasRequiredLunr=1,(function(e,n){(function(){var i=function(t){var r=new i.Index;return r.pipeline.add(i.trimmer,i.stopWordFilter,i.stemmer),t&&t.call(r,r),r};i.version="0.5.7";/*!
 * lunr.utils
 * Copyright (C) 2014 Oliver Nightingale
 */i.utils={},i.utils.warn=(function(t){return function(r){t.console&&console.warn&&console.warn(r)}})(this);/*!
 * lunr.EventEmitter
 * Copyright (C) 2014 Oliver Nightingale
 */i.EventEmitter=function(){this.events={}},i.EventEmitter.prototype.addListener=function(){var t=Array.prototype.slice.call(arguments),r=t.pop(),u=t;if(typeof r!="function")throw new TypeError("last argument must be a function");u.forEach(function(s){this.hasHandler(s)||(this.events[s]=[]),this.events[s].push(r)},this)},i.EventEmitter.prototype.removeListener=function(t,r){if(this.hasHandler(t)){var u=this.events[t].indexOf(r);this.events[t].splice(u,1),this.events[t].length||delete this.events[t]}},i.EventEmitter.prototype.emit=function(t){if(this.hasHandler(t)){var r=Array.prototype.slice.call(arguments,1);this.events[t].forEach(function(u){u.apply(void 0,r)})}},i.EventEmitter.prototype.hasHandler=function(t){return t in this.events};/*!
 * lunr.tokenizer
 * Copyright (C) 2014 Oliver Nightingale
 */i.tokenizer=function(t){if(!arguments.length||t==null||t==null)return[];if(Array.isArray(t))return t.map(function(s){return s.toLowerCase()});for(var r=t.toString().replace(/^\s+/,""),u=r.length-1;u>=0;u--)if(/\S/.test(r.charAt(u))){r=r.substring(0,u+1);break}return r.split(/(?:\s+|\-)/).filter(function(s){return!!s}).map(function(s){return s.toLowerCase()})};/*!
 * lunr.Pipeline
 * Copyright (C) 2014 Oliver Nightingale
 */i.Pipeline=function(){this._stack=[]},i.Pipeline.registeredFunctions={},i.Pipeline.registerFunction=function(t,r){r in this.registeredFunctions&&i.utils.warn("Overwriting existing registered function: "+r),t.label=r,i.Pipeline.registeredFunctions[t.label]=t},i.Pipeline.warnIfFunctionNotRegistered=function(t){var r=t.label&&t.label in this.registeredFunctions;r||i.utils.warn(`Function is not registered with pipeline. This may cause problems when serialising the index.
`,t)},i.Pipeline.load=function(t){var r=new i.Pipeline;return t.forEach(function(u){var s=i.Pipeline.registeredFunctions[u];if(s)r.add(s);else throw new Error("Cannot load un-registered function: "+u)}),r},i.Pipeline.prototype.add=function(){var t=Array.prototype.slice.call(arguments);t.forEach(function(r){i.Pipeline.warnIfFunctionNotRegistered(r),this._stack.push(r)},this)},i.Pipeline.prototype.after=function(t,r){i.Pipeline.warnIfFunctionNotRegistered(r);var u=this._stack.indexOf(t)+1;this._stack.splice(u,0,r)},i.Pipeline.prototype.before=function(t,r){i.Pipeline.warnIfFunctionNotRegistered(r);var u=this._stack.indexOf(t);this._stack.splice(u,0,r)},i.Pipeline.prototype.remove=function(t){var r=this._stack.indexOf(t);this._stack.splice(r,1)},i.Pipeline.prototype.run=function(t){for(var r=[],u=t.length,s=this._stack.length,h=0;h<u;h++){for(var v=t[h],o=0;o<s&&(v=this._stack[o](v,h,t),v!==void 0);o++);v!==void 0&&r.push(v)}return r},i.Pipeline.prototype.reset=function(){this._stack=[]},i.Pipeline.prototype.toJSON=function(){return this._stack.map(function(t){return i.Pipeline.warnIfFunctionNotRegistered(t),t.label})};/*!
 * lunr.Vector
 * Copyright (C) 2014 Oliver Nightingale
 */i.Vector=function(){this._magnitude=null,this.list=void 0,this.length=0},i.Vector.Node=function(t,r,u){this.idx=t,this.val=r,this.next=u},i.Vector.prototype.insert=function(t,r){var u=this.list;if(!u)return this.list=new i.Vector.Node(t,r,u),this.length++;for(var s=u,h=u.next;h!=null;){if(t<h.idx)return s.next=new i.Vector.Node(t,r,h),this.length++;s=h,h=h.next}return s.next=new i.Vector.Node(t,r,h),this.length++},i.Vector.prototype.magnitude=function(){if(this._magniture)return this._magnitude;for(var t=this.list,r=0,u;t;)u=t.val,r+=u*u,t=t.next;return this._magnitude=Math.sqrt(r)},i.Vector.prototype.dot=function(t){for(var r=this.list,u=t.list,s=0;r&&u;)r.idx<u.idx?r=r.next:(r.idx>u.idx||(s+=r.val*u.val,r=r.next),u=u.next);return s},i.Vector.prototype.similarity=function(t){return this.dot(t)/(this.magnitude()*t.magnitude())};/*!
 * lunr.SortedSet
 * Copyright (C) 2014 Oliver Nightingale
 */i.SortedSet=function(){this.length=0,this.elements=[]},i.SortedSet.load=function(t){var r=new this;return r.elements=t,r.length=t.length,r},i.SortedSet.prototype.add=function(){Array.prototype.slice.call(arguments).forEach(function(t){~this.indexOf(t)||this.elements.splice(this.locationFor(t),0,t)},this),this.length=this.elements.length},i.SortedSet.prototype.toArray=function(){return this.elements.slice()},i.SortedSet.prototype.map=function(t,r){return this.elements.map(t,r)},i.SortedSet.prototype.forEach=function(t,r){return this.elements.forEach(t,r)},i.SortedSet.prototype.indexOf=function(t,s,h){var s=s||0,h=h||this.elements.length,v=h-s,o=s+Math.floor(v/2),p=this.elements[o];if(v<=1)return p===t?o:-1;if(p<t)return this.indexOf(t,o,h);if(p>t)return this.indexOf(t,s,o);if(p===t)return o},i.SortedSet.prototype.locationFor=function(t,s,h){var s=s||0,h=h||this.elements.length,v=h-s,o=s+Math.floor(v/2),p=this.elements[o];if(v<=1){if(p>t)return o;if(p<t)return o+1}if(p<t)return this.locationFor(t,o,h);if(p>t)return this.locationFor(t,s,o)},i.SortedSet.prototype.intersect=function(t){for(var r=new i.SortedSet,u=0,s=0,h=this.length,v=t.length,o=this.elements,p=t.elements;!(u>h-1||s>v-1);){if(o[u]===p[s]){r.add(o[u]),u++,s++;continue}if(o[u]<p[s]){u++;continue}if(o[u]>p[s]){s++;continue}}return r},i.SortedSet.prototype.clone=function(){var t=new i.SortedSet;return t.elements=this.toArray(),t.length=t.elements.length,t},i.SortedSet.prototype.union=function(t){var r,u,s;return this.length>=t.length?(r=this,u=t):(r=t,u=this),s=r.clone(),s.add.apply(s,u.toArray()),s},i.SortedSet.prototype.toJSON=function(){return this.toArray()};/*!
 * lunr.Index
 * Copyright (C) 2014 Oliver Nightingale
 */i.Index=function(){this._fields=[],this._ref="id",this.pipeline=new i.Pipeline,this.documentStore=new i.Store,this.tokenStore=new i.TokenStore,this.corpusTokens=new i.SortedSet,this.eventEmitter=new i.EventEmitter,this._idfCache={},this.on("add","remove","update",(function(){this._idfCache={}}).bind(this))},i.Index.prototype.on=function(){var t=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,t)},i.Index.prototype.off=function(t,r){return this.eventEmitter.removeListener(t,r)},i.Index.load=function(t){t.version!==i.version&&i.utils.warn("version mismatch: current "+i.version+" importing "+t.version);var r=new this;return r._fields=t.fields,r._ref=t.ref,r.documentStore=i.Store.load(t.documentStore),r.tokenStore=i.TokenStore.load(t.tokenStore),r.corpusTokens=i.SortedSet.load(t.corpusTokens),r.pipeline=i.Pipeline.load(t.pipeline),r},i.Index.prototype.field=function(t,u){var u=u||{},s={name:t,boost:u.boost||1};return this._fields.push(s),this},i.Index.prototype.ref=function(t){return this._ref=t,this},i.Index.prototype.add=function(t,v){var u={},s=new i.SortedSet,h=t[this._ref],v=v===void 0?!0:v;this._fields.forEach(function(g){var m=this.pipeline.run(i.tokenizer(t[g.name]));u[g.name]=m,i.SortedSet.prototype.add.apply(s,m)},this),this.documentStore.set(h,s),i.SortedSet.prototype.add.apply(this.corpusTokens,s.toArray());for(var o=0;o<s.length;o++){var p=s.elements[o],l=this._fields.reduce(function(g,m){var y=u[m.name].length;if(!y)return g;var b=u[m.name].filter(function(q){return q===p}).length;return g+b/y*m.boost},0);this.tokenStore.add(p,{ref:h,tf:l})}v&&this.eventEmitter.emit("add",t,this)},i.Index.prototype.remove=function(t,s){var u=t[this._ref],s=s===void 0?!0:s;if(this.documentStore.has(u)){var h=this.documentStore.get(u);this.documentStore.remove(u),h.forEach(function(v){this.tokenStore.remove(v,u)},this),s&&this.eventEmitter.emit("remove",t,this)}},i.Index.prototype.update=function(t,u){var u=u===void 0?!0:u;this.remove(t,!1),this.add(t,!1),u&&this.eventEmitter.emit("update",t,this)},i.Index.prototype.idf=function(t){var r="@"+t;if(Object.prototype.hasOwnProperty.call(this._idfCache,r))return this._idfCache[r];var u=this.tokenStore.count(t),s=1;return u>0&&(s=1+Math.log(this.tokenStore.length/u)),this._idfCache[r]=s},i.Index.prototype.search=function(t){var r=this.pipeline.run(i.tokenizer(t)),u=new i.Vector,s=[],h=this._fields.reduce(function(p,l){return p+l.boost},0),v=r.some(function(p){return this.tokenStore.has(p)},this);if(!v)return[];r.forEach(function(p,l,g){var m=1/g.length*this._fields.length*h,y=this,b=this.tokenStore.expand(p).reduce(function(q,S){var x=y.corpusTokens.indexOf(S),R=y.idf(S),A=1,E=new i.SortedSet;if(S!==p){var T=Math.max(3,S.length-p.length);A=1/Math.log(T)}return x>-1&&u.insert(x,m*R*A),Object.keys(y.tokenStore.get(S)).forEach(function(I){E.add(I)}),q.union(E)},new i.SortedSet);s.push(b)},this);var o=s.reduce(function(p,l){return p.intersect(l)});return o.map(function(p){return{ref:p,score:u.similarity(this.documentVector(p))}},this).sort(function(p,l){return l.score-p.score})},i.Index.prototype.documentVector=function(t){for(var r=this.documentStore.get(t),u=r.length,s=new i.Vector,h=0;h<u;h++){var v=r.elements[h],o=this.tokenStore.get(v)[t].tf,p=this.idf(v);s.insert(this.corpusTokens.indexOf(v),o*p)}return s},i.Index.prototype.toJSON=function(){return{version:i.version,fields:this._fields,ref:this._ref,documentStore:this.documentStore.toJSON(),tokenStore:this.tokenStore.toJSON(),corpusTokens:this.corpusTokens.toJSON(),pipeline:this.pipeline.toJSON()}},i.Index.prototype.use=function(t){var r=Array.prototype.slice.call(arguments,1);r.unshift(this),t.apply(this,r)};/*!
 * lunr.Store
 * Copyright (C) 2014 Oliver Nightingale
 */i.Store=function(){this.store={},this.length=0},i.Store.load=function(t){var r=new this;return r.length=t.length,r.store=Object.keys(t.store).reduce(function(u,s){return u[s]=i.SortedSet.load(t.store[s]),u},{}),r},i.Store.prototype.set=function(t,r){this.has(t)||this.length++,this.store[t]=r},i.Store.prototype.get=function(t){return this.store[t]},i.Store.prototype.has=function(t){return t in this.store},i.Store.prototype.remove=function(t){this.has(t)&&(delete this.store[t],this.length--)},i.Store.prototype.toJSON=function(){return{store:this.store,length:this.length}};/*!
 * lunr.stemmer
 * Copyright (C) 2014 Oliver Nightingale
 * Includes code from - http://tartarus.org/~martin/PorterStemmer/js.txt
 */i.stemmer=(function(){var t={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},r={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},u="[^aeiou]",s="[aeiouy]",h=u+"[^aeiouy]*",v=s+"[aeiou]*",o="^("+h+")?"+v+h,p="^("+h+")?"+v+h+"("+v+")?$",l="^("+h+")?"+v+h+v+h,g="^("+h+")?"+s,m=new RegExp(o),y=new RegExp(l),b=new RegExp(p),q=new RegExp(g),S=/^(.+?)(ss|i)es$/,x=/^(.+?)([^s])s$/,R=/^(.+?)eed$/,A=/^(.+?)(ed|ing)$/,E=/.$/,T=/(at|bl|iz)$/,I=new RegExp("([^aeiouylsz])\\1$"),V=new RegExp("^"+h+s+"[^aeiouwxy]$"),G=/^(.+?[^aeiou])y$/,Q=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,k=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,K=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,P=/^(.+?)(s|t)(ion)$/,j=/^(.+?)e$/,M=/ll$/,O=new RegExp("^"+h+s+"[^aeiouwxy]$"),L=function(W){var X,ie,se,ae,le,Re,U;if(W.length<3)return W;if(se=W.substr(0,1),se=="y"&&(W=se.toUpperCase()+W.substr(1)),ae=S,le=x,ae.test(W)?W=W.replace(ae,"$1$2"):le.test(W)&&(W=W.replace(le,"$1$2")),ae=R,le=A,ae.test(W)){var B=ae.exec(W);ae=m,ae.test(B[1])&&(ae=E,W=W.replace(ae,""))}else if(le.test(W)){var B=le.exec(W);X=B[1],le=q,le.test(X)&&(W=X,le=T,Re=I,U=V,le.test(W)?W=W+"e":Re.test(W)?(ae=E,W=W.replace(ae,"")):U.test(W)&&(W=W+"e"))}if(ae=G,ae.test(W)){var B=ae.exec(W);X=B[1],W=X+"i"}if(ae=Q,ae.test(W)){var B=ae.exec(W);X=B[1],ie=B[2],ae=m,ae.test(X)&&(W=X+t[ie])}if(ae=k,ae.test(W)){var B=ae.exec(W);X=B[1],ie=B[2],ae=m,ae.test(X)&&(W=X+r[ie])}if(ae=K,le=P,ae.test(W)){var B=ae.exec(W);X=B[1],ae=y,ae.test(X)&&(W=X)}else if(le.test(W)){var B=le.exec(W);X=B[1]+B[2],le=y,le.test(X)&&(W=X)}if(ae=j,ae.test(W)){var B=ae.exec(W);X=B[1],ae=y,le=b,Re=O,(ae.test(X)||le.test(X)&&!Re.test(X))&&(W=X)}return ae=M,le=y,ae.test(W)&&le.test(W)&&(ae=E,W=W.replace(ae,"")),se=="y"&&(W=se.toLowerCase()+W.substr(1)),W};return L})(),i.Pipeline.registerFunction(i.stemmer,"stemmer");/*!
 * lunr.stopWordFilter
 * Copyright (C) 2014 Oliver Nightingale
 */i.stopWordFilter=function(t){if(i.stopWordFilter.stopWords.indexOf(t)===-1)return t},i.stopWordFilter.stopWords=new i.SortedSet,i.stopWordFilter.stopWords.length=119,i.stopWordFilter.stopWords.elements=["","a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"],i.Pipeline.registerFunction(i.stopWordFilter,"stopWordFilter");/*!
 * lunr.trimmer
 * Copyright (C) 2014 Oliver Nightingale
 */i.trimmer=function(t){return t.replace(/^\W+/,"").replace(/\W+$/,"")},i.Pipeline.registerFunction(i.trimmer,"trimmer");/*!
 * lunr.stemmer
 * Copyright (C) 2014 Oliver Nightingale
 * Includes code from - http://tartarus.org/~martin/PorterStemmer/js.txt
 */i.TokenStore=function(){this.root={docs:{}},this.length=0},i.TokenStore.load=function(t){var r=new this;return r.root=t.root,r.length=t.length,r},i.TokenStore.prototype.add=function(t,r,s){var s=s||this.root,h=t[0],v=t.slice(1);if(h in s||(s[h]={docs:{}}),v.length===0){s[h].docs[r.ref]=r,this.length+=1;return}else return this.add(v,r,s[h])},i.TokenStore.prototype.has=function(t){if(!t)return!1;for(var r=this.root,u=0;u<t.length;u++){if(!r[t[u]])return!1;r=r[t[u]]}return!0},i.TokenStore.prototype.getNode=function(t){if(!t)return{};for(var r=this.root,u=0;u<t.length;u++){if(!r[t[u]])return{};r=r[t[u]]}return r},i.TokenStore.prototype.get=function(t,r){return this.getNode(t,r).docs||{}},i.TokenStore.prototype.count=function(t,r){return Object.keys(this.get(t,r)).length},i.TokenStore.prototype.remove=function(t,r){if(t){for(var u=this.root,s=0;s<t.length;s++){if(!(t[s]in u))return;u=u[t[s]]}delete u.docs[r]}},i.TokenStore.prototype.expand=function(t,h){var u=this.getNode(t),s=u.docs||{},h=h||[];return Object.keys(s).length&&h.push(t),Object.keys(u).forEach(function(v){v!=="docs"&&h.concat(this.expand(t+v,h))},this),h},i.TokenStore.prototype.toJSON=function(){return{root:this.root,length:this.length}},(function(t,r){e.exports=r()})(this,function(){return i})})()})(lunr)),lunr.exports}var fluid_full_text_search,hasRequiredFluid_full_text_search;function requireFluid_full_text_search(){if(hasRequiredFluid_full_text_search)return fluid_full_text_search;hasRequiredFluid_full_text_search=1;var e=requireLodash(),n=requireLunr();fluid_full_text_search=function(t,r){var u,s={addDocument:function(v){e.isArray(v)?this.addDocuments(v):u.add(v)},addDocuments:function(v){e.each(v,function(o){u.add(o)})},search:function(v,o){var p=u.search(v).map(function(l){return l.ref});return i(null,p,o)}};if(!t||t&&!t.fields||t.fields&&e.size(t.fields)===0){var h=new Error("You must provide fields options");return i(h,null,r)}return u=n(),e.each(t.fields,function(v,o){u.field(v.name,{boost:o})}),t.ref&&u.ref(t.ref),i(null,s,r)};function i(t,r,u){if(u&&e.isFunction(u))u(t,r);else{if(t)throw t;return r}}return fluid_full_text_search}var get_full_text_search,hasRequiredGet_full_text_search;function requireGet_full_text_search(){if(hasRequiredGet_full_text_search)return get_full_text_search;hasRequiredGet_full_text_search=1;var e=requireLodash(),n=requireFluid_full_text_search(),i={fields:[{name:"engine",boost:1},{name:"customNs",boost:1},{name:"ns",boost:1},{name:"vendorId",boost:1},{name:"name",boost:1},{name:"description",boost:1},{name:"tooltip",boost:1},{name:"alias",boost:1},{name:"key",boost:1},{name:"value",boost:1}]},t=null;return get_full_text_search={getSearchIndex:function(){return t},createSearchIndex:function(r){t||(r=r||{},r=e.defaults({},r,i),n(r,function(u,s){u||(t=s)}))},addDocument:function(r,u,s){if(!t)throw new Error("You have to create the index before starting adding documents");u=e.omit(u,s||[]),u.customNs="NS"+u.ns.toUpperCase()+"NS",u.engine="CE"+r.engineId().toUpperCase()+"CE",t.addDocument(u)}},get_full_text_search}var index_configurable_attribute_metadata,hasRequiredIndex_configurable_attribute_metadata;function requireIndex_configurable_attribute_metadata(){if(hasRequiredIndex_configurable_attribute_metadata)return index_configurable_attribute_metadata;hasRequiredIndex_configurable_attribute_metadata=1;var e=requireLodash(),n=requireGet_attribute(),i=requireGet_full_text_search();return index_configurable_attribute_metadata=function(t,r){return function(s,h){s=s||{};var v=null;if(!s.attribute){h(new Error("You must provide an options.attribute param"));return}if(v=n(t,r)(s.attribute),!v){h(new Error("You must provide a valid options.attribute param"));return}i.createSearchIndex(s),e.each(v.allValues,function(o){e.each(o.metadata,function(p){i.addDocument(t,p)})}),e.each(v.valueUsages,function(o){e.each(o.metadata,function(p){i.addDocument(t,p)})}),e.each(v.metadata,function(o){i.addDocument(t,o)}),h()}},index_configurable_attribute_metadata}var index_configurable_attribute,hasRequiredIndex_configurable_attribute;function requireIndex_configurable_attribute(){if(hasRequiredIndex_configurable_attribute)return index_configurable_attribute;hasRequiredIndex_configurable_attribute=1;var e=requireLodash(),n=requireGet_attribute(),i=requireIndex_configurable_attribute_metadata(),t=requireGet_full_text_search();return index_configurable_attribute=function(r,u){return function(h,v){h=h||{};var o=null;if(!h.attribute)return v(new Error("You must provide an options.attribute param"));if(o=n(r,u)(h.attribute),!o){v(new Error("You must provide a valid options.attribute param"));return}t.createSearchIndex(h),t.addDocument(r,o,["values","allValues","facets","hiddenFacets","optionalFacets","parameterizedFacets","allFacets","subAttributes"]),e.each(o.allValues,function(p){t.addDocument(r,p,["metadata"])}),e.each(o.allFacets,function(p){t.addDocument(r,p,["facetValues"]),e.each(p.facetValues,function(l){t.addDocument(r,l)})}),i(r,u)(h,v)}},index_configurable_attribute}var index_product,hasRequiredIndex_product;function requireIndex_product(){if(hasRequiredIndex_product)return index_product;hasRequiredIndex_product=1;var e=requireLodash(),n=requireIndex_configurable_attribute(),i=requireGet_full_text_search();return index_product=function(t,r){return function(s,h){var v=r();i.createSearchIndex(s),i.addDocument(t,v,["priceConfiguration","locales","currencySettings","numberFormattingSettings","currencies","attributes","allAttributes"]),e.each(v.attributes||[],function(o){s.attribute=o.id,n(t,r)(s,function(p){if(p){h(p);return}})}),h()}},index_product}var search_in_index,hasRequiredSearch_in_index;function requireSearch_in_index(){if(hasRequiredSearch_in_index)return search_in_index;hasRequiredSearch_in_index=1;var e=requireLodash(),n=requireGet_full_text_search();return search_in_index=function(i,t){return function(u,s){var h,v;if(!u.query){s(new Error("You must provide an options.query param"));return}if(h=n.getSearchIndex(),!h){s(new Error("You have to index something before start querying"));return}v="NS"+t.toUpperCase()+"NS CE"+i.engineId().toUpperCase()+"CE "+u.query,h.search(v,function(o,p){var l,g=i.product();if(o){s(new Error("Error performing the search"));return}if(l=e.reduce(p||[],function(m,y){var b=g.vertexByKey(t+":"+y);return b&&m.push(b.toJSON()),m},[]),u.reduce){try{l=u.reduce(l)}catch{}s(null,l)}else s(null,l)})}},search_in_index}var load_recipe,hasRequiredLoad_recipe;function requireLoad_recipe(){if(hasRequiredLoad_recipe)return load_recipe;hasRequiredLoad_recipe=1;var e=requireClient(),n=requirePreferences(),i=requireLodash(),t=requireAsync(),r=requireApply_parameterized_facet_filters(),u=/[a-f0-9]+-[a-f0-9]+-[a-f0-9]+/;load_recipe=function(b,q){var S=q.skipCdn===!0,x;if(q.loadRecipeEndpoint)x=q.loadRecipeEndpoint;else{var R=q.configureEndpoint.replace(/^cdn-/,"");x="https://"+(S?"":"cdn-")+R}function A(T,I){var V=n;q.preferences&&(V=function(G,Q){return Q(null,q.preferences)}),V(q,function(G,Q){if(G)return I(G);var k=u.test(T),K=q.apiKey||Q.apiKey,P;k?P=x+"/v3/api/"+q.workflow+"/customers/"+q.customerId+"/recipes/"+T+"?apiKey="+K:P=x+"/api/recipe/"+T+"?apiKey="+K,I(null,P)})}function E(T,I,V){A(T,function(G,Q){if(G)return V(G);try{I(Q,function(k,K){if(k)return V(k);V(null,K)})}catch(k){return V(k)}})}return function(I,V,G){if(G||(G=V,V={}),!G||typeof G!="function")throw new Error("loadRecipe expects a callback");if(!g(I))return G(new Error("load_recipe: Invalid recipeId provided"));var Q=p(q,V);E(I,Q,function(k,K){if(k){s({err:k,id:I},G);return}try{var P=b.recipe(!1);P.start();var j=v(K);j?P.legacySet("verbose",j):P.set(K),r(q,b);var M=P.validate();if(M){h({recipe:P,invalidRecipe:M,recipeDoc:K},G);return}V.skipSettingAsDefault||P.saveAsDefault(),P.commit(),P.trigger("load",P.getData(),K),G(null,K)}catch(O){return k=new Error("Failed loading recipe "+I+" ("+JSON.stringify(K.configuration,null,2)+"). Got error: "+O.message+". Please check your recipe loaded event listeners"),P.rollback(),G(k)}})}};function s(y,b){var q=y.err,S=y.id;if(q.status&&q.status!==200){var x=new Error("Recipe "+S+" not found. Got status code: "+q.status);return x.fcErrorType="recipe:notFound",x.fcErrorDetails=q.message,x.status=q.status,b(x)}return b(q)}function h(y,b){var q=y.recipeDoc,S=y.recipe,x=y.invalidRecipe,R=new Error("Invalid recipe. Please check the docs on https://prod.fluidconfigure.com/static/code/configure-ui/stable/docs/index.html#methods-loadrecipe-handling-invalid-recipes");R.fcErrorType="recipe:invalid",R.fcErrorDetails=JSON.parse(JSON.stringify(x)),R.fcErrorDetails.fallbackRecipe=x.fallbackRecipe.map(function(A){return{ca:JSON.parse(JSON.stringify(A.ca)),av:A.av}}),R.fcErrorDetails.recipeDocument=q,S.once("change",function(){y.skipSettingAsDefault||S.saveAsDefault(),S.commit(),S.trigger("load",S.getData())}),b(R,q)}function v(y){var b=y.configurable_attributes;if(b)return b=m(b),b}var o;function p(y,b){return b.recipeLoader||y.recipeLoader||o}function l(y,b){e.get(y).end(function(q,S){if(q)return b(q);if(S.status>=400)return b(new Error("couldn't load recipe: "+S.error));b(null,S.body)})}function g(y){return+y>0||u.test(y)}o=t.memoize(l);function m(y){return i.reduce(i.keys(y),function(b,q){return i.contains(q,"shadow")||(b[q]=y[q]),b},{})}return load_recipe}var reset_recipe,hasRequiredReset_recipe;function requireReset_recipe(){if(hasRequiredReset_recipe)return reset_recipe;hasRequiredReset_recipe=1;var e=requireLodash();return reset_recipe=function(n){return function(t){if(!t||t&&!e.isFunction(t))throw new Error("Invalid arguments for resetRecipe(callback)");var r=n.recipe();r.reset(),t()}},reset_recipe}var get_error,hasRequiredGet_error;function requireGet_error(){if(hasRequiredGet_error)return get_error;hasRequiredGet_error=1;var e=requireLodash();return get_error=function(i){return function(r){return r&&(e.isString(r)&&(r=new Error(r)),r.message&&(r.message=i+" failed with error: "+r.message)),r}},get_error}var utils$1,hasRequiredUtils$1;function requireUtils$1(){if(hasRequiredUtils$1)return utils$1;hasRequiredUtils$1=1;var e=requireLodash(),n=requirePreferences();utils$1={getProductQuantity:o,getLocale:p,getConfigVersion:v,beforeSaveHook:u,afterSaveHook:s,getHasTimedOutFunction:g,getData:t,getPreferences:i};function i(m,y){if(y.preferences)return m(null,y.preferences);n(y,function(b,q){b&&(b.message="Failed getting preferences with error: "+b.message),m(b,q)})}function t(m,y,b){var q=y.fcParams,S=y.preferences,x,R=e.defaults({},e.pick(q,["licenseeKey","baseUrl","workflow","productId","customerId","environment","apiKey"]));R.licenseeKey=R.licenseeKey||q.licenseeKey||S.licenseeKey,R.licenseeKey||(x=new Error("saveRecipe failed. Missing licenseeKey"),console.warn(x)),r(R,b),m(null,R)}function r(m,y){var b=y("product");b&&(m.itemNumbers={product:b})}function u(m,y){y.hasTimedOut()||h("beforeSave",y.customerData,m)}function s(m,y){y.hasTimedOut()||h("afterSave",y.customerData,m)}function h(m,y,b){var q=y[m],S;if(!q)return b();if(!e.isFunction(q))return b(new Error("options."+m+" is not a function"));if(q.length===0)return b(new Error("Missing callback on options."+m+" option"));try{q(b)}catch(x){S="Uncaught exception when calling saveRecipe options."+m+"(). Got error: "+x.message,b(new Error(S))}}function v(m,y){y.getConfig("configVersion",function(q,S){m(q,S)})}function o(m,y){return m.quantity||y.getQuantity()||1}function p(m,y,b){var q=y.preferences.locales,S=b.locale||q.default,x;l(q.available,S)||(x=new Error("Can't save recipe without a valid locale.")),m(x,S)}function l(m,y){return m.indexOf(y)!==-1}function g(m,y){var b=new Date().getTime(),q,S=function(){return q};if(!y.customerData.timeout)return m(null,S);setTimeout(function(){if(!y.broadcastSuccess){var x=new Date().getTime(),R=x-b;if(R>=+y.customerData.timeout){if(q=new Error("saveRecipe: timeout after "+R+"ms. Exceeded options.timeout of "+y.customerData.timeout+"ms"),e.isFunction(y.customerData.onTimeout))try{y.customerData.onTimeout(q)}catch{}y.done(q)}}},+y.customerData.timeout+50),m(null,S)}return utils$1}var v3_steps,hasRequiredV3_steps;function requireV3_steps(){if(hasRequiredV3_steps)return v3_steps;hasRequiredV3_steps=1;var e=requireLodash(),n=requireClient(),i=/(\d+)$/,t=requireUtils$1().getProductQuantity;v3_steps={getPerformPostRecipeFunction:s,getRecipeResourceUrl:u,selectionRecipe:h,recipeData:v,postRecipeData:o};function r(l,g,m){return g+(m?"?apiKey="+m:"")}function u(l,g,m){var y=l.apiKey||m.preferences.apiKey;return"/"+l.workflow+"/customers/"+l.customerId+"/recipes/"+g+"?apiKey="+y+"&format=custom&ca=alias"}function s(l,g,m){l(null,g.customerData.recipeV3Poster||m.recipeV3Poster||p)}function h(l,g,m,y){var b;if(!l.customerData.stripPersonalization)b=m("save",!0);else{var q=g.recipe();q.start(),q.removePersonalValues(),b=m("save",!0),q.rollback()}y(null,b)}function v(l,g,m){var y=g.data,b=g.customerData,q={workflow:y.workflow,productId:+i.exec(e.get(y,"productId",y.productId))[1],customerId:y.customerId,environment:y.environment,selection:g.selectionRecipe,quantity:t(b,m),price:{total:m.getPrice(),currency:m.getCurrency()},savePurpose:b.purpose||"other",configVersion:g.configVersion};l(null,q)}function o(l,g){if(!g.hasTimedOut()){var m="TODO",y={},b=g.recipeV3Data;g.recipeV1Data&&(y.recipeV1Id=g.recipeV1SaveResponse.id,b.metadata=y);var q="Failed posting recipe, got error: ";try{var S=g.performV3PostFunction;S(r(b.workflow,m,g.preferences.apiKey),b,l)}catch(x){l(new Error(q+x.message))}}}function p(l,g,m){n.post(l).send(g).end(function(y,b){if(y)return m(y);var q=b.body;q?q.recipeId||(y=new Error("Server response does not include recipe id")):y=new Error("Empty response body"),m(y,q)},function(b){m(b)})}return v3_steps}var v1_steps,hasRequiredV1_steps;function requireV1_steps(){if(hasRequiredV1_steps)return v1_steps;hasRequiredV1_steps=1;var e={},n=requireLodash(),i=["recipePoster","recipeV3Poster","stripPersonalization","images","purpose","eventBus","uiSettings","beforeSave","afterSave","timeout","onTimeout","catalogs","catalog"],t={productQuantities:{product:"1"},customerData:{isOnCatalog:!1,recipeName:""}},r=e.FLUID_PUBLISHED_DATA_ENV||"prod",u=/(\d+)$/,s=requireClient(),h="http://fluid-configure-published.s3.amazonaws.com/",v=requireUtils$1().getProductQuantity;v1_steps={recipeData:l,getPerformPostRecipeFunction:p,postRecipeData:b,getRecipeResourceUrl:y,computeDefaults:g,conciseRecipe:o};function o(S,x,R,A){var E;if(!S.customerData.stripPersonalization)E=R("legacyConcise");else{var T=x.recipe();T.start(),T.removePersonalValues(),E=R("legacyConcise"),T.rollback()}A(null,E)}function p(S,x,R){var A=x.preferences.apiKey;function E(I,V,G){s.post(I).send(V).type("json").set("X-Api-Key",A).set("Accept","application/json").end(function(Q,k){if(Q){var K=n.get(Q,"response.body.message",Q.message);return G(new Error("Couldn't save recipe: "+K))}G(null,JSON.parse(JSON.stringify(k.body)))})}var T=x.customerData.recipePoster||R.recipePoster||E;S(null,T)}function l(S,x){var R=x.customerData,A=n.merge(x.data,t,x.computedDefaults,{customerData:n.omit(R,i)});try{A.customerData=JSON.stringify(A.customerData)}catch(E){return S(new Error("Failed serializing saveRecipe POST Data. Got error: "+E.message))}R.images&&(A.imagesUrl=R.images),R.purpose&&(A.purpose=R.purpose),A.apiVersion=x.apiVersion,S(null,A)}function g(S,x,R,A){var E=x.data,T=x.customerData||{};if(!x.hasTimedOut()){var I=u.exec(n.get(R,"product",R.productId))[1],V={locale:x.locale,apiKey:x.preferences.apiKey,licenseeKey:x.preferences.licenseeKey,productId:"p_"+I,conciseRecipe:x.conciseRecipe,configVersion:x.configVersion,productQuantities:{product:""+v(T,A)},price:T.price||A.getPrice(),baseUrl:q(E),customerData:n.defaults({FC_LOCALE:x.locale,FC_CREATION_DATE:new Date().toISOString().replace(/\.[0-9]{3}/,""),recipeName:""},x.beforeSaveHook||{})};m(V,T),S(null,V)}}function m(S,x){x.catalogs&&(S.catalogs=x.catalogs),(S.catalogs||x.catalog)&&(S.customerData.isOnCatalog=!0)}function y(S,x,R){var A=S.apiKey||R.preferences.apiKey;return"https://cdn-"+S.configureEndpoint+"/api/recipe/"+x+(A?"?apiKey="+A:"")}function b(S,x){var R=x.recipeV1Data;if(R.recipeSelection=x.selectionRecipe,!x.hasTimedOut()){if(!R)return S();var A="Failed posting recipe, got error: ";try{var E=x.performV1PostFunction,T=x.saveEndpoint;E(T,R,function(I,V){!I&&!V?I=new Error("Empty response body"):!I&&!V.id&&(I=new Error("Server response does not include recipe id")),I&&(I=new Error(A+I.message)),S(I,V)})}catch(I){S(new Error(A+I.message))}}}function q(S){return h+encodeURIComponent(S.environment||r)+"/"+encodeURIComponent(S.workflow||"prod")}return v1_steps}var get_item_number,hasRequiredGet_item_number;function requireGet_item_number(){if(hasRequiredGet_item_number)return get_item_number;hasRequiredGet_item_number=1;var e=requireLodash(),n=/([^_]+)__f([^_]+)$/;get_item_number=function(t){return function(u){u=u||"product";var s=t.product(),h=t.recipe(),v=e.get(s.getData(),"itemNumbers."+u,{}),o=e.get(v,"order",[]),p=v.values;return!p||o.length===0?"":e.reduce(o,function(l,g){l=(l||{})[g];var m,y,b;if(l)return m=s.attributeById(g.match(n)[1]),y=h.getValue(m),b=i(l,y),b&&l["fv"+b.id]},p)}};function i(t,r){return e.first(e.filter(r.facetValues(),function(u){return t["fv"+u.id]}))}return get_item_number}var save_recipe$1,hasRequiredSave_recipe$1;function requireSave_recipe$1(){if(hasRequiredSave_recipe$1)return save_recipe$1;hasRequiredSave_recipe$1=1;var e=requireLodash(),n=requireAsync(),i=requireGet_error()("saveRecipe"),t=requireUtils$1(),r=requireV3_steps(),u=requireV1_steps();return save_recipe$1=function(s,h,v){var o=requireGet_recipe()(s),p=requireGet_item_number()(s);function l(V,G){if(G||(G=V,V={}),!G||typeof G!="function")throw new Error("saveRecipe expects a callback");var Q={done:function(k){k(null,G)},customerData:n.constant(V),fcParams:n.constant(h),saveEndpoint:x,hasTimedOut:["customerData","done",t.getHasTimedOutFunction],preferences:m,locale:["preferences",q],data:["preferences","fcParams",y],apiVersion:["preferences",S],beforeSaveHook:["hasTimedOut","customerData",t.beforeSaveHook],conciseRecipe:["customerData",R],selectionRecipe:["customerData",T],configVersion:b,computedDefaults:["hasTimedOut","conciseRecipe","preferences","locale","data","configVersion","beforeSaveHook","customerData",g],recipeV1Data:["computedDefaults","apiVersion","data","customerData","preferences",u.recipeData],performV1PostFunction:["hasTimedOut","customerData","preferences",A],recipeV1SaveResponse:["hasTimedOut","computedDefaults","recipeV1Data","saveEndpoint","performV1PostFunction","selectionRecipe",E],afterSaveHook:["hasTimedOut","customerData","recipeV1SaveResponse",t.afterSaveHook],broadcastSuccess:["hasTimedOut","recipeV1SaveResponse","preferences","afterSaveHook",I]};n.auto(Q,function(k,K){e.defer(function(){var P=K&&K.broadcastSuccess;K.hasTimedOut()||(k=i(k),G(k,P))})})}function g(V,G){u.computeDefaults(V,G,h,v)}function m(V){t.getPreferences(V,h)}function y(V,G){t.getData(V,G,p)}function b(V){t.getConfigVersion(V,v)}function q(V,G){t.getLocale(V,G,h)}function S(V,G){V(null,h.apiVersion||G.preferences.apiVersion||"2012")}function x(V){V(null,"https://"+h.configureEndpoint+"/v1/api/recipe/")}function R(V,G){u.conciseRecipe(G,s,o,V)}function A(V,G){u.getPerformPostRecipeFunction(V,G,h)}function E(V,G){u.postRecipeData(V,G)}function T(V,G){r.selectionRecipe(G,s,o,V)}function I(V,G){if(!G.hasTimedOut()){var Q,k,K,P=G.apiVersion;try{k=G.recipeV1SaveResponse.id,K=u.getRecipeResourceUrl(h,k,G);var j={id:k,resource:K,apiVersion:P};v.trigger("recipe:saved",j)}catch(M){Q=new Error("recipe:saved callback thrown the following exception: "+M.message)}V(Q,j)}}return l},save_recipe$1}var save_recipe,hasRequiredSave_recipe;function requireSave_recipe(){return hasRequiredSave_recipe||(hasRequiredSave_recipe=1,save_recipe=requireSave_recipe$1()),save_recipe}var set_recipe,hasRequiredSet_recipe;function requireSet_recipe(){if(hasRequiredSet_recipe)return set_recipe;hasRequiredSet_recipe=1;var e=requireLodash();return set_recipe=function(n,i){var t=requireSelect_value()(n,null,i);return function(u,s){if(!u||!s||s&&!e.isFunction(s))throw new Error("Invalid arguments for setRecipe(changes, callback)");var h=n.recipe();h.once("change",function(v){s(null,JSON.parse(JSON.stringify(v)))});try{h.start(),e.each(u,function(v){t.call(null,v)}),h.commit()}catch(v){try{h.rollback()}catch{}return s(v)}}},set_recipe}var update_recipe,hasRequiredUpdate_recipe;function requireUpdate_recipe(){if(hasRequiredUpdate_recipe)return update_recipe;hasRequiredUpdate_recipe=1;var e=requireLodash();return update_recipe=function(n,i){var t=requireSelect_value()(n,null,i,null,!0);return function(u,s){var h;if(!u||!s||s&&!e.isFunction(s))throw new Error("Invalid arguments for updateRecipe(changes, callback)");h=n.recipe(),h.once("change",v);try{h.start(),e.each(u,function(o){var p=function(l){if(l)return s({message:""+l,caId:o.caId,avId:o.avId})};t.call(null,o,p)}),h.commit()}catch(o){try{h.rollback()}catch{}return h.off("change",v),s(o)}function v(o){s(null,JSON.parse(JSON.stringify(o)))}}},update_recipe}var set_fallback_recipe,hasRequiredSet_fallback_recipe;function requireSet_fallback_recipe(){if(hasRequiredSet_fallback_recipe)return set_fallback_recipe;hasRequiredSet_fallback_recipe=1;var e=requireLodash(),n=requireSelect_value();return set_fallback_recipe=function(i,t){var r,u=n(i,null,t,!0);return r=function(s,h){var v;if(!s||!h||h&&!e.isFunction(h))throw new Error("Invalid arguments for setFallbackRecipe(changes, callback)");v=i.recipe(),v.once("change",function(o){h(null,JSON.parse(JSON.stringify(o)))});try{v.start(),e.each(s,function(o){u.call(null,o)}),v.commit()}catch(o){try{v.rollback()}catch{}return h(o)}},r},set_fallback_recipe}var randomize_recipe,hasRequiredRandomize_recipe;function requireRandomize_recipe(){if(hasRequiredRandomize_recipe)return randomize_recipe;hasRequiredRandomize_recipe=1;var e=requireLodash(),n=e.compose(JSON.parse,JSON.stringify);return randomize_recipe=function(i){return function(r){if(!r||r&&!e.isFunction(r))throw new Error("Invalid arguments for randomizeRecipe(callback)");var u=i.recipe(),s=i.product(),h=s.allAttributes();u.once("change",function(v){v=n(v),u.trigger("randomize",v),r(null,v)}),u.start(),e.each(h,function(v){v.hasSelector()&&u.setOne(v,e.sample(v.allValues()))}),u.commit()}},randomize_recipe}var get_session_id,hasRequiredGet_session_id;function requireGet_session_id(){return hasRequiredGet_session_id||(hasRequiredGet_session_id=1,get_session_id=function(e){return e.engineId}),get_session_id}var get_price,hasRequiredGet_price;function requireGet_price(){if(hasRequiredGet_price)return get_price;hasRequiredGet_price=1;var e=requireAccounting(),n={symbol:"$",format:{pos:"%s%v",neg:"%s -%v",zero:"%s%v"},decimal:".",thousand:",",precision:2},i=requireLodash();get_price=function(r,u,s){return function(v){v=v||{},v.quantity=v.quantity||s()||1;var o=r.recipe(),p=v.currency||u.currency,l=o.price(p)*+v.quantity;return v.format&&(l=e.formatMoney(l,t(u,v,r))),l}};function t(r,u,s){var h=u.currency||r.currency,v=r.currencySettings||u.currencySettings,o=v||{};if(!v)try{o=s.product().currencySettings(h)}catch{}return i.defaults({},o,n)}return get_price}var get_webgl_model_lod,hasRequiredGet_webgl_model_lod;function requireGet_webgl_model_lod(){return hasRequiredGet_webgl_model_lod||(hasRequiredGet_webgl_model_lod=1,get_webgl_model_lod=function(e){var n=e.product();return function(t){var r=n.webGlModelLods(t);if(!r||!r.length)throw new Error("getWebGlModelLod could not find a WebGl model LOD matching "+JSON.stringify(t)+". Available model LODs are: "+n.webGlModelLods().map(function(s){return s.getData().fileName+"_"+s.getData().qualityType}).join(", "));var u=r[0];return Object.freeze(Object.assign({},u.getData(),{webGlModelId:u.webGlModel()&&u.webGlModel().id}))}}),get_webgl_model_lod}var get_webgl_model_lods,hasRequiredGet_webgl_model_lods;function requireGet_webgl_model_lods(){if(hasRequiredGet_webgl_model_lods)return get_webgl_model_lods;hasRequiredGet_webgl_model_lods=1;var e=requireLodash(),n=requireUtil().validateFilter;return get_webgl_model_lods=function(i){var t=i.product();return function(s){return s=s||{},r(s),t.webGlModelLods(s.filter).map(function(h){return Object.freeze(Object.assign({},h.getData(),{webGlModelId:h.webGlModel()&&h.webGlModel().id}))})};function r(u){if(!e.isPlainObject(u))throw new Error("getWebGlModelLods options should be an Object");n(u.filter)}},get_webgl_model_lods}var get_webgl_model_resolutions,hasRequiredGet_webgl_model_resolutions;function requireGet_webgl_model_resolutions(){return hasRequiredGet_webgl_model_resolutions||(hasRequiredGet_webgl_model_resolutions=1,get_webgl_model_resolutions=function(e){var n=e.product();return function(t){return n.webGlLodResolutions(t&&t.filter).map(function(r){return Object.freeze(Object.assign({},r.getData()))})}}),get_webgl_model_resolutions}var get_webgl_loading_strategies,hasRequiredGet_webgl_loading_strategies;function requireGet_webgl_loading_strategies(){if(hasRequiredGet_webgl_loading_strategies)return get_webgl_loading_strategies;hasRequiredGet_webgl_loading_strategies=1;var e=requireLodash(),n=requireUtil().validateFilter;return get_webgl_loading_strategies=function(i){return function(r){return r&&r.filter&&n(r.filter),e.filter(i().webGlLoadingStrategies,r&&r.filter)}},get_webgl_loading_strategies}var get_webgl_model,hasRequiredGet_webgl_model;function requireGet_webgl_model(){return hasRequiredGet_webgl_model||(hasRequiredGet_webgl_model=1,get_webgl_model=function(e,n){var i=e.product();return function(r){var u=i.findWebGlModel(r);if(!u)throw new Error("getWebGlModel could not find a WebGl model matching "+JSON.stringify(r)+". Available WebGl model are: "+i.webGlModels().join(", "));return n().webGlModels[u.id]}}),get_webgl_model}var get_webgl_models,hasRequiredGet_webgl_models;function requireGet_webgl_models(){if(hasRequiredGet_webgl_models)return get_webgl_models;hasRequiredGet_webgl_models=1;var e=requireLodash(),n=requireUtil().validateFilter;return get_webgl_models=function(i){return function(u){var s;return u=u||{},t(u),s=Object.values(i().webGlModels),u.filter&&e.filter(s,u.filter)||s};function t(r){if(!e.isPlainObject(r))throw new Error("getWebGlModels options should be an Object");n(r.filter)}},get_webgl_models}var get_webgl_material,hasRequiredGet_webgl_material;function requireGet_webgl_material(){return hasRequiredGet_webgl_material||(hasRequiredGet_webgl_material=1,get_webgl_material=function(e,n){var i=e.product();return function(r){var u=i.findWebGlMaterial(r);if(!u)throw new Error("getWebGlMaterial could not find a WebGl material matching "+JSON.stringify(r)+". Available WebGl material are: "+i.webGlMaterials().join(", "));return n().webGlMaterials[u.id]}}),get_webgl_material}var get_webgl_materials,hasRequiredGet_webgl_materials;function requireGet_webgl_materials(){if(hasRequiredGet_webgl_materials)return get_webgl_materials;hasRequiredGet_webgl_materials=1;var e=requireLodash(),n=requireUtil().validateFilter;return get_webgl_materials=function(i){return function(u){var s;return u=u||{},t(u),s=Object.values(i().webGlMaterials),u.filter&&e.filter(s,u.filter)||s};function t(r){if(!e.isPlainObject(r))throw new Error("getWebGlMaterials options should be an Object");n(r.filter)}},get_webgl_materials}var get_webgl_extra_settings,hasRequiredGet_webgl_extra_settings;function requireGet_webgl_extra_settings(){return hasRequiredGet_webgl_extra_settings||(hasRequiredGet_webgl_extra_settings=1,get_webgl_extra_settings=function(e){var n=e.product();return function(){return n.hasWebGlExtraSettings()?n.getWebGlExtraSettings():null}}),get_webgl_extra_settings}var api,hasRequiredApi;function requireApi(){if(hasRequiredApi)return api;hasRequiredApi=1;var e=requireEventify(),n=requireLodash(),i=requireClone_changes(),t=requireCreate_product_json(),r=requireUpdate_attribute_json(),u=requireUpdate_visibility_json(),s=requireApply_parameterized_facet_filters(),h=requireSet_environment_params();function v(o){var p=o&&o[0]&&o[0].ca;if(p&&p.viewName)return p.viewName()}return api=function(p,l){var g=h(p),m,y,b={},q=l.recipe(!g.skipSettingRecipeAsDefault),S={cas:{},facets:{}};s(g,l);var x=requireGet_currency()(g,l);try{y=t(l,x())}catch(G){throw G.message="Failed creating product JSON on the configure-core. Got error "+G.message,G}var R=1,A={};e.enable(A);function E(){return y}function T(G){return G.forEach(function(Q){Q.facets&&Q.facets.length?n.map(Q.facets,function(k){y=r(l,y,Q,[k],S)}):y=r(l,y,Q,[],S)}),y=u(l,y),G}function I(G){n.each(G,function(Q){y=r(l,y,Q,[Q.f],S)}),y=u(l,y)}return A.on("change",function(Q){y=r(l,y,{ca:Q},[],S)}),q.on("change",function(Q){Q=T(Q),b.trigger("recipe:change",i(Q),{viewName:v(Q)})}),q.on("reset",function(Q){var k;S.cas={},S.facets={},S.reset=!0,Q=T(Q),S.reset=!1,k=v(Q)||y.defaultViewName,Q=i(Q),b.trigger("recipe:reset",Q,{viewName:k}),Q.length>0&&b.trigger("recipe:change",Q,{viewName:k})}),q.on("change:facet",function(G){I(G),b.trigger("facet:change",i(G))}),q.on("load",function(G,Q){T(G),b.trigger("recipe:loaded",i(G),Q)}),q.on("randomize",function(G){b.trigger("recipe:randomize",G)}),m={getFcParams:function(){return p},getConfig:requireGet_config()(l),getProduct:function(){return y},getBrowserData:requireGet_browser_data()(),isWebGl:function(){return y.isWebGl},analytics:requireAnalytics()(l,g),getAttribute:requireGet_attribute()(l,E),getAttributes:requireGet_attributes()(l,E),getRecipe:requireGet_recipe()(l,E),getCustomerReport:requireGet_customer_report()(l,g),selectValue:requireSelect_value()(l,S,b),previewValue:requirePreview_value()(l,b),selectFacetValue:requireSelect_facet_value()(l,S),getProductFacetsDetails:requireGet_product_facets_details()(l),getUpcharges:requireGet_upcharges()(l,b),getCurrency:x,validateText:requireValidate_text()(g),filterText:requireFilter_text()(l),formatPrice:requireFormat_price()(l,g),_setAttributeCollection:requireSet_attribute_collection()(l,A),_indexProduct:requireIndex_product()(l,E),_indexConfigurableAttribute:requireIndex_configurable_attribute()(l,E),_indexConfigurableAttributeMetadata:requireIndex_configurable_attribute_metadata()(l,E),_searchProduct:requireSearch_in_index()(l,"p"),_searchConfigurableAttribute:requireSearch_in_index()(l,"ca"),_searchAttributeValue:requireSearch_in_index()(l,"av"),_searchFacetValue:requireSearch_in_index()(l,"fv"),_searchMetadata:requireSearch_in_index()(l,"md"),loadRecipe:requireLoad_recipe()(l,g),resetRecipe:requireReset_recipe()(l),saveRecipe:requireSave_recipe()(l,g,b),setRecipe:requireSet_recipe()(l,b),updateRecipe:requireUpdate_recipe()(l,b),setFallbackRecipe:requireSet_fallback_recipe()(l,b),randomizeRecipe:requireRandomize_recipe()(l),_getItemNumber:requireGet_item_number()(l),_getSessionId:requireGet_session_id()(l),getQuantity:V,setQuantity:function(G){if(typeof G>"u"||typeof G!="number")throw new Error("Invalid arguments for setQuantity(number)");R=+G,b.trigger("quantity",G)},getPrice:requireGet_price()(l,g,V),getWebGlModelLod:requireGet_webgl_model_lod()(l,E),getWebGlModelLods:requireGet_webgl_model_lods()(l),getWebGlModelResolutions:requireGet_webgl_model_resolutions()(l),getWebGlLoadingStrategies:requireGet_webgl_loading_strategies()(E),getWebGlModel:requireGet_webgl_model()(l,E),getWebGlModels:requireGet_webgl_models()(E),getWebGlMaterial:requireGet_webgl_material()(l,E),getWebGlMaterials:requireGet_webgl_materials()(E),getWebGlExtraSettings:requireGet_webgl_extra_settings()(l),destroy:function(G){try{b.off(),l.destroy()}catch(Q){if(G)return G(Q)}G&&n.defer(G)},_explain:function(G){return l.explain(G)}},n.extend(b,m),e.enable(b),b;function V(){return R}},api}var createId2IxsMap,hasRequiredCreateId2IxsMap;function requireCreateId2IxsMap(){return hasRequiredCreateId2IxsMap||(hasRequiredCreateId2IxsMap=1,createId2IxsMap=function(n,i,t){var r=t?1:0;return(n||[]).reduce(function(u,s){var h=i[s[r]],v=u[h.id];return v||(v=[],u[h.id]=v),v.push(s[1-r]),u},{})}),createId2IxsMap}var createAvId2CaObjMap,hasRequiredCreateAvId2CaObjMap;function requireCreateAvId2CaObjMap(){return hasRequiredCreateAvId2CaObjMap||(hasRequiredCreateAvId2CaObjMap=1,createAvId2CaObjMap=function(n,i){return(n||[]).reduce(function(t,r){var u=i[r[1]],s=i[r[0]];return t[u.id]=t[u.id]||[],t[u.id].push(s),t},{})}),createAvId2CaObjMap}var product_overrides,hasRequiredProduct_overrides;function requireProduct_overrides(){if(hasRequiredProduct_overrides)return product_overrides;hasRequiredProduct_overrides=1,product_overrides=t;var e=requireLodash(),n=requireCreateId2IxsMap(),i=requireCreateAvId2CaObjMap();function t(M,O){O.debug,m(M,e.get(O,"values",{})),M.vertices[0].renderInactive=e.get(O,"renderInactive",!1)}var r,u,s,h,v,o,p,l,g;function m(M,O){var L=e.get(M,"edgeGroups.hasValueUsage",[]),N=e.get(M,"edgeGroups.usesValue",[]);o=e.get(M,"edgeGroups.upcharges",[]),p=e.get(M,"edgeGroups.hasAttributeValue",[]),l=e.get(M,"vertices[0].currencySettings.default","USD"),g=M.vertices,r=n(N,g,!0),u=n(o,g),s=n(L,g),v=i(p,g),h=b(g),y(O),r=null,u=null,s=null,h=null}function y(M){for(var O=Object.keys(M),L=O.length,N=0;N<L;N=N+1){var W=O[N],X=M[W].valueUsages;if(X){var ie=h[W];if(ie)for(var se=Object.keys(X),ae=se.length,le=0;le<ae;le=le+1)q(se[le],X,ie)}}}function b(M){for(var O={},L=!1,N=M.length,W=null,X=0;X<N;X+=1)if(W=M[X],W.ns==="av")O[W.vendorId]=O[W.vendorId]||[],O[W.vendorId].push(W),L=!0;else if(L)break;return O}function q(M,O,L){var N=O[M],W=A(M,L);S(W,N,M)}function S(M,O,L){var N=e.has(O,"active");if(N&&R(M,O.active),e.has(O,"upcharge")){var W={vus:M,valueId:L,upchargesRelations:o,upcharge:O.upcharge};N&&(W.active=O.active),x(W)}}function x(M){if(!e.has(M,"active")||e.has(M,"active")&&M.active){var O=M.vus,L=M.upchargesRelations;L&&I(O,M.upcharge)}}function R(M,O){O=O===!0||O==="true",M.map(function(L){L&&L.active!==O&&(L.active=O)})}function A(M,O){var L=O.map(function(N){var W=E(N,M);if(W.length>0)return W;var X=P(M,N);return X.length>0?X.map(function(ie){return K(ie,N)}):[]});return e.flattenDeep(L)}function E(M,O){var L=r[M.id]||[];return L.reduce(function(N,W){var X=g[W];return X.vendorId+""==O+""&&(X.idx=W,N.push(X)),N},[])}function T(M){var O=M.currency,L=M.vu,N={id:"uccOverride"+M.vu.id+M.ucIdx+O,ns:"uc"};N[O]=M.value,g.push(N),e.remove(o,function(W){return W[0]===L.idx&&W[1]===M.ucIdx}),o.push([L.idx,g.length-1])}function I(M,O){var L=M.filter(function(le){return le}),N=e.isPlainObject(O),W=[],X=0;N&&(W=Object.keys(O),X=W.length);for(var ie=L.length,se=null,ae=0;ae<ie;ae=ae+1)se=L[ae],V({upcharge:O,vu:se,upchageKeys:W,isUpchageObject:N,upchageKeysLength:X})}function V(M){for(var O=M.upcharge,L=M.vu,N=M.upchageKeys,W=M.isUpchageObject,X=M.upchageKeysLength,ie=u[L.id]||[],se=0;se<ie.length;se=se+1)G({vu:L,uc:g[ie[se]],idx:ie[se],upcharge:O,upchageKeys:N,upchageKeysLength:X,isUpchageObject:W})}function G(M){var O=g[M.idx];M.isUpchageObject?Q(M):k({previousUpcharge:O[l],newUpcharge:M.upcharge,vu:M.vu,currency:l,idx:M.idx})}function Q(M){for(var O=M.vu,L=M.uc,N=M.idx,W=M.upcharge,X=M.upchageKeys,ie=M.upchageKeysLength,se=0;se<ie;se=se+1){var ae=X[se],le=W[ae];k({previousUpcharge:L[ae],newUpcharge:le,vu:O,currency:ae,idx:N})}}function k(M){var O=+M.newUpcharge;M.previousUpcharge!==O&&T({vu:M.vu,currency:M.currency,ucIdx:M.idx,value:O})}function K(M,O){var L,N;return L=s[M.id]||[],N=r[O.id]||[],e.intersection(L,N).map(function(W){var X=g[W];return X.idx=W,X})}function P(M,O){var L=v[O.id],N=L.filter(function(W){return j(W,M)});return N}function j(M,O){return M.vendorId===O||M.alias===O||M.id===O}return product_overrides}var base_urls,hasRequiredBase_urls;function requireBase_urls(){if(hasRequiredBase_urls)return base_urls;hasRequiredBase_urls=1;var e=requireLodash();return base_urls=function(i,t){var r;e.each(e.where(t.vertices,{ns:"av"}),function(u){r=i.productBaseUrl,u.clipArtImageUrl&&(r=i.customerBaseUrl,u.clipArtImageUrl=r+u.clipArtImageUrl),u.tooltipImage&&(u.tooltipImage=r+u.tooltipImage),u.url&&(u.url=r+u.url)})},base_urls}var graph_modifications,hasRequiredGraph_modifications;function requireGraph_modifications(){if(hasRequiredGraph_modifications)return graph_modifications;hasRequiredGraph_modifications=1;var e=requireProduct_overrides(),n=requireBase_urls(),i=requireLodash();return graph_modifications=function(r,u){n(r,u),r.productOverrides&&i.size(r.productOverrides)&&e(u,r.productOverrides)},graph_modifications}var configuration_engine={exports:{}},context={exports:{}},traverser_1,hasRequiredTraverser;function requireTraverser(){if(hasRequiredTraverser)return traverser_1;hasRequiredTraverser=1;var e=requireLodash(),n,i=0,t=1,r=2,u="incomingVertices",s="outgoingVertices";function h(l,g,m,y){var b=l[g][y];return function q(S,x){if(!x)return S;var R=x.vertexKey||x.getVertexKey(),A=b[R];if(!A)return S;var E,T,I;for(E=0,T=A.length;T>E;E+=1)I=l.vertices[A[E]],S.push(I),m&&(S=q(S,I));return S}}function v(l,g,m){var y=m.vertices.length,b,q,S=m.direction||s,x=0;if(!l[S][g])return 0;for(b=0;y>b;b+=1)q=m.vertices[b].vertexKey||m.vertices[b].getVertexKey&&m.vertices[b].getVertexKey(),x+=(l[S][g][q]||{}).length||0;return x}function o(l){var g,m=l.graph,y=l.context,b={},q={},S={},x={};return e.each(m().edgeGroups,function(R,A){b[A]=h(m(),u,!1,A),q[A]=h(m(),u,!0,A),S[A]=h(m(),s,!1,A),x[A]=h(m(),s,!0,A)}),g=function(R){R=R||{},this.vertices=R.vertices,R.vertexKey&&this.setVertexKey(R.vertexKey)},g.prototype={outgoing:function(R,A){var E=(A?x:S)[R];return E?(this.vertices=this.vertices.reduce(E,[]),this):(this.vertices=[],this)},incoming:function(R,A){var E=(A?q:b)[R];return E?(this.vertices=this.vertices.reduce(E,[]),this):(this.vertices=[],this)},where:function(R){return!R||Object.keys(R).length===0?this.set([]):(R&&R.id&&R.ns&&(R={id:R.id,ns:R.ns}),this.vertices=e.where(this.vertices.map(p),R),this)},reduce:function(R,A){return this.vertices=this.vertices.reduce(R,A||[]),this},set:function(R){return this.vertices=R,this},setVertexKey:function(R){var A=m().vertexIndex[R];return this.vertices=[A],this},expand:function(){return this.vertices=this.vertices.map(p),this},sortBy:function(R,A){return this.vertices=e.sortByAll(this.vertices,R,A),this},filter:function(R){return this.vertices=this.vertices.filter(R),this},unique:function(){return this.vertices=e.uniq(this.vertices),this},reverse:function(){return this.vertices=this.vertices.reverse(),this},getVertexByKey:function(R){var A=m(),E=A.vertexIndex[R];if(!E)throw new Error("Could not find vertex "+R+". Make sure it's available in the product configuration.");return y.vertexInstance(E)},map:function(R){return this.vertices=this.vertices.map(R),this.vertices},first:function(){return this.vertices[0]},explain:function(){return this.vertices.map(function(R){var A={},E=R.vertexKey||R;return A[E]={vertex:R,outgoing:e.map(e.where(m().edges,{0:E}),n),incoming:e.map(e.where(m().edges,{1:E}),n)},A},this)},all:function(R){return this.expand(),R=R||{},R.instances?this.map(y.vertexInstance):this.vertices},outgoingSize:function(R){return v(m(),R,{vertices:this.vertices,direction:"outgoingVertices"})},incomingSize:function(R){return v(m(),R,{vertices:this.vertices,direction:"incomingVertices"})},instances:function(){return this.vertices.map(y.vertexInstance)},instance:function(){var R=this.first();return R?y.vertexInstance(R):null},toArray:function(){return this.all()},toJSON:function(){return this.all()}},g}n=function(l){var g={};return l[i]+" "+l[r]+" "+l[t]+(e.size(g)>0?" with properties "+JSON.stringify(g):"")};function p(l){return l.vertexKey?l:l.getData()}return traverser_1=o,traverser_1}var expander,hasRequiredExpander;function requireExpander(){if(hasRequiredExpander)return expander;hasRequiredExpander=1;var e={},n=requireLodash(),i=1,t=0,r=1;return expander=function(u){if(u.version)return u;u.version=i,i+=1;var s=new Array(u.vertices.length);u.vertexIndex={},u.vertexNsIndex={};var h=u.vertices.length,v,o,p;for(o=0;h>o;o=1+o)v=u.vertices[o],p=v.ns+":"+v.id,v.vertexKey=p,u.vertexIndex[p]=v,u.vertexNsIndex[v.ns]=!0,s[o]=p;return u.edges=[],u.outgoingVertices={},u.incomingVertices={},n.each(u.edgeGroups,function(l,g){u.outgoingVertices[g]={},u.incomingVertices[g]={}}),n.each(u.edgeGroups,function(g,m){for(var y=0,b=g.length,q,S,x,R=u.outgoingVertices[m],A=u.incomingVertices[m];b>y;y+=1)q=g[y],S=s[q[t]],x=s[q[r]],R[S]===void 0&&(R[S]=[]),R[S].push(q[r]),A[x]===void 0&&(A[x]=[]),A[x].push(q[t]),u.edges.push([S,x,m])}),e.FREEZE_GRAPH&&require$$1$1(u),u},expander}var get_verbose_recipe={exports:{}},hasRequiredGet_verbose_recipe;function requireGet_verbose_recipe(){if(hasRequiredGet_verbose_recipe)return get_verbose_recipe.exports;hasRequiredGet_verbose_recipe=1;var e=requireLodash();function n(r,u){var s="p_"+r.id,h=[],v=u.parentAttributes().concat(u);return e.each(v,function(o){h.push(s+"_ca_"+o.getData().id)}),h.join(".")}function i(r,u,s){var h={},v={},o=[];return e.each(r.getData(),function(p){var l=p.ca,g=p.av,m=n(u,l);o.push(m),l.hasDynamicValue()?v[m]=t(l,g):g&&(g.isVirtual(l)?v[m]="av_ca_"+l.getData().id+"_av"+g.id:v[m]="av"+(g.id||g))}),o.sort(),e.each(o,function(p){h[p]=v[p]}),s&&u.allAttributes().map(function(p){return n(u,p)}).forEach(function(p){typeof h[p]>"u"&&(h[p]="-")}),h}get_verbose_recipe.exports=function(r,u){return i(r,u,!1)},get_verbose_recipe.exports.getVerboseByProduct=function(r,u){return i(r,u,!0)};function t(r,u){return u?u.data||u:r.getDynamicAttributeValue().getData()}return get_verbose_recipe.exports}var common={},hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common;hasRequiredCommon=1;var e=/(\d+)$/;return common.RE_LAST_NUMBERS=e,common}var get_sorted_verbose_attributes,hasRequiredGet_sorted_verbose_attributes;function requireGet_sorted_verbose_attributes(){if(hasRequiredGet_sorted_verbose_attributes)return get_sorted_verbose_attributes;hasRequiredGet_sorted_verbose_attributes=1;var e=requireLodash();return get_sorted_verbose_attributes=function(i){var t="p_"+i.id,r=[];return e.each(i.allAttributes(),function(u){var s=[],h,v=u.parentAttributes().concat(u);e.each(v,function(o){s.push(t+"_ca_"+o.getData().id)}),h=s.join("."),r.push(h)}),r.sort(),r},get_sorted_verbose_attributes}var get_concise_recipe,hasRequiredGet_concise_recipe;function requireGet_concise_recipe(){if(hasRequiredGet_concise_recipe)return get_concise_recipe;hasRequiredGet_concise_recipe=1;var e=requireLodash(),n=requireCommon().RE_LAST_NUMBERS,i=requireGet_sorted_verbose_attributes();return get_concise_recipe=function(r,u){var s=i(u),h=r.legacy("verbose"),v;return v=e.reduce(s,function(o,p){var l=p.match(n)[1],g=u.attributeById(+l),m,y,b=g&&g.getData()||{};return b.isShadow?o.push(0):h[p]?g.hasDynamicValue()?(y=h[p].data||h[p],o.push(JSON.stringify(y))):(m=h[p].match(n)[1],o.push(e.indexOf(e.pluck(g.legacyUnsortedValues(),"id"),+m))):o.push(-1),o},[]),v.join(",")},get_concise_recipe}var convert_verbose_recipe,hasRequiredConvert_verbose_recipe;function requireConvert_verbose_recipe(){if(hasRequiredConvert_verbose_recipe)return convert_verbose_recipe;hasRequiredConvert_verbose_recipe=1;var e=requireLodash(),n=requireCommon().RE_LAST_NUMBERS;convert_verbose_recipe=function(u,s){function h(o){return s.attributeById(+n.exec(o)[1])}function v(o,p,l,g){if(o.hasDynamicValue()){var m=o.getDynamicAttributeValue();i(l,o,m),g.changes.push([o.id,m])}else{var y=n.exec(l);y?g.changes.push([o,+y[1]]):(g.exceptions.push(new Error("Failed converting verbose recipe "+JSON.stringify(u)+" ca "+o+" with av "+JSON.stringify(l))+" and ca info "+JSON.stringify(t(s,p),null,2)),g.changes.push([o,l]))}}return e.reduce(u,function(o,p,l){var g;if(p==="-"||!l||p==="av_shadow_value")return o;try{g=h(l)}catch{const y=new Error("Failed converting verbose recipe "+JSON.stringify(u)+" ca "+l+" does not exist");return console.log(y),o.exceptions.push(y),o}try{v(g,l,p,o)}catch(m){o.changes.push([g,p]),o.exceptions.push(m)}return o},{changes:[],exceptions:[]})};function i(r,u,s){e.isString(r)?u.getData().allowUGC?s.setData({clipArt:r}):u.isClipartEditor()?s.setData({clipArt:r,images:[]}):s.setData({text:r}):s.setData(r)}function t(r,u){try{return r.attributeById(+n.exec(u)[1]).explain()}catch{return" not available for "+u}}return convert_verbose_recipe}var convert_concise_recipe,hasRequiredConvert_concise_recipe;function requireConvert_concise_recipe(){if(hasRequiredConvert_concise_recipe)return convert_concise_recipe;hasRequiredConvert_concise_recipe=1;var e=requireLodash(),n=requireCommon().RE_LAST_NUMBERS,i=requireGet_sorted_verbose_attributes();return convert_concise_recipe=function(r,u){if(!r||!r.length||typeof r!="string")throw new Error("recipe.setFromConcise concise recipe is not valid");var s=r.split(","),h=i(u),v=[],o=e.reduce(h,function(p,l,g){var m=+l.match(n)[1],y=u.attributeById(m),b=s[g];if(b==="-1")return p;if(b==="0"){var q=y.selectableValues().sort(function(A,E){return A.id-E.id})[0];p.push([m,q])}else if(y.hasDynamicValue())try{var S=JSON.parse(b);p.push([m,S])}catch{var x=new Error("Failed converting concise recipe "+r+" ca "+y+" with av "+b+". Cannot parse dynamic value");v.push(x)}else{var R=e.pluck(y.legacyUnsortedValues(),"id")[b];if(R)p.push([m,+R]);else{var x=new Error("Failed converting concise recipe "+r+" ca "+y+" with av "+b+". Av not found");v.push(x)}}return p},[]);return{changes:o,exceptions:v}},convert_concise_recipe}var search,hasRequiredSearch;function requireSearch(){if(hasRequiredSearch)return search;hasRequiredSearch=1;var e=requireLodash();function n(v,o){try{var p=e.keys(o);return e.reduce(v,function(l,g){var m=g.getData(),y=e.pick(m,p);return l.push(e.size(y)>0?y:m),l},[])}catch{return"Sorry no tips available"}}function i(v){if(v&&v.getVertexKey)return v}function t(v,o){var p=i(v)||o.findAttribute(v||{});if(!p)throw new Error("Could not find attribute to set with the following options "+JSON.stringify(v)+`.

[tip] You might want to try with:

`+JSON.stringify(n(o.allAttributes(),v)));return p}function r(v,o){var p=i(o)||v.findSelectableValue(o||{});return!p&&v.hasDynamicValue()?v.getDynamicAttributeValue():p}function u(v,o,p){var l=r(v,o);if(!l&&p===!0&&(l=r(v,v.defaultValue())||v.selectableValues()[0]),!l)throw new Error("Could not find attribute value to set with the following options "+JSON.stringify(o)+`.

[tip] You might want to try with:

`+JSON.stringify(n(v.selectableValues(),o)));return l}function s(v,o){var p=v.findFacetValue?v:o.findFacet(v);return p}function h(v,o,p){var l=v.attributeValues?v:o.findFacetValue(v);if(!l)throw new Error("Could not find facet value with the following options "+JSON.stringify(v)+`.

[tip] You might want to try with:

`+JSON.stringify(n(o.selectableFacetValues(p),v)));return l}return search={ca:t,av:u,f:s,fv:h},search}var utils={},hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils;hasRequiredUtils=1;var e=/([\uD800-\uDBFF][\uDC00-\uDFFF]|.|[\000-\031])/;function n(i,t){return t%2!==0}return utils.multibyteSplit=function(i){return i.split(e).filter(n)},utils}var dynamic_attribute_value,hasRequiredDynamic_attribute_value;function requireDynamic_attribute_value(){if(hasRequiredDynamic_attribute_value)return dynamic_attribute_value;hasRequiredDynamic_attribute_value=1;var e=requireLodash(),n,i=requireUtils();n=function(p,l){var g=p.getData();g.containsText?l=l||{text:""}:p.getData().type==="ugcClipArt"?l=l||{clipArt:""}:p.isClipartEditor()&&(l=l||{clipArt:"",images:[]}),this.collection=[],this.data=l,this.ca=p},n.prototype={setData:function(o){if(o.ca||o.collection)throw new Error("You can't set a data.ca or data.collection on as a dynamic attribute data");return this.validate(o)},validate:function(o){var p=!1,l=this.sanitize(o||this.data);return JSON.stringify(this.data)!==JSON.stringify(l)&&(this.data=l,p=!0),!p},sanitize:function(o){var p=this.ca,l=p.getData();if(l.containsText&&o&&o.text){var g=r(p,""+o.text);return{text:g}}return o},setCollection:function(o){this.collection=o},getCollection:function(){return this.collection},getData:function(){return this.data},toJSON:function(){return this.getData()},toString:function(){var o=this.data&&e.pick(this.getData()||{},["text","clipArt"]);return"[dav:"+JSON.stringify(o||e.keys(this.data||{}))+"]"}};function t(o,p,l){var g=i.multibyteSplit(o);return e.reduce(g,function(m,y){return(p.fontUrl||!p.characters||p.characters[y]||l&&y.match(/[\n\r]/))&&(m+=y),m},"")}function r(o,p){var l,g=v(o.fontAttribute()),m=o.getData();return m.automaticCapitalization&&(p=p.toUpperCase()),p=t(p,g,m.multiline),l=u(p,g,m),h(p,l)}function u(o,p,l){if(l.multiline)return l.maxLength;var g=s(i.multibyteSplit(o||""),p,l.maxWidth,l.maxLength);return g||l.maxLength}function s(o,p,l,g){var m=p.characters||{},y=p.letterSpacing||0,b,q=0,S;for(b=0;o.length>b&&g>b;b+=1)if(S=o[b],q+=(m[S]&&m[S].width||0)+(b<o.length-1?y:0),q>l)return b;return 0}function h(o,p){var l=i.multibyteSplit(o);return l.length>p?l.slice(0,p).join(""):o}function v(o){if(!o)return{};var p=o.activeValues(),l=p&&p[0];return o.selectedValue()&&e.includes(o.selectableValues(),o.selectedValue())&&(l=o.selectedValue()),l.getData().textConfig}return dynamic_attribute_value=n,dynamic_attribute_value}var recipe$1,hasRequiredRecipe$1;function requireRecipe$1(){if(hasRequiredRecipe$1)return recipe$1;hasRequiredRecipe$1=1;var e=requireLodash();return recipe$1=function(i){var t=i.getData(),r=i.context().recipeData,u={selected:{},unselected:{},concise:i.legacy("concise")},s=function(o){var p=o&&o.getData(),l=p&&(o&&o.getVertexKey&&o.getVertexKey()||o&&o.getData&&o.getData());return{name:p.name,vertexKey:p.vertexKey,vendorId:p.vendorId,value:l}},h=function(o){var p=o.getData();return{name:p.name,vertexKey:p.vertexKey,alias:p.alias}},v=function(o,p,l){o[p.getVertexKey()]={ca:h(p),av:s(l)}};return e.each(r,function(o){var p=e.find(t,function(l){return o.ca===l.ca});p?v(u.selected,p.ca,p.av):v(u.unselected,o.ca,o.av)}),u},recipe$1}var price,hasRequiredPrice;function requirePrice(){if(hasRequiredPrice)return price;hasRequiredPrice=1;var e=requireLodash();function n(i,t,r,u){var s=[],h,v,o;return e.each(i.getData(),function(p){h=p.ca,v=p.av,h.hasDynamicValue()?o=JSON.stringify(v.getData()):o=v.getData().vertexKey+" - "+v.getData().name,s.push({"Attribute Name":h.getData().vertexKey+" - "+h.getData().name,"Value Name":o,Upcharge:u(h,v,r),"Upcharge From":h.valueUsageForValue(v)?"Value Usage":"Attribute Value"})}),s.push({"Attribute Name":"---","Value Name":"---",Upcharge:"---","Upcharge From":"---"},{"Attribute Name":"Product","Value Name":"---",Upcharge:t.price(r),"Upcharge From":"---"},{"Attribute Name":"---","Value Name":"---",Upcharge:"---","Upcharge From":"---"},{"Attribute Name":"Total","Value Name":"---",Upcharge:i.price(r),"Upcharge From":"---"}),s}return price=n,price}var recipe,hasRequiredRecipe;function requireRecipe(){if(hasRequiredRecipe)return recipe;hasRequiredRecipe=1;var e=requireLodash(),n=requireEventify(),i={verbose:requireGet_verbose_recipe(),concise:requireGet_concise_recipe(),verboseByProduct:requireGet_verbose_recipe().getVerboseByProduct},t={verbose:requireConvert_verbose_recipe(),concise:requireConvert_concise_recipe()},r=requireSearch(),u=requireDynamic_attribute_value(),s=requireRecipe$1(),h=requirePrice(),v,o,p,l,g,m,y,b;recipe=function(k,K){if(!(k&&k.context.product))throw new Error("No context available on the recipe. engineId: "+K);var P,j=k.context.product;return P=function(){n.enable(this),this.defaultRecipe=[],this._defaultFilters={}},P.prototype.toString=function(){return"[Recipe]"},P.prototype.context=function(){return k.context},P.prototype.set=function(M,O){if(!M||!M.length)throw new Error("recipe.set expects an array with [{ca: ca, av: av}] pairs");var L;return this._transacting||(L=!0,this.start()),g(this,M,O),j().updateSympatheticFilters(),L&&this.commit(),this},P.prototype.saveAsDefault=function(){var M=this.getData(),O=e.map(M,function(L){return L.ca.hasDynamicValue()?{ca:L.ca,av:new u(L.ca,e.get(L,"av.data"))}:L});return G(j()),this.defaultRecipe=O,this._defaultFilters=JSON.stringify(this.context().recipeFilters),this},P.prototype.reset=function(){var M=this.context(),O=e.values(M.recipeData),L=e.clone(this.defaultRecipe),N=JSON.parse(JSON.stringify(M.recipeFilters));this.defaultRecipe={},b(this,JSON.parse(this._defaultFilters)),this.set(L),this.setDefault();var W=Q(M,N,M.recipeFilters),X=I(O,L,M.recipeData).concat(W);return this.trigger("reset",X),this},P.prototype.setOne=function(M,O,L,N){var W,X,ie,se,ae,le,Re=!1;this._transacting||(se=!0,this.start());try{W=r.ca(M,j()),X=r.av(W,O,L),W.hasDynamicValue()&&O&&(ie=W.getDynamicAttributeValue(),ie.setData(O.data||O)||(this.notify([{ca:W,av:O}]),le=!0),Re=!0),ae=o(this,W,X),N&&!(le||ae)&&this.notify([{ca:W,av:O,updated:!1}])}catch(U){throw this._transacting&&this.rollback(),U}return se&&(Re||A(this),this.commit()),this},P.prototype.setDefault=function(){if(this.hasDefaultSet())return this.reset();var M={},O={};function L(se){var ae=e.union(se.masterFilterAttributes(),se.masterSympatheticMatchAttributes());return e.all(ae,function(le){if(le.selectedValue())return!0;var Re=M[le.id];return M[le.id]=!0,Re})}function N(se){if(!(W[se.id]&&W[se.id].av)){if(!L(se)){ie.push(se);return}se.setDefaultValue(),O[se.id]=O[se.id]?O[se.id]+=1:1;var ae=(se.slaveAttributes()||[]).filter(function(le){return O[le.id]<=le.masterAttributes().length});ie=ie.concat(ae)}}this.start();try{var W=this.context().recipeData,X=j().nonSympatheticSlaveAttributes(),ie=[];for(e.each(X,N);ie.length>0;)N(ie.shift()),ie=e.uniq(ie);G(j()),this.commit(),this.saveAsDefault()}catch(se){throw this.rollback(),se}return this},P.prototype.getValue=function(M){var O=this.context().recipeData[M.id]||{};return O.av},P.prototype.start=function(){var M=this._transacting;return this._transacting=!0,M||(this._previousData=JSON.stringify(this.toArray(!0)),this._previousFilters=JSON.stringify(this.context().recipeFilters),this._trasactionQueue=[],this._facetTrasactionQueue=[]),this},P.prototype.commit=function(){return this._transacting&&(this._transacting=!1,this.notifyFacet(),this.notify(),this._trasactionQueue=[],this._facetTrasactionQueue=[]),this},P.prototype.rollback=function(){return this._transacting&&(this._rollingBack=!0,g(this,JSON.parse(this._previousData)),b(this,JSON.parse(this._previousFilters)),this._rollingBack=!1,this._trasactionQueue=[],this._facetTrasactionQueue=[],this._transacting=!1),this},P.prototype.notify=function(M){try{var O=[];if(this._transacting){this._trasactionQueue=this._trasactionQueue.concat(M);return}O=M||this._trasactionQueue,O.length>0&&(this._rollingBack||this.trigger("change",E(O),E(this._facetTrasactionQueue)))}catch(L){throw this._transacting&&this.rollback(),L}return this},P.prototype.notifyFacet=function(M){try{var O=[];if(this._transacting){this._facetTrasactionQueue=this._facetTrasactionQueue.concat(M);return}O=M||this._facetTrasactionQueue,O.length>0&&(this._rollingBack||this.trigger("change:facet",E(O)))}catch(L){throw this._transacting&&this.rollback(),L}return this},P.prototype.toHash=function(M,O){return m(this.getData(),M,O)},P.prototype.toJSON=function(){return this.getData()},P.prototype.toArray=function(M){return e.reduce(this.getData(M),function(O,L){return L.ca&&L.av&&O.push([L.ca&&L.ca.id||L.ca,L.av&&L.av.id||L.av]),O},[])},P.prototype.getData=function(M){return e.filter(this.context().recipeData,function(O){return O.ca&&(M||O.ca.isVisible())})},P.prototype.price=function(M){return M=M||j().defaultCurrency(),e.reduce(this.getData(),function(O,L){return L.av?O+y(L.ca,L.av,M):O},j().price(M))},P.prototype.prices=function(){var M=this;return j().availableCurrencies().reduce(function(O,L){return O[L]=M.price(L),O},{})},P.prototype.explainPrice=function(M){return M=M||j().defaultCurrency(),h(this,j(),M,y)},P.prototype.destroy=function(){this.off()},P.prototype.legacy=function(M){if(!i[M])throw new Error("recipe.legacy('"+M+"') does not exist");return i[M](this,j())},P.prototype.legacySet=function(M,O,L){var N=this;if(!t[M])throw new Error("recipe.legacySet('"+M+"') does not exist");var W=j(),X=t[M](O,W);this.set(X.changes);var ie;L||(ie=this.validate());var se=e.omit(X,"changes");return(se.exceptions.length>0||ie)&&N.trigger("invalid",e.merge(se,ie||{})),this},P.prototype.validate=function(){var M=T(this);if(M.unavailable.length>0)return M},P.prototype.setFacet=function(M,O,L){var N=r.ca(M,j()),W=r.f(O,N),X;return!L||L.id===-1||L.name==="All"?X=null:X=r.fv(L,W,N),N.selectFacetValue(W,X),this},P.prototype.hasDefaultSet=function(){return this.defaultRecipe&&this.defaultRecipe.length>0},P.prototype.explain=function(){return s(this)},P.prototype.removePersonalValues=function(M){var O=this;function L(X){var ie;X.hasDynamicValue()?ie=new u(X):ie=X.defaultValue(),O.setOne(X,ie)}function N(X,ie){return X&&X.getData()&&X.getData().isPersonal?(M||L(X),!0):X.masterAttributes().length>0?e.some(X.masterAttributes(),function(se){return ie&&ie.id===se.id?!1:N(se,X)}):!1}var W=e.filter(this.getData(),function(X){return!N(X.ca)});return e.difference(this.getData(),W)},P};function q(k,K){var P=e.map(K,"id"),j=k.length;return e.sortBy(k,function(M){var O=M[0]&&M[0].id?M[0].id:M[0],L=P.indexOf(O);return L===-1?j:L})}v=function(K,P,j){return p(K,P,j)?(K.notify([{ca:P,av:j}]),!0):!1},o=function k(K,P,j,M){var O;M=M||{},O=v(K,P,j);var L=j instanceof u;M[P.id]=M[P.id]||0,M[P.id]+=1,e.each(P.slaveAttributes(),function(ie){var se=K.getValue(ie);if(!se&&!K.hasDefaultSet())return O;ie.updateSympatheticFilters(),M[ie.id]=M[ie.id]||0;var ae=ie.masterSympatheticMatchAttributes().length||1;M[ie.id]<ae&&W(ie,se)});function N(ie,se){return se&&e.any(ie.selectableValues(),function(ae){return se.id===ae.id})}function W(ie,se){var ae;!L&&!N(ie,se)?(ae=ie.defaultValue(),k(K,ie,ae,M)):X(ie)}function X(ie){if(j&&(L||ie.findSelectableValue({id:j.id,active:!0})))if(!ie.hasSympatheticFilters())k(K,ie,j,M);else{var se=ie.masterAttributes().length||0;se>1&&se>=M[ie.id]&&k(K,ie,j,M)}}return O},p=function(K,P,j,M){var O,L=K.context(),N=!1;if(P=S(L,P),O=x(L,j),M===!0&&!O&&j&&(O=r.av(P,{alias:j.alias},!0)),l(P,O)){var W=R(O);O=P.getDynamicAttributeValue(),N=!O.setData(W)}return L.recipeData[P.id]&&L.recipeData[P.id].av===O||(N=!0,P.updateSympatheticFilters(),L.recipeData[P.id]={ca:P,av:O},K._rollingBack||P.updateSympatheticMatchRelations(O),P.updateFacetsFromValue(),K._rollingBack||P.updateVisibilityRuleWatchers(),v(K,P,O)),N};function S(k,K){return e.isNumber(K)?k.vertexInstance({ns:"ca",id:K,vertexKey:"ca:"+K}):K}function x(k,K){return e.isNumber(K)?k.vertexInstance({ns:"av",id:K,vertexKey:"av:"+K}):K}g=function(K,P,j){var M=K.context(),O=M.product();O.unsetDynamicCaDefaults(),M.recipeData={},M.setDefaultRecipeFilters(),e.each(q(P,O.allAttributes()),function(L){var N=L.ca||L[0],W=L.av||L[1];N=S(M,N),p(K,N,W,j)})},m=function(K,P,j){return P=P||"vertexKey",e.reduce(K||[],function(M,O){var L=O.ca,N=L.getData(),W=N[P],X,ie;if(W){if(X=O.av,!X)return M;if(L.hasDynamicValue())X=X.getData();else if(j){if(ie=X.getData(),!ie)return M;X=ie[j]}M[W]=X}return M},{})},y=function(K,P,j){return K.hasDynamicValue()?0:P.getUpchargeFor(K,j)},b=function(K,P){K.context().recipeFilters=P},l=function(K,P){var j=R(P);return K.hasDynamicValue()&&(e.has(j,"text")||e.has(j,"clipArt"))};function R(k){var K=k;return k instanceof u&&(K=k.getData()),K}function A(k){var K=k.context(),P=K.product(),j=P.getTextAttributes();e.each(j,function(M){var O=M.getDynamicAttributeValue();O.validate()||k.notify([{ca:M,av:O.getData()}])})}function E(k){return e.sortBy(e.uniq(k),function(K){return(K.ca||K.f).id})}function T(k){var K=k.getData(),P=e.reduce(K,function(j,M){var O=M.ca;if(!O.hasDynamicValue()){var L=M.av;if(!L||!L.id||!O.findSelectableValue({id:L.id})){j.unavailable.push({ca:O,av:L});var N=O.defaultValue();return N&&(j.replacements.push({ca:O,av:N}),j.fallbackRecipe.push({ca:O,av:N})),j}}return j.fallbackRecipe.push(M),j},{unavailable:[],replacements:[],fallbackRecipe:[]});return P}function I(k,K,P){return E(e.reduce(k.concat(K),function(j,M){var O=M.ca&&M.ca.id,L=e.find(P,function(X){return X.ca&&X.ca.id===O});if(L)V(L,M)&&j.push(L);else if(M.ca.hasDynamicValue()){var N=M.ca.selectedValue(),W=new u(M.ca);N+""!=W+""&&j.push({ca:M.ca,av:W})}return j},[]))}function V(k,K){if(k.ca.hasDynamicValue()){if(K.av+""!=k.av+"")return!0}else if(K.av!==k.av)return!0;return!1}function G(k){e.each(k.allAttributes(),function(K){var P=K.selectedValue();P||K.setDefaultValue()})}function Q(k,K,P){return e.reduce(K,function(j,M,O){var L=P[O];if(!L)return j;var N=e.uniq(e.keys(e.get(L,"selectedFacetMatchFilters",{})).concat(e.keys(e.get(L,"selectedFacetExcludeFilters",{}))).map(Number)),W=e.uniq(e.keys(e.get(M,"selectedFacetMatchFilters",{})).concat(e.keys(e.get(L,"selectedFacetExcludeFilters",{}))).map(Number)),X=W.filter(function(ae){return N.indexOf(ae)===-1}).map(function(ae){return k.vertexInstance({ns:"f",id:ae,vertexKey:"f:"+ae})});if(X.length){var ie=k.vertexInstance({ns:"ca",id:O,vertexKey:"ca:"+O}),se=ie.getSelectedOrDefaultValue();j.push({ca:ie,av:se,facets:X})}return j},[])}return recipe}var base,hasRequiredBase;function requireBase(){if(hasRequiredBase)return base;hasRequiredBase=1;var e=requireLodash(),n=function(i){if(i=i||{},i.context&&i.context.BaseModel)return i.context.BaseModel;i.context=i.context||requireContext()(i);var t=i.context,r=t.createTraverser(),u;return u=function(s){this.id=s.id},u.prototype={getVertexKey:function(){return this.ns+":"+this.id},getData:function(){return this.traverser().first()},toString:function(){var s=this.getData()||{};return"["+(this.ns+":"+this.id+" "+(s.alias||s.name||"")).trim()+"]"},clone:function(){var s=this.getData();if(s)return JSON.parse(JSON.stringify(s))},toJSON:function(){return this.clone()},explain:function(){var s=this.traverser().explain()[0];if(s)return s[this.getVertexKey()];throw new Error("Could not explain relationships for `"+this.getVertexKey()+"` as it was not found on the graph.")},traverser:function(s){return s?r.set(s):r.setVertexKey(this.getVertexKey()),r},find:function(s){if(s=s||{},!s.relationship)throw new Error("You must supply a valid relationship");return s.direction=s.direction||"outgoing",s.query=s.query||{},s.options=s.options||{},this.traverser()[s.direction](s.relationship,!!s.recursive).where(s.query)},getAndCache:function(s,h){return t.getAndCache(this,s,h)},ns:null,getNs:function(){return this.ns},product:function(){return t.product()},recipe:function(){return t.recipe()},hasMetadata:function(){var s=this.metadata();return s&&s.length>0},metadata:function(){var s=this.traverser().outgoing("hasMetadata").instances();return s}},t.BaseModel=u,u.extend=function(s,h){var v=h||function(o){u.call(this,o)};return v.prototype=Object.create(u.prototype),e.merge(v.prototype,s),v},u};return base=n,base}var attribute_value,hasRequiredAttribute_value;function requireAttribute_value(){if(hasRequiredAttribute_value)return attribute_value;hasRequiredAttribute_value=1;var e=requireLodash();return attribute_value=function(n){var i=requireBase()(n);return i.extend({ns:"av",facetValues:function(){return this.getAndCache("facetValues",function(){return this.traverser().outgoing("hasFacetValue").sortBy("order","desc").instances()})},facetValuesForFacet:function(t){var r=t.id||t;return this.getAndCache("fvsfor"+r,function(){var u=this.traverser().outgoing("hasFacetValue").instances();return e.filter(u,function(s){return s.facet().id===r})})},hasFacetValue:function(t,r){return r?e.some(this.facetValuesForFacet(t),function(u){return u.id===r.id}):!1},isVirtual:function(t){return this.traverser().incoming("hasVirtualAttributeValue").where({id:t.id||t}).all().length>0},upcharge:function(t){return this.getAndCache("upcharge"+t,function(){var r=this.upcharges();return r?r[t]:0})},upcharges:function(){var t=this.traverser().outgoing("upcharges").instance();return t?t.getData():0},getUpchargeFor:function(t,r){var u,s;return t.hasDynamicValue()?0:(s=t.valueUsageForValue(this),s&&(u=s.upchargeFor(this,r)),u==null&&(u=this.upcharge(r)||0),u)},getUpchargesFor:function(t){var r,u;return t.hasDynamicValue()?0:(u=t.valueUsageForValue(this),u&&(r=u.upchargesFor(this)),r==null&&(r=this.upcharges()||0),r)},isFont:function(){var t=this.getData();return t&&t.textConfig&&(t.textConfig.characters||t.textConfig.fontUrl)},customerMaterials:function(){return this.getAndCache("customerMaterials",function(){return this.traverser().outgoing("hasMaterial").instances()})},hasCustomerMaterials:function(){return this.traverser().outgoingSize("hasMaterial")>0}})},attribute_value}var apply_sympathetic_filters,hasRequiredApply_sympathetic_filters;function requireApply_sympathetic_filters(){if(hasRequiredApply_sympathetic_filters)return apply_sympathetic_filters;hasRequiredApply_sympathetic_filters=1;var e=requireLodash();return apply_sympathetic_filters=function(i){var t={},r=i.sympatheticFilters(),u=i.sympatheticSlaves(),s={};e.each(u,function(v){var o,p,l,g,m,y,b,q,S,x,R;p=v.potentialFacetValue(),l=v.facet(),g=v.rule(),m=g.masterAttribute(),y=m.getSelectedOrDefaultValue(),b=y&&y.facetValues()||[],q=g.masters(),S=g.relationshipType(),x={or:e.any,and:e.all}[S],R=x(q,function(A){var E=A.facetValue();return E&&!!e.find(b,{id:E.id})}),o=r[l.id],R&&p?(t[l.id]=p,(!o||o.id!==p.id)&&h(l,p)):o!=null&&h(l,null)});function h(v,o){s[v.id]={f:v,fv:o}}return e.each(s,function(v){i.recipe().notifyFacet([{ca:i,f:v.f,fv:v.fv}])}),i.recipeFilters().sympatheticFilters=t,i},apply_sympathetic_filters}var configurable_attribute,hasRequiredConfigurable_attribute;function requireConfigurable_attribute(){if(hasRequiredConfigurable_attribute)return configurable_attribute;hasRequiredConfigurable_attribute=1;var e=requireApply_sympathetic_filters(),n=requireLodash(),i=requireCommon().RE_LAST_NUMBERS,t=requireDynamic_attribute_value();configurable_attribute=function(g){var m=requireBase()(g),y;return y=function(b){m.call(this,b),this.allFacets()},m.extend({ns:"ca",getData:function(){var b=m.prototype.getData.call(this);return!b.modelComponents&&this.modelComponents().length&&(b.modelComponents=this.modelComponents().map(function(q){return q.getData()})),b.modelComponents&&b.modelComponents.length&&(b.avModelComponents=n.clone(this.avModelComponents()),Object.keys(b.avModelComponents).forEach(function(q){b.avModelComponents[q]=b.avModelComponents[q].map(function(S){return S.getData()})})),b},selectableValues:function(b){var q=this.facetExcludedValues(),S=this.facetFilteredValues(b);return q.length>0?n.difference(S,q):S},activeValues:function(b){var q=b?"activeValuesWithoutVu":"activeValues";return this.getAndCache(q,function(){var S=this,x=this.traverser(S.allValues()).expand().where({active:!0}).sortBy(["priority","id"]).instances();return b?x:n.filter(x,function(R){var A=S.valueUsageForValue(R);return!A||A.getData().active!==!1})})},valuesIgnoringValueUsageOverrides:function(){return this.selectableValues(!0)},allValues:function(){return this.getAndCache("allValues",function(){return this.traverser().outgoing("hasAttributeValue").unique().sortBy(["priority","id"]).instances()})},unsortedValues:function(){return this.getAndCache("unsortedValues",function(){return this.traverser().outgoing("hasAttributeValue").instances()})},legacyUnsortedValues:function(){return this.getAndCache("legacyUnsortedValues",function(){var b=this.traverser().outgoing("hasLegacyDuplicatedAttributeValue").instances();return b.length?b:this.unsortedValues()})},valueById:function(b){return this.traverser().outgoing("hasAttributeValue").where({id:b}).instance()},defaultValue:function(){var b=this.getValueFromMasterAttribute();return b&&!this.findSelectableValue({id:b.id,active:!0})&&(b=null),!b&&!this.isClipartEditor()&&(b=n.first(this.facetFilteredValues()||[])),!b&&this.hasDynamicValue()&&(b=this.getDynamicAttributeValue()),b},findSelectableValue:function(b){return this.traverser(this.selectableValues()).expand().where(b).instance()},subAttributes:function(){return this.traverser().outgoing("hasAttribute").instances()},parentAttributes:function(){return this.traverser().incoming("hasAttribute",!0).where({ns:"ca"}).instances().reverse()},valuesWithFacetValue:function(b,q){return n.filter(this.allValues(),function(S){return S.hasFacetValue(b,q)})},isSubAttribute:function(){return!!this.getData().parentId},hasSubAttributes:function(){return this.traverser().outgoingSize("hasAttribute")>0},hasValues:function(){return this.traverser().outgoingSize("hasAttributeValue")>0},valueUsages:function(){return this.getAndCache("valueUsages",function(){return this.traverser().outgoing("hasValueUsage").instances()})},valueUsageForValue:function(b){return this.getAndCache("valueUsageFor"+b.id,function(){var q=this.valueUsages();return n.find(q,function(S){return S._av===b})||null})},facets:function(){return this.getAndCache("facets",function(){return this.traverser().outgoing("hasFacet").instances()})},sympatheticFacets:function(){return this.getAndCache("sympatheticFacets",function(){return this.traverser().incoming("isSlave").outgoing("isSlave").where({ns:"f"}).unique().instances()})},hiddenFacets:function(){return this.getAndCache("hiddenFacets",function(){return this.traverser().outgoing("hasHiddenFacet").instances()})},invertedHiddenFacets:function(){return this.getAndCache("invertedHiddenFacets",function(){return this.traverser().outgoing("hasInvertedHiddenFacet").instances()})},optionalFacets:function(){return this.getAndCache("optionalFacets",function(){return this.traverser().outgoing("hasOptionalFacet").instances()})},parameterizedFacets:function(){return this.getAndCache("parameterizedFacets",function(){return this.traverser().outgoing("hasParameterizedFacet").instances()})},allFacets:function(){return[].concat(this.facets(),this.hiddenFacets(),this.invertedHiddenFacets(),this.optionalFacets(),this.parameterizedFacets())},sympatheticMatches:function(){return this.getAndCache("sympatheticMatches",function(){return this.traverser().outgoing("hasSympatheticMatch").instances()})},masterSympatheticMatches:function(){return this.getAndCache("masterSympatheticMatches",function(){return this.traverser().incoming("hasSlave").instances()})},masterSympatheticMatchAttributes:function(){return this.getAndCache("masterSympatheticMatchAttributes",function(){return this.traverser().incoming("hasSlave").incoming("hasSympatheticMatch").instances()})},findFacet:function(b){(n.isString(b)||n.isNumber(b))&&(b={id:+b});var q=this.traverser(this.allFacets()).expand().where(b).instance();if(!q)throw new Error("Could not find facet "+JSON.stringify(b)+". Available facets are: "+this.traverser(this.allFacets()).instances());return q},attributeGroup:function(b){return this.getAndCache("attributeGroup"+(b||"-all"),function(){return this.traverser().incoming("hasAttribute",!b).where({ns:"ag"}).instance()})},facetFilteredValues:function(b){var q=this,S=this.sympatheticFilteredValues(b);const x=this.selectedFacetMatchFilters(),R=l(q,this.selectedFacetExcludeFilters(),!0).filter(function(T){return!x[T.f.id]}),A=l(q,x,!1).concat(R);function E(T){return n.all(A,function(I){if(I.isExclude){for(var V=n.values(I.filter),G=0;G<V.length;G+=1)if(T.hasFacetValue(I.f,V[G]))return!1;return!0}else return T.hasFacetValue(I.f,I.filter)})}return S=n.filter(S,E),S},facetExcludedValues:function(){var b=this.invertedHiddenFacets();if(b.length===0)return[];var q=this,S=n.compact(n.map(b,function(x){return q.selectedFacetValue(x)}));return n.reduce(S,function(x,R){return x.concat(R.attributeValues())},[])},setDefaultFacetValues:function(){var b=this.facets(),q=this.selectedFacetMatchFilters(),S=this;n.each(b,function(x){var R=n.first(x.selectableFacetValues(S));R&&(q[x.id]=R)})},setDefaultValue:function(){this.updateSympatheticFilters(),this.setDefaultFacetValues();var b=this.defaultValue();if(b){if(this.hasDynamicValue()){var q=b.getData();b=n.clone(q)}this.recipe().setOne(this,b)}},sympatheticFilteredValues:function(b){var q=this.sympatheticFilters(),S=this.activeValues(b);return Object.keys(q).length>0?n.filter(S,function(x){return n.all(q,function(R,A){return R?x.hasFacetValue(+A,R):!0})}):S},updateSympatheticMatchRelations:function(b){var q=this;n.each(this.sympatheticMatches(),function(S){var x=S.facet(),R=S.slaveAttribute();if(!(!x||!b)){var A=b.facetValuesForFacet(x);o(R,b,x,A[0]||null,S.isExclude(),q.id)}})},updateSympatheticFilters:function(){return e(this),this},updateFacetsFromValue:function(){return n.each(this.facets(),this.updateFacetFromValue,this),this},updateFacetFromValue:function(b){var q=this.selectedValue(),S,x;q||console.error("Could not update "+this+" "+b+" as none of the "+this.selectableValues().length+" available attributes was selected."),q&&b.id&&!p(q,b,this)&&(S=n.first(n.filter(q.facetValues(b),function(R){return q.hasFacetValue(b,R)})),S&&(x=this.selectedFacetMatchFilters()[b.id],this.selectedFacetMatchFilters()[b.id]=S,(!x||x.id!==S.id)&&this.recipe().notifyFacet([{ca:this,f:b,fv:S}])))},selectedFacetValue:function(b){b=b instanceof m?b:this.findFacet(b);var q=b&&this.sympatheticFilters()[b.id]||this.selectedFacetMatchFilters()[b.id];return q&&b.findFacetValue(q)},selectFacetValue:function(b,q){var S=this.selectedValue(),x=this.recipe();return b=b.id&&b||this.findFacet(b),q=b.findFacetValue(q),x.start(),o(this,S,b,q,!1,null),x.commit(),this},sympatheticSlaves:function(){return this.getAndCache("sympatheticSlaves",function(){return this.traverser().incoming("isSlave").instances()})},isSympatheticFilterSlave:function(){return this.getAndCache("isSympatheticFilterSlave",function(){return this.traverser().incomingSize("isSlave")>0})},isSympatheticMatchSlave:function(){return this.getAndCache("isSympatheticMatchSlave",function(){return this.traverser().incomingSize("hasSlave")>0})},slaveAttributes:function(){return this.getAndCache("slaveAttributes",function(){return n.union(this.traverser().outgoing("isSympatheticWith").incoming("hasSympatheticRule").where({ns:"sfs"}).outgoing("isSlave").where({ns:"ca"}).instances(),this.traverser().outgoing("hasSympatheticMatch").where({ns:"sm"}).outgoing("hasSlave").where({ns:"ca"}).instances(),this.traverser().outgoing("isSympatheticWith").where({ns:"ca"}).instances())})},masterAttributes:function(){return this.getAndCache("masterAttributes",function(){return n.union(this.masterFilterAttributes(),this.traverser().incoming("isSympatheticWith").where({ns:"ca"}).instances())})},masterFilterAttributes:function(){return this.getAndCache("masterFilterAttributes",function(){return this.traverser().incoming("isSlave").outgoing("hasSympatheticRule").incoming("isSympatheticWith").unique().instances()})},getValueFromMasterAttribute:function(){var b=this.getAndCache("getValueFromMasterAttribute",function(){return this.traverser().incoming("isSympatheticWith").instance()});if(b)return b.selectedValue()},selectedValue:function(){return this.recipe().getValue(this)},getSelectedOrDefaultValue:function(){return this.selectedValue()||this.defaultValue()},visibilityRules:function(){return this.getAndCache("visibilityRule",function(){return this.traverser().outgoing("hasVisibilityRule").instances()})},isVisible:function(){var b=this.visibilityRules(),q=!0;return b&&n.each(b,function(S){if(!S.isVisible())return q=!1,!1}),q},canBeRendered:function(){function b(q){if(q.hasSelector())return!0;if(q.hasSubAttributes())return n.some(q.subAttributes(),function(S){return b(S)})}return this.getAndCache("canBeRendered",function(){return b(this)})},hasSelector:function(){return this.getData().selectorType!=="none"},isClipartEditor:function(){return this.getData().type==="clipartEditor"},hasDynamicValue:function(){return!!this.getData().isDynamic},getDynamicAttributeValue:function(){return this._dynamicAttributeValue instanceof t||(this._dynamicAttributeValue=new t(this)),this._dynamicAttributeValue},unsetDynamicCache:function(){delete this._dynamicAttributeValue},fontAttribute:function(){var b=this;return this.getAndCache("fontAttr",function(){var q=this.getData().textRelations,S=q&&q.attributes||[],x=n.map(S,function(R){return b.product().attributeById(R.match(i)[1])});return n.find(x,function(R){var A=R.activeValues()[0];return A&&A.isFont&&A.isFont()})})},viewName:function(){var b=this.traverser().outgoing("displaysView").instance(),q;if(b||(q=this.attributeGroup(),q&&(b=q.view())),b)return b.getData().name},updateVisibilityRuleWatchers:function(){var b,q=this.recipe();return q.hasDefaultSet()?(b=this.visibilityRuleWatchers(),n.each(b,function(S){if(S.isVisible()&&!S.selectedValue()){var x=S.defaultValue();x&&q.setOne(S,x)}}),this):this},visibilityRuleWatchers:function(){return this.getAndCache("visibilityRuleWatchers",function(){return[].concat(this.traverser().incoming("isVisibleWhenSameAttribute").incoming("hasVisibilityRule").where({ns:"ca"}).instances(),this.traverser().incoming("isHiddenWhenSameAttribute").incoming("hasVisibilityRule").where({ns:"ca"}).instances())})},recipeFilters:function(){return this.recipe().context().recipeFilters[this.id]},selectedFacetMatchFilters:function(){return this.recipeFilters().selectedFacetMatchFilters},selectedFacetExcludeFilters:function(){return this.recipeFilters().selectedFacetExcludeFilters},sympatheticFilters:function(){return this.recipeFilters().sympatheticFilters},hasSympatheticFilters:function(){return!n.isEmpty(this.sympatheticFilters())},explain:function(){var b=m.prototype.explain.apply(this),q={},S=["viewName","isVisible","masterAttributes","slaveAttributes","isSympatheticFilterSlave","isSubAttribute","hasSubAttributes","getValueFromMasterAttribute","masterFilterAttributes","fontAttribute","isSympatheticMatchSlave","masterSympatheticMatchAttributes","masterSympatheticMatches"];try{q.selectedValue=this.selectedValue(),q.valueUsageForValue=this.valueUsageForValue(q.selectedValue)}catch(x){q.selectedValue={error:x.message}}return n.each(S,function(x){var R;try{R=this[x](),n.isArray(R)&&(R=R.join(", "))}catch(A){R=A.message}q[x]=R},this),b.info=q,b},customerMaterials:function(){return this.getAndCache("customerMaterials",function(){return this.traverser().outgoing("hasMaterial").instances()})},modelComponents:function(){return this.getAndCache("modelComponents",function(){return this.traverser().outgoing("hasCaModelComponent").instances()})},avModelComponents:function(){return this.getAndCache("avModelComponents",function(){var b=this;return this.allValues().reduce(function(q,S){var x=b.modelComponentsForAv(S.id);return x&&x.length&&(q[S.id]=x),q},{})})},modelComponentsForAv:function(b){return this.getAndCache("modelComponentsForAv"+b,function(){return this.traverser().outgoing("hasCaModelComponent").instances().filter(function(q){return q.hasAttributeValue(b)})})},hasCustomerMaterials:function(){return this.traverser().outgoingSize("hasMaterial")>0},dynamicMaterialRelatedCAs:function(){return this.getAndCache("dynamicMaterialRelatedCAs",function(){return this.traverser().outgoing("hasDynamicMaterialRelatedCAs").instances()})},hasDynamicMaterialRelatedCAs:function(){return this.traverser().outgoingSize("hasDynamicMaterialRelatedCAs")>0},fontTextAttribute:function(){return this.getAndCache("fontAttribute",function(){return this.traverser().outgoing("hasFontAttribute").instance()})},fontSizeTextAttribute:function(){return this.getAndCache("fontSizeAttribute",function(){return this.traverser().outgoing("hasFontSizeAttribute").instance()})},colorTextAttribute:function(){return this.getAndCache("colorAttribute",function(){return this.traverser().outgoing("hasColorAttribute").instance()})},stylingTextAttribute:function(){return this.getAndCache("stylingAttribute",function(){return this.traverser().outgoing("hasStylingAttribute").instance()})},textAlignmentTextAttribute:function(){return this.getAndCache("textAlignmentAttribute",function(){return this.traverser().outgoing("hasTextAlignmentAttribute").instance()})},baselineTextAttribute:function(){return this.getAndCache("baselineAttribute",function(){return this.traverser().outgoing("hasBaselineAttribute").instance()})},fontTextAttributeValue:function(){return this.getAndCache("fontAttributeValue",function(){return this.traverser().outgoing("hasFontAttributeValue").instance()})}},y)};function r(g,m,y){var b=g.recipe();b.notifyFacet([{ca:g,f:m,fv:y}])}function u(g,m,y){return y?!1:(m.isOptional(g)||m.isHidden(g))&&g.selectableValues().length===0}function s(g,m,y,b,q){var S;if(q){const x=g.selectedValue(),R=x&&x.hasFacetValue(y,b);S=!x||R}else{const x=m&&m.hasFacetValue(y,b);S=!m||!x}S&&(v(g),u(g,y,b)&&h(g,y,q))}function h(g,m,y){y?g.selectedFacetExcludeFilters()[m.id]=null:g.selectedFacetMatchFilters()[m.id]=null}function v(g){var m=n.first(g.selectableValues());m&&g.recipe().setOne(g,m)}function o(g,m,y,b,q,S){var x,R;q?(x=g.selectedFacetExcludeFilters(),R=(x[y.id]||{})[S],x[y.id]||(x[y.id]={}),x[y.id][S]=b):(x=g.selectedFacetMatchFilters(),R=x[y.id],x[y.id]=b),(!R||!b||R.id!==b.id)&&r(g,y,b),s(g,m,y,b,q)}function p(g,m,y){var b=y.selectedFacetMatchFilters();return b[m.id]&&g.hasFacetValue({id:m.id},b[m.id])}function l(g,m,y){return n.reduce(m,function(b,q,S){if(!q)return b;var x=g.findFacet(S);return x.isInverted(g)||b.push({f:x,filter:q,isExclude:y}),b},[])}return configurable_attribute}var facet,hasRequiredFacet;function requireFacet(){if(hasRequiredFacet)return facet;hasRequiredFacet=1;var e=requireLodash();return facet=function(n){var i=requireBase()(n);function t(r){i.call(this,r),this.facetValues()}return i.extend({ns:"f",facetValues:function(){return this.getAndCache("facetValues",function(){var r=this,u=this.traverser().outgoing("hasFacetValue").expand().sortBy("order").instances();return e.each(u,function(s){s._facet=r}),u})},selectableFacetValues:function(r){var u=this;return this.getAndCache("selectableFVs"+r.id,function(){var s=e.reduce(r.unsortedValues(),function(h,v){for(var o=v.facetValuesForFacet(u),p,l=0,g=o.length;l<g;l+=1)p=o[l],h[p.id]=p;return h},{});return e.sortBy(e.values(s),function(h){return h.getData().order})})},findFacetValue:function(r){return(e.isString(r)||e.isNumber(r))&&(r={id:+r}),this.traverser(this.facetValues()).expand().where(r).instance()},isOptional:function(){return this.getAndCache("isOptional",function(){return this.traverser().incomingSize("hasOptionalFacet")>0})},isHidden:function(){var r=this;return this.getAndCache("isHidden",function(){var u=r.traverser().incomingSize("hasHiddenFacet")>0,s=r.traverser().incomingSize("hasInvertedHiddenFacet")>0;return u||s})},isInverted:function(r){return this.getAndCache("isInverted-"+r.id,function(){return this.traverser().incomingSize("hasInvertedHiddenFacet")>0})},toJSON:function(){var r=this.clone();if(r)return r.values=this.facetValues().map(function(u){return{id:u.id}}),r}},t)},facet}var facet_value,hasRequiredFacet_value;function requireFacet_value(){return hasRequiredFacet_value||(hasRequiredFacet_value=1,facet_value=function(e){var n=requireBase()(e);return n.extend({ns:"fv",attributeValues:function(){return this.getAndCache("attributeValues",function(){return this.traverser().incoming("hasFacetValue").where({ns:"av"}).expand().sortBy("priority").instances()})},facet:function(){return this._facet||(this._facet=this.traverser().incoming("hasFacetValue").where({ns:"f"}).first()),this._facet}})}),facet_value}var attribute_group,hasRequiredAttribute_group;function requireAttribute_group(){return hasRequiredAttribute_group||(hasRequiredAttribute_group=1,attribute_group=function(e){var n=requireBase()(e);return n.extend({ns:"ag",attributes:function(){var i=this;return this.getAndCache("attributes",function(){return i.traverser().outgoing("hasAttribute").instances()})},view:function(){var i=this;return this.getAndCache("view",function(){return i.traverser().outgoing("displaysView").instance()})}})}),attribute_group}var view,hasRequiredView;function requireView(){return hasRequiredView||(hasRequiredView=1,view=function(e){var n=requireBase()(e);return n.extend({ns:"view"})}),view}var value_usage,hasRequiredValue_usage;function requireValue_usage(){return hasRequiredValue_usage||(hasRequiredValue_usage=1,value_usage=function(e){var n=requireBase()(e);function i(t){n.call(this,t),this._av=this.attributeValue()}return n.extend({ns:"vu",attributeValue:function(){return this.traverser().outgoing("usesValue").instance()},upchargeFor:function(t,r){var u=this.traverser().outgoing("usesValue").instance(),s;return u.id===t.id&&(s=this.traverser().outgoing("upcharges").instance(),s)?s.getData()[r]:null},upchargesFor:function(t){var r=this.traverser().outgoing("usesValue").instance(),u;return r.id===t.id&&(u=this.traverser().outgoing("upcharges").instance(),u)?u.getData():null},viewName:function(){var t=this.traverser().outgoing("displaysView").instance(),r;if(t)return r=t.getData().name,r}},i)}),value_usage}var visibility_rule,hasRequiredVisibility_rule;function requireVisibility_rule(){if(hasRequiredVisibility_rule)return visibility_rule;hasRequiredVisibility_rule=1;var e=requireLodash();const n={EQUAL_AV:"EQUAL_AV",EXCLUDE_AV:"EXCLUDE_AV",EQUAL_F:"EQUAL_F",EXCLUDE_F:"EXCLUDE_F"};function i(r,u){u.ca=r.traverser().outgoing("hasFacetVisibilityRule").instance(),u.type===n.EQUAL_F?(u.el=r.traverser().outgoing("isVisibleWhenSameFacet").instance(),u.value=r.traverser().outgoing("isVisibleWhenSameFacetValue").instance()):u.type===n.EXCLUDE_F&&(u.el=r.traverser().outgoing("isHiddenWhenSameFacet").instance(),u.value=r.traverser().outgoing("isHiddenWhenSameFacetValue").instance())}function t(r,u){u.type===n.EQUAL_AV?(u.ca=u.el=r.traverser().outgoing("isVisibleWhenSameAttribute").instance(),u.value=r.traverser().outgoing("isVisibleWhenSameAttributeValue").instance()):u.type===n.EXCLUDE_AV&&(u.ca=u.el=r.traverser().outgoing("isHiddenWhenSameAttribute").instance(),u.value=r.traverser().outgoing("isHiddenWhenSameAttributeValue").instance())}return visibility_rule=function(r){var u=requireBase()(r);return u.extend({ns:"vr",affectedAttributes:function(){var s=this;return this.getAndCache("affectedAttributes",function(){return s.traverser().incoming("hasVisibilityRule").instances()})},explain:function(){var s=u.prototype.explain.apply(this),h=this.affectedAttributes(),v=this.ruleMembers(),o="",p=this.isExcludeRule();return o+=e.map(h,String).join(", "),s.description=o+(h.length>1?" are":" is")+" only available when "+v.el+" on "+v.ca+" "+(p?"does not have":"has")+" the value "+v.value,s},isVisible:function(){var s=this.ruleMembers();if(!s.ca)return!1;const h=s.ca.selectedValue();if(!h)return!1;switch(s.type){case n.EQUAL_AV:return h===s.value;case n.EXCLUDE_AV:return h!==s.value;case n.EQUAL_F:return h.hasFacetValue(s.el,s.value);case n.EXCLUDE_F:return!h.hasFacetValue(s.el,s.value);default:return!1}},ruleMembers:function(){var s=this;return this.getAndCache("ruleMembers",function(){var h={};const v=s.getVisibilityRuleType();return h.type=v,v===n.EQUAL_F||v===n.EXCLUDE_F?i(s,h):(v===n.EQUAL_AV||v===n.EXCLUDE_AV)&&t(s,h),h})},getVisibilityRuleType:function(){var s=this;return this.getAndCache("getVisibilityRuleType",function(){if(!!s.traverser().outgoing("hasFacetVisibilityRule").instance())return!!s.traverser().outgoing("isVisibleWhenSameFacet").instance()?n.EQUAL_F:n.EXCLUDE_F;const v=!!s.traverser().outgoing("isVisibleWhenSameAttribute").instance(),o=!!s.traverser().outgoing("isHiddenWhenSameAttribute").instance();return!v&&!o||v?n.EQUAL_AV:n.EXCLUDE_AV})},isExcludeRule:function(){var s=this;return this.getAndCache("isExcludeRule",function(){const h=s.getVisibilityRuleType();return h===n.EXCLUDE_F||h===n.EXCLUDE_AV})}})},visibility_rule}var sympathetic_filter,hasRequiredSympathetic_filter;function requireSympathetic_filter(){return hasRequiredSympathetic_filter||(hasRequiredSympathetic_filter=1,sympathetic_filter=function(e){var n=requireBase()(e);return n.extend({ns:"sf",masterAttribute:function(){var i=this;return this.getAndCache("masterCA",function(){return i.traverser().incoming("isSympatheticWith").instance()})},masters:function(){var i=this;return this.getAndCache("masterFVs",function(){return i.traverser().incoming("hasSympatheticRule").where({ns:"sfm"}).instances()})},relationshipType:function(){return this.getData().relationship||"or"}})}),sympathetic_filter}var sympathetic_filter_slave,hasRequiredSympathetic_filter_slave;function requireSympathetic_filter_slave(){return hasRequiredSympathetic_filter_slave||(hasRequiredSympathetic_filter_slave=1,sympathetic_filter_slave=function(e){var n=requireBase()(e);return n.extend({ns:"sfs",facet:function(){return this.traverser().outgoing("isSlave").where({ns:"f"}).instance()},potentialFacetValue:function(){return this.traverser().outgoing("isSlave").where({ns:"fv"}).instance()},rule:function(){return this.traverser().outgoing("hasSympatheticRule").instance()}})}),sympathetic_filter_slave}var sympathetic_filter_master,hasRequiredSympathetic_filter_master;function requireSympathetic_filter_master(){return hasRequiredSympathetic_filter_master||(hasRequiredSympathetic_filter_master=1,sympathetic_filter_master=function(e){var n=requireBase()(e);return n.extend({ns:"sfm",facetValue:function(){return this.traverser().outgoing("isMaster").where({ns:"fv"}).instance()}})}),sympathetic_filter_master}var sympathetic_match,hasRequiredSympathetic_match;function requireSympathetic_match(){return hasRequiredSympathetic_match||(hasRequiredSympathetic_match=1,sympathetic_match=function(e){var n=requireBase()(e);return n.extend({ns:"sm",facet:function(){var i=this;return this.getAndCache("facet",function(){return i.traverser().outgoing("hasFacet").instance()})},slaveAttribute:function(){var i=this;return this.getAndCache("slaveAttribute",function(){return i.traverser().outgoing("hasSlave").instance()})},isExclude:function(){var i=this;return this.getAndCache("isExclude",function(){return i.getData().operation==="exclude"})}})}),sympathetic_match}var metadata,hasRequiredMetadata;function requireMetadata(){if(hasRequiredMetadata)return metadata;hasRequiredMetadata=1;var e=requireLodash();return metadata=function(n){var i=requireBase()(n);return i.extend({ns:"md",vertex:function(){var t=this.traverser().incoming("hasMetadata").instances();return e.map(t,function(r){return{ns:r.ns,id:r.id,vertexKey:r.getData().vertexKey}})}})},metadata}var configurable_product,hasRequiredConfigurable_product;function requireConfigurable_product(){if(hasRequiredConfigurable_product)return configurable_product;hasRequiredConfigurable_product=1;var e=requireLodash();return configurable_product=function(n){var i=requireBase()(n);return i.extend({ns:"p",rootAttributes:function(){return this.traverser().outgoing("hasAttribute").instances()},findAttribute:function(t){return this.find({relationship:"hasAttribute",query:t,recursive:!0}).where({ns:"ca"}).instance()},attributeById:function(t){return this.traverser().getVertexByKey("ca:"+t)},facetById:function(t){return this.traverser().getVertexByKey("f:"+t)},vertexByKey:function(t){return this.traverser().getVertexByKey(t)},allAttributes:function(){return this.traverser().outgoing("hasAttribute",!0).instances()},getTextAttributes:function(){return e.filter(this.getDynamicAttributes(),function(t){var r=t.getDynamicAttributeValue(),u=r.getData();return e.has(u,"text")})},getDynamicAttributes:function(){var t=this;return this.getAndCache("dynamicAttributes",function(){return e.filter(t.allAttributes(),function(r){return r.hasDynamicValue()})})},getViewsForPurpose:function(t){var r=this.traverser().outgoing("hasPurpose").where({name:t}).instance();if(!r)throw new Error("Purpose '"+t+"' is not defined for the product");return r.traverser().outgoing("hasPurposeView").all().map(function(u){return u.name}).sort()},nonSympatheticSlaveAttributes:function(){return e.filter(this.allAttributes(),function(t){return!(t.isSympatheticFilterSlave()||t.isSympatheticMatchSlave())})},nonSelectableAttributes:function(){return e.filter(this.allAttributes(),function(t){return!t.hasSelector()})},hasAttributeGroups:function(){return this.traverser().outgoingSize("hasAttributeGroup")>0},attributeGroups:function(){return this.traverser().outgoing("hasAttributeGroup").instances()},setRecipe:function(t){return this.recipe().set(t)},defaultViewName:function(){var t=this.traverser().outgoing("displaysView").instance();if(t)return t.getData().name},price:function(t){if(!e.contains(this.availableCurrencies(),t))throw new Error('The currency "'+t+'" is not available for the product '+this.id+". Valid currencies are: "+this.availableCurrencies().join(", "));var r=this.getData().priceConfiguration,u=r.basePrice,s=r.savePrice;return e.isObject(u)&&(u=u[t]),e.isObject(s)&&(s=s[t]),+u-+s},availableCurrencies:function(){var t=this;return this.getAndCache("currencies",function(){return t.getData().currencies})||[]},defaultCurrency:function(){var t=this;return this.getAndCache("defaultCurrency",function(){return t.getData().currencySettings.default})},currencySettings:function(t){var r=this;return t=t||this.defaultCurrency(),this.getAndCache("settingsForCurrency"+t,function(){var u=r.getData().currencySettings.symbols[t];if(!u)throw new Error("Could not find settings for the currency "+t+". The following currencies are available on this product: "+r.availableCurrencies().join(", "));return u})},facets:function(){return this.traverser().outgoing("hasCustomFacets").instances()},updateSympatheticFilters:function(){e.each(this.allAttributes(),function(t){t.hasSympatheticFilters()&&t.updateSympatheticFilters()})},recipeUrlTemplate:function(){var t=this;return this.getAndCache("recipeUrlTemplate",function(){return t.getData().recipeUrlTemplate})},unsetDynamicCaDefaults:function(){e.each(this.allAttributes(),function(t){t.hasDynamicValue()&&t.unsetDynamicCache()})},hasWebGlModels:function(){return this.traverser().outgoingSize("hasModel")>0},webGlModels:function(){return this.getAndCache("webGlModels",function(){return this.traverser().outgoing("hasModel").instances()})},webGlLoadingStrategies:function(t){if(!t)return this.getAndCache("webGlLoadingStrategies",function(){return this.traverser().outgoing("hasLoadStrategy").instances()});var r=t;return(e.isString(t)||e.isNumber(t))&&(r={id:+t}),this.find({relationship:"hasLoadStrategy",query:r}).where({ns:"wload"}).instances()},webGlModelLods:function(t){return t?this.webGlModels().reduce(function(r,u){return r.concat(u.findLod(t)).filter(function(s){return!!s})},[]):this.getAndCache("productWebGlModelLods",function(){return this.webGlModels().reduce(function(r,u){return r.concat(u.lods())},[])})},webGlLodResolutions:function(t){return t?this.webGlLoadingStrategies().reduce(function(r,u){return r.concat(u.findLodResolution(t)).filter(function(s){return!!s})},[]):this.getAndCache("productWebGlLodResolutions",function(){return this.webGlLoadingStrategies().reduce(function(r,u){return r.concat(u.lodResolutions())},[])})},findWebGlLodStrategy:function(t){var r=t;return(e.isString(t)||e.isNumber(t))&&(r={id:+t}),this.find({relationship:"hasLoadStrategy",query:r}).where({ns:"wload"}).instance()},findWebGlModel:function(t){var r=t;return(e.isString(t)||e.isNumber(t))&&(r={id:+t}),this.find({relationship:"hasModel",query:r}).where({ns:"wm"}).instance()},hasWebGlMaterials:function(){return this.traverser().outgoingSize("hasMaterial")>0},webGlMaterials:function(){return this.getAndCache("webGlMaterials",function(){return this.traverser().outgoing("hasMaterial").instances()})},findWebGlMaterial:function(t){var r=t;return(e.isString(t)||e.isNumber(t))&&(r={id:+t}),this.find({relationship:"hasMaterial",query:r}).where({ns:"wma"}).instance()},hasWebGlExtraSettings:function(){return!!this.getData().webGlExtraSettings},getWebGlExtraSettings:function(){return this.getData().webGlExtraSettings||null},hasAdvancedRenderingSettings:function(){return!!this.getData().advancedRenderingSettings},getAdvancedRenderingSettings:function(){return this.getData().advancedRenderingSettings||null},hasWebGlEnvironment:function(){return this.traverser().outgoingSize("hasWebGlEnvironment")>0},webGlEnvironment:function(){return this.getAndCache("webGlEnvironment",function(){return this.traverser().outgoing("hasWebGlEnvironment").instance()})}})},configurable_product}var purpose,hasRequiredPurpose;function requirePurpose(){return hasRequiredPurpose||(hasRequiredPurpose=1,purpose=function(e){var n=requireBase()(e);return n.extend({ns:"pp"})}),purpose}var purposeView,hasRequiredPurposeView;function requirePurposeView(){return hasRequiredPurposeView||(hasRequiredPurposeView=1,purposeView=function(e){var n=requireBase()(e);return n.extend({ns:"ppV"})}),purposeView}var productFacet,hasRequiredProductFacet;function requireProductFacet(){if(hasRequiredProductFacet)return productFacet;hasRequiredProductFacet=1;var e=requireLodash();return productFacet=function(n){var i=requireBase()(n);function t(r){i.call(this,r)}return i.extend({ns:"pf",facetValues:function(){return this.getAndCache("facetValues",function(){var r=this.traverser().outgoing("hasFacetValue").expand().sortBy("order").instances();return e.each(r,function(u){u._facet=u.facet()}),r})},facet:function(){return this.getAndCache("facet",function(){return this.traverser().outgoing("hasFacet").instance()})}},t)},productFacet}var webgl_model,hasRequiredWebgl_model;function requireWebgl_model(){if(hasRequiredWebgl_model)return webgl_model;hasRequiredWebgl_model=1;const e=requireLodash();return webgl_model=function(n){var i=requireBase()(n);function t(r){i.call(this,r)}return i.extend({ns:"wm",hasModelComponents:function(){return this.traverser().outgoingSize("hasModelComponent")>0},modelComponents:function(){return this.getAndCache("modelComponents",function(){return this.traverser().outgoing("hasModelComponent").instances()})},lods:function(){return this.getAndCache("lods",function(){return this.traverser().outgoing("hasModelLod").instances()})},findLod:function(r){var u=r;return(e.isString(r)||e.isNumber(r))&&(u={id:+r}),this.find({relationship:"hasModelLod",query:u}).instance()},resolutions:function(){return this.getAndCache("resolutions",function(){return this.traverser().outgoing("hasModelLod").incoming("hasModelLod").where({ns:"wplod"}).outgoing("hasLodResolution").unique().instances()})},customerMaterial:function(){return this.getAndCache("customerMaterial",function(){return this.traverser().outgoing("hasMaterial").instance()})}},t)},webgl_model}var webgl_model_component,hasRequiredWebgl_model_component;function requireWebgl_model_component(){return hasRequiredWebgl_model_component||(hasRequiredWebgl_model_component=1,webgl_model_component=function(e){var n=requireBase()(e);function i(t){n.call(this,t)}return n.extend({ns:"wmc",customerMaterial:function(){return this.getAndCache("customerMaterial",function(){return this.traverser().outgoing("hasMaterial").instance()})}},i)}),webgl_model_component}var configurable_attribute_model_component,hasRequiredConfigurable_attribute_model_component;function requireConfigurable_attribute_model_component(){return hasRequiredConfigurable_attribute_model_component||(hasRequiredConfigurable_attribute_model_component=1,configurable_attribute_model_component=function(e){var n=requireBase()(e);function i(t){n.call(this,t)}return n.extend({ns:"camc",hasAttributeValue:function(t){return this.getAndCache("hasAttributeValue"+t,function(){return this.traverser().incoming("hasCaModelComponent").where({id:t,ns:"av"}).instances().length>0})}},i)}),configurable_attribute_model_component}var webgl_customer_material,hasRequiredWebgl_customer_material;function requireWebgl_customer_material(){return hasRequiredWebgl_customer_material||(hasRequiredWebgl_customer_material=1,webgl_customer_material=function(e){var n=requireBase()(e);function i(t){n.call(this,t)}return n.extend({ns:"wma",platformMaterial:function(){return this.getAndCache("platformMaterial",function(){return this.traverser().outgoing("basedOnPlatformMaterial").instance()})}},i)}),webgl_customer_material}var webgl_platform_material,hasRequiredWebgl_platform_material;function requireWebgl_platform_material(){return hasRequiredWebgl_platform_material||(hasRequiredWebgl_platform_material=1,webgl_platform_material=function(e){var n=requireBase()(e);function i(t){n.call(this,t)}return n.extend({ns:"wpma"},i)}),webgl_platform_material}var webgl_model_lod,hasRequiredWebgl_model_lod;function requireWebgl_model_lod(){return hasRequiredWebgl_model_lod||(hasRequiredWebgl_model_lod=1,webgl_model_lod=function(e){var n=requireBase()(e);function i(t){n.call(this,t)}return n.extend({ns:"wmlod",webGlModel:function(){return this.getAndCache("webGlModel",function(){return this.traverser().incoming("hasModelLod").where({ns:"wm"}).instance()})},loadingStrategy:function(){return this.getAndCache("loadingStrategy",function(){return this.traverser().incoming("hasModelLod").where({ns:"wplod"}).incoming("hasModelLodResolution").where({ns:"wload"}).instance()})},lodResolutions:function(){return this.getAndCache("lodResolutions",function(){return this.traverser().incoming("hasModelLod").where({ns:"wplod"}).outgoing("hasLodResolution").where({ns:"lod"}).instances()})}},i)}),webgl_model_lod}var webgl_loading_strategy,hasRequiredWebgl_loading_strategy;function requireWebgl_loading_strategy(){if(hasRequiredWebgl_loading_strategy)return webgl_loading_strategy;hasRequiredWebgl_loading_strategy=1;const e=requireLodash();return webgl_loading_strategy=function(n){var i=requireBase()(n);function t(r){i.call(this,r)}return i.extend({lodResolutions:function(){return this.getAndCache("lodResolutions",function(){return this.traverser().outgoing("hasModelLodResolution").outgoing("hasLodResolution").unique().instances()})},findLodResolution:function(r){var u=r;return(e.isString(r)||e.isNumber(r))&&(u={id:+r}),this.traverser().outgoing("hasModelLodResolution").outgoing("hasLodResolution").where(u).instance()},modelLods:function(){return this.getAndCache("modelLods",function(){return this.traverser().outgoing("hasModelLodResolution").outgoing("hasModelLod").unique().instances()})},findModelLodsByResolution:function(r){var u=r;(e.isString(r)||e.isNumber(r))&&(u={id:+r});const s=[];return this.traverser().outgoing("hasModelLodResolution").instances().filter(function(h){var v=h.lodResolution();return v?e.matches(u)(v.getData()):!1}).forEach(function(h){h.modelLods().forEach(function(v){s.push(v)})}),s},ns:"wload"},t)},webgl_loading_strategy}var webgl_lod_resolution,hasRequiredWebgl_lod_resolution;function requireWebgl_lod_resolution(){if(hasRequiredWebgl_lod_resolution)return webgl_lod_resolution;hasRequiredWebgl_lod_resolution=1;const e=requireLodash();return webgl_lod_resolution=function(n){var i=requireBase()(n);function t(r){i.call(this,r)}return i.extend({ns:"lod",modelLodsForStrategy:function(r){var u=r;return(e.isString(r)||e.isNumber(r))&&(u={id:+r}),this.traverser().incoming("hasLodResolution").where({ns:"wplod"}).outgoing("hasModelLod").instances().filter(function(h){return e.matches(u)(h.loadingStrategy())})}},t)},webgl_lod_resolution}var webgl_product_lod_resolution,hasRequiredWebgl_product_lod_resolution;function requireWebgl_product_lod_resolution(){return hasRequiredWebgl_product_lod_resolution||(hasRequiredWebgl_product_lod_resolution=1,webgl_product_lod_resolution=function(e){var n=requireBase()(e);function i(t){n.call(this,t)}return n.extend({lodResolution:function(){return this.getAndCache("lodResolution",function(){return this.traverser().outgoing("hasLodResolution").instance()})},modelLods:function(){return this.getAndCache("modelLod",function(){return this.traverser().outgoing("hasModelLod").instances()})},ns:"wplod"},i)}),webgl_product_lod_resolution}var webgl_environment,hasRequiredWebgl_environment;function requireWebgl_environment(){return hasRequiredWebgl_environment||(hasRequiredWebgl_environment=1,webgl_environment=function(e){var n=requireBase()(e);function i(t){n.call(this,t)}return n.extend({ns:"wenv",camera:function(){return this.getAndCache("camera",function(){return this.traverser().outgoing("hasWebGlEnvironmentCamera").instance()})},hdrBackground:function(){return this.getAndCache("hdrBackground",function(){return this.traverser().outgoing("hasWebGlHdrBackground").instance()})},cameraViews:function(){return this.getAndCache("cameraViews",function(){return this.traverser().outgoing("hasWebGlEnvironmentCameraView").instances()})}},i)}),webgl_environment}var webgl_environment_camera,hasRequiredWebgl_environment_camera;function requireWebgl_environment_camera(){return hasRequiredWebgl_environment_camera||(hasRequiredWebgl_environment_camera=1,webgl_environment_camera=function(e){var n=requireBase()(e);function i(t){n.call(this,t)}return n.extend({ns:"wcam"},i)}),webgl_environment_camera}var webgl_hdr_background,hasRequiredWebgl_hdr_background;function requireWebgl_hdr_background(){return hasRequiredWebgl_hdr_background||(hasRequiredWebgl_hdr_background=1,webgl_hdr_background=function(e){var n=requireBase()(e);function i(t){n.call(this,t)}return n.extend({ns:"whdr"},i)}),webgl_hdr_background}var webgl_environment_camera_view,hasRequiredWebgl_environment_camera_view;function requireWebgl_environment_camera_view(){return hasRequiredWebgl_environment_camera_view||(hasRequiredWebgl_environment_camera_view=1,webgl_environment_camera_view=function(e){var n=requireBase()(e);function i(t){n.call(this,t)}return n.extend({ns:"wcmv"},i)}),webgl_environment_camera_view}var map,hasRequiredMap;function requireMap(){if(hasRequiredMap)return map;hasRequiredMap=1;var e=requireLodash();return map=function(n){var i={base:requireBase()(n),av:requireAttribute_value()(n),ca:requireConfigurable_attribute()(n),f:requireFacet()(n),fv:requireFacet_value()(n),ag:requireAttribute_group()(n),view:requireView()(n),vu:requireValue_usage()(n),vr:requireVisibility_rule()(n),sf:requireSympathetic_filter()(n),sfs:requireSympathetic_filter_slave()(n),sfm:requireSympathetic_filter_master()(n),sm:requireSympathetic_match()(n),md:requireMetadata()(n),p:requireConfigurable_product()(n),pp:requirePurpose()(n),ppV:requirePurposeView()(n),pf:requireProductFacet()(n),wm:requireWebgl_model()(n),wmc:requireWebgl_model_component()(n),camc:requireConfigurable_attribute_model_component()(n),wma:requireWebgl_customer_material()(n),wpma:requireWebgl_platform_material()(n),wmlod:requireWebgl_model_lod()(n),wload:requireWebgl_loading_strategy()(n),lod:requireWebgl_lod_resolution()(n),wplod:requireWebgl_product_lod_resolution()(n),wenv:requireWebgl_environment()(n),wcam:requireWebgl_environment_camera()(n),whdr:requireWebgl_hdr_background()(n),wcmv:requireWebgl_environment_camera_view()(n)},t=e.keys(i),r=n.graph&&e.keys(n.graph().vertexNsIndex)||[],u=e.difference(r,t);return e.each(u,function(s){i[s]=i.base.extend({ns:s})}),i},map}var hasRequiredContext;function requireContext(){if(hasRequiredContext)return context.exports;hasRequiredContext=1;var e={},n,i=requireLodash(),t=requireTraverser(),r=requireExpander(),u=requireRecipe();function s(v){var o,p,l={},g={},m,y,b,q,S=v&&v.engineId,x={};if(n(v),b=r(v.graph),e[S])return e[S];function R(){throw new Error("The context "+S+" has been destroyed and can no longer be used.")}function A(){return v||R(),b}function E(I){if(!o[I])throw new Error('Unknown graph namespace "'+I+'"');return o[I]}g.recipeData={},g.recipeFilters={},g.vertexInstance=function(I){var V;if(o||R(),I.getAndCache)return I;if(!I||!I.vertexKey)throw new Error("Missing vertexKey for instantiating "+JSON.stringify(I));var G=I.vertexKey,Q=l[G];return Q||(I=h(I),V=E(I.ns),Q=l[G]=new V({id:I.id})),Q},g.setGraph=function(I){b=r(I)},g.createTraverser=function(){var I;return q||(I=t({graph:A,context:g}),q=new I),q},g.setProduct=function(I){var V=I.getVertexKey();l[V]=I,m=I},g.product=function(){var I;return m||(I={id:v.id||b.vertices[0].id,ns:"p"},I.vertexKey="p:"+I.id,g.setProduct(g.vertexInstance(I))),m},g.recipe=function(I){return y||g.newRecipe(I)},g.newRecipe=function(I){return g.createRecipeModel(),y=new p(g,S),I!==!1&&y.setDefault(),y},g.createRecipeModel=function(){return p||(p=u(v)),p},g.getAndCache=function(I,V,G){var Q=I.getVertexKey()+"|"+V,k=x[Q];return k===void 0&&(x[Q]=k=G.call(I)),k},g.destroy=function(){try{var I=g.recipe(!1);I.off(),I.destroy()}catch{}g.recipeData={},g.recipeFilters={},g.clearCache(),e[S]=null,b=null,q=null,m=null,y=null,o=null,p=null,v=null},g.clearCache=function(){x={},l={}},g.contexts=function(){return e},g.engineId=function(){return(v||{}).engineId},g.engineIds=function(){return Object.keys(e)},g.setOptions=function(I){if(v)throw new Error("You first need to destroy a context before setting new options.");v=I,n(v),b=r(v.graph),T()},g.setDefaultRecipeFilters=function(){g.recipeFilters=g.product().allAttributes().reduce(function(I,V){return I[V.id]={selectedFacetMatchFilters:{},selectedFacetExcludeFilters:{},sympatheticFilters:{}},I},{})},g.explain=function(I){var V=h({vertexKey:I});return g.vertexInstance(V).explain()},v.engineId&&(e[v.engineId]=g);function T(){o=requireMap()({graph:A,engineId:S,context:g})}return T(),v.context=g,g.setDefaultRecipeFilters(),g}n=function(v){if(!v)throw new Error("No options supplied for the configuration-engine context");if(!v.graph)throw new Error("Missing graph on configuration-engine context options");if(!v.engineId)throw new Error("Missing engineId on configuration-engine context options")},context.exports=s,context.exports.flushAll=function(){i.each(e,function(v,o){try{v.destroy()}catch{}delete e[o]}),e={}},context.exports.engineIds=function(){return Object.keys(e)},context.exports.contexts=function(){return e};function h(v){var o=v.vertexKey&&v.vertexKey.split(":");return v.ns=v.ns||o[0],v.id=v.id||+o[1],v}return context.exports}var config,hasRequiredConfig;function requireConfig(){if(hasRequiredConfig)return config;hasRequiredConfig=1;var e={};const n=e.CONFIGUREID_ENGINE_CACHE_SIZE,i=e.CONFIGUREID_ENGINE_CACHE_FLUSH_ENABLED;return config={engineCacheSize:+n||50,engineCacheFlushEnabled:i==="true"},config}var hasRequiredConfiguration_engine;function requireConfiguration_engine(){if(hasRequiredConfiguration_engine)return configuration_engine.exports;hasRequiredConfiguration_engine=1;const e=requireLodash(),n=requireContext(),i=requireConfig().engineCacheFlushEnabled,t=requireConfig().engineCacheSize,r=n.flushAll,u=n.engineIds,s=n.contexts;function h(o){if(!(typeof o.engineCacheFlushEnabled<"u"?o.engineCacheFlushEnabled:i))return;const l=typeof o.engineCacheSize<"u"?o.engineCacheSize:t;u().length>l&&r()}function v(o){if(!o||!o.vertices||!o.edgeGroups)throw new Error("The configuration-engine expects a graph configuration.")}return configuration_engine.exports=function(o,p){return h(p||{}),v(o),n(e.defaults({},p||{},{graph:o,engineId:"fc-configuration-engine-"+e.uniqueId()}))},configuration_engine.exports.flushAll=r,configuration_engine.exports.engineIds=u,configuration_engine.exports.contexts=s,configuration_engine.exports}var lib,hasRequiredLib;function requireLib(){if(hasRequiredLib)return lib;hasRequiredLib=1;var e=requireLodash(),n=requireConfigurationLoader(),i=n.productGraph,t=requireApi(),r=requireClone_changes(),u=requireGraph_modifications(),s=requireConfiguration_engine(),h=requireLoad_recipe(),v=requireSet_environment_params();function o(p,l,g){var m=JSON.parse(JSON.stringify(l));u(p,m);var y=s(m);if(p=e.omit(p,"productGraph"),p.recipeId){p=e.omit(p,"skipSettingAsDefault");var b=h(y,p);b(p.recipeId,p,function(q,S){var x=t(p,y);if(g(q,x),!q){var R=r(y.recipe().getData());e.defer(function(){x.trigger("recipe:loaded",R,S)})}})}else g(null,t(p,y))}return lib=function(l,g){if(l=v(l),!e.isFunction(g))throw new Error("configure-core expects a callback");if(l&&l.productGraph)return o(l,l.productGraph,g);i(l,function(m,y){if(m)return g(m);o(l,y,g)})},lib}export{getDefaultExportFromCjs$1 as g,process$1 as p,requireLib as r};
